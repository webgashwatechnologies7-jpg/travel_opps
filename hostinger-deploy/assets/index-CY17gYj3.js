var XO=Object.defineProperty;var ZO=(e,t,r)=>t in e?XO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fh=(e,t,r)=>ZO(e,typeof t!="symbol"?t+"":t,r);function JO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oS={exports:{}},Pf={},cS={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=Symbol.for("react.element"),eE=Symbol.for("react.portal"),tE=Symbol.for("react.fragment"),rE=Symbol.for("react.strict_mode"),nE=Symbol.for("react.profiler"),aE=Symbol.for("react.provider"),sE=Symbol.for("react.context"),iE=Symbol.for("react.forward_ref"),lE=Symbol.for("react.suspense"),oE=Symbol.for("react.memo"),cE=Symbol.for("react.lazy"),Bb=Symbol.iterator;function dE(e){return e===null||typeof e!="object"?null:(e=Bb&&e[Bb]||e["@@iterator"],typeof e=="function"?e:null)}var dS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uS=Object.assign,mS={};function Rl(e,t,r){this.props=e,this.context=t,this.refs=mS,this.updater=r||dS}Rl.prototype.isReactComponent={};Rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fS(){}fS.prototype=Rl.prototype;function bx(e,t,r){this.props=e,this.context=t,this.refs=mS,this.updater=r||dS}var jx=bx.prototype=new fS;jx.constructor=bx;uS(jx,Rl.prototype);jx.isPureReactComponent=!0;var Ub=Array.isArray,pS=Object.prototype.hasOwnProperty,wx={current:null},hS={key:!0,ref:!0,__self:!0,__source:!0};function gS(e,t,r){var n,s={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)pS.call(t,n)&&!hS.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Lc,type:e,key:i,ref:l,props:s,_owner:wx.current}}function uE(e,t){return{$$typeof:Lc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lc}function mE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hb=/\/+/g;function ph(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mE(""+e.key):t.toString(36)}function Fu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Lc:case eE:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+ph(l,0):n,Ub(s)?(r="",e!=null&&(r=e.replace(Hb,"$&/")+"/"),Fu(s,t,r,"",function(u){return u})):s!=null&&(Nx(s)&&(s=uE(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Hb,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",Ub(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+ph(i,o);l+=Fu(i,t,r,c,s)}else if(c=dE(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+ph(i,o++),l+=Fu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Yd(e,t,r){if(e==null)return e;var n=[],s=0;return Fu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function fE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cr={current:null},zu={transition:null},pE={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:zu,ReactCurrentOwner:wx};function xS(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Yd,forEach:function(e,t,r){Yd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Yd(e,function(){t++}),t},toArray:function(e){return Yd(e,function(t){return t})||[]},only:function(e){if(!Nx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=Rl;ze.Fragment=tE;ze.Profiler=nE;ze.PureComponent=bx;ze.StrictMode=rE;ze.Suspense=lE;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pE;ze.act=xS;ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=uS({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=wx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)pS.call(t,c)&&!hS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Lc,type:e.type,key:s,ref:i,props:n,_owner:l}};ze.createContext=function(e){return e={$$typeof:sE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aE,_context:e},e.Consumer=e};ze.createElement=gS;ze.createFactory=function(e){var t=gS.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:iE,render:e}};ze.isValidElement=Nx;ze.lazy=function(e){return{$$typeof:cE,_payload:{_status:-1,_result:e},_init:fE}};ze.memo=function(e,t){return{$$typeof:oE,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=zu.transition;zu.transition={};try{e()}finally{zu.transition=t}};ze.unstable_act=xS;ze.useCallback=function(e,t){return Cr.current.useCallback(e,t)};ze.useContext=function(e){return Cr.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return Cr.current.useDeferredValue(e)};ze.useEffect=function(e,t){return Cr.current.useEffect(e,t)};ze.useId=function(){return Cr.current.useId()};ze.useImperativeHandle=function(e,t,r){return Cr.current.useImperativeHandle(e,t,r)};ze.useInsertionEffect=function(e,t){return Cr.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return Cr.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return Cr.current.useMemo(e,t)};ze.useReducer=function(e,t,r){return Cr.current.useReducer(e,t,r)};ze.useRef=function(e){return Cr.current.useRef(e)};ze.useState=function(e){return Cr.current.useState(e)};ze.useSyncExternalStore=function(e,t,r){return Cr.current.useSyncExternalStore(e,t,r)};ze.useTransition=function(){return Cr.current.useTransition()};ze.version="18.3.1";cS.exports=ze;var f=cS.exports;const hE=Wa(f),yS=JO({__proto__:null,default:hE},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE=f,xE=Symbol.for("react.element"),yE=Symbol.for("react.fragment"),vE=Object.prototype.hasOwnProperty,bE=gE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jE={key:!0,ref:!0,__self:!0,__source:!0};function vS(e,t,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)vE.call(t,n)&&!jE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:xE,type:e,key:i,ref:l,props:s,_owner:bE.current}}Pf.Fragment=yE;Pf.jsx=vS;Pf.jsxs=vS;oS.exports=Pf;var a=oS.exports,bS={exports:{}},rn={},jS={exports:{}},wS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,M){var W=I.length;I.push(M);e:for(;0<W;){var B=W-1>>>1,ae=I[B];if(0<s(ae,M))I[B]=M,I[W]=ae,W=B;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var M=I[0],W=I.pop();if(W!==M){I[0]=W;e:for(var B=0,ae=I.length,fe=ae>>>1;B<fe;){var xe=2*(B+1)-1,te=I[xe],me=xe+1,je=I[me];if(0>s(te,W))me<ae&&0>s(je,te)?(I[B]=je,I[me]=W,B=me):(I[B]=te,I[xe]=W,B=xe);else if(me<ae&&0>s(je,W))I[B]=je,I[me]=W,B=me;else break e}}return M}function s(I,M){var W=I.sortIndex-M.sortIndex;return W!==0?W:I.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,m=null,p=3,g=!1,x=!1,v=!1,h=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(I){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=I)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function P(I){if(v=!1,j(I),!x)if(r(c)!==null)x=!0,X(_);else{var M=r(u);M!==null&&Q(P,M.startTime-I)}}function _(I,M){x=!1,v&&(v=!1,y(E),E=-1),g=!0;var W=p;try{for(j(M),m=r(c);m!==null&&(!(m.expirationTime>M)||I&&!A());){var B=m.callback;if(typeof B=="function"){m.callback=null,p=m.priorityLevel;var ae=B(m.expirationTime<=M);M=e.unstable_now(),typeof ae=="function"?m.callback=ae:m===r(c)&&n(c),j(M)}else n(c);m=r(c)}if(m!==null)var fe=!0;else{var xe=r(u);xe!==null&&Q(P,xe.startTime-M),fe=!1}return fe}finally{m=null,p=W,g=!1}}var C=!1,O=null,E=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(O!==null){var I=e.unstable_now();T=I;var M=!0;try{M=O(!0,I)}finally{M?S():(C=!1,O=null)}}else C=!1}var S;if(typeof b=="function")S=function(){b(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,F=L.port2;L.port1.onmessage=D,S=function(){F.postMessage(null)}}else S=function(){h(D,0)};function X(I){O=I,C||(C=!0,S())}function Q(I,M){E=h(function(){I(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,X(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var W=p;p=M;try{return I()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=p;p=I;try{return M()}finally{p=W}},e.unstable_scheduleCallback=function(I,M,W){var B=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?B+W:B):W=B,I){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=W+ae,I={id:d++,callback:M,priorityLevel:I,startTime:W,expirationTime:ae,sortIndex:-1},W>B?(I.sortIndex=W,t(u,I),r(c)===null&&I===r(u)&&(v?(y(E),E=-1):v=!0,Q(P,W-B))):(I.sortIndex=ae,t(c,I),x||g||(x=!0,X(_))),I},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(I){var M=p;return function(){var W=p;p=M;try{return I.apply(this,arguments)}finally{p=W}}}})(wS);jS.exports=wS;var wE=jS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE=f,Jr=wE;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NS=new Set,tc={};function Ti(e,t){vl(e,t),vl(e+"Capture",t)}function vl(e,t){for(tc[e]=t,e=0;e<t.length;e++)NS.add(t[e])}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xg=Object.prototype.hasOwnProperty,SE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wb={},Kb={};function kE(e){return xg.call(Kb,e)?!0:xg.call(Wb,e)?!1:SE.test(e)?Kb[e]=!0:(Wb[e]=!0,!1)}function _E(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PE(e,t,r,n){if(t===null||typeof t>"u"||_E(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Or(e,t,r,n,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ir[e]=new Or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ir[t]=new Or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ir[e]=new Or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ir[e]=new Or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ir[e]=new Or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ir[e]=new Or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ir[e]=new Or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ir[e]=new Or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ir[e]=new Or(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sx=/[\-:]([a-z])/g;function kx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sx,kx);ir[t]=new Or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sx,kx);ir[t]=new Or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sx,kx);ir[t]=new Or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ir[e]=new Or(e,1,!1,e.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ir[e]=new Or(e,1,!1,e.toLowerCase(),null,!0,!0)});function _x(e,t,r,n){var s=ir.hasOwnProperty(t)?ir[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PE(t,r,s,n)&&(r=null),n||s===null?kE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ka=NE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qd=Symbol.for("react.element"),Yi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),Px=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),SS=Symbol.for("react.provider"),kS=Symbol.for("react.context"),Cx=Symbol.for("react.forward_ref"),vg=Symbol.for("react.suspense"),bg=Symbol.for("react.suspense_list"),Ox=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),_S=Symbol.for("react.offscreen"),qb=Symbol.iterator;function po(e){return e===null||typeof e!="object"?null:(e=qb&&e[qb]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,hh;function Ao(e){if(hh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hh=t&&t[1]||""}return`
`+hh+e}var gh=!1;function xh(e,t){if(!e||gh)return"";gh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{gh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ao(e):""}function CE(e){switch(e.tag){case 5:return Ao(e.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return e=xh(e.type,!1),e;case 11:return e=xh(e.type.render,!1),e;case 1:return e=xh(e.type,!0),e;default:return""}}function jg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qi:return"Fragment";case Yi:return"Portal";case yg:return"Profiler";case Px:return"StrictMode";case vg:return"Suspense";case bg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kS:return(e.displayName||"Context")+".Consumer";case SS:return(e._context.displayName||"Context")+".Provider";case Cx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ox:return t=e.displayName||null,t!==null?t:jg(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return jg(e(t))}catch{}}return null}function OE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jg(t);case 8:return t===Px?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function EE(e){var t=PS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xd(e){e._valueTracker||(e._valueTracker=EE(e))}function CS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=PS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wg(e,t){var r=t.checked;return yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ps(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OS(e,t){t=t.checked,t!=null&&_x(e,"checked",t,!1)}function Ng(e,t){OS(e,t);var r=Ps(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sg(e,t.type,Ps(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sg(e,t,r){(t!=="number"||sm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var To=Array.isArray;function dl(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ps(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function kg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(To(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ps(r)}}function ES(e,t){var r=Ps(t.value),n=Ps(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Qb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _g(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zd,TS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zd=Zd||document.createElement("div"),Zd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AE=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(e){AE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bo[t]=Bo[e]})});function DS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bo.hasOwnProperty(e)&&Bo[e]?(""+t).trim():t+"px"}function IS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=DS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var TE=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pg(e,t){if(t){if(TE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Cg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Og=null;function Ex(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eg=null,ul=null,ml=null;function Xb(e){if(e=zc(e)){if(typeof Eg!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=Tf(t),Eg(e.stateNode,e.type,t))}}function MS(e){ul?ml?ml.push(e):ml=[e]:ul=e}function $S(){if(ul){var e=ul,t=ml;if(ml=ul=null,Xb(e),t)for(e=0;e<t.length;e++)Xb(t[e])}}function LS(e,t){return e(t)}function RS(){}var yh=!1;function FS(e,t,r){if(yh)return e(t,r);yh=!0;try{return LS(e,t,r)}finally{yh=!1,(ul!==null||ml!==null)&&(RS(),$S())}}function nc(e,t){var r=e.stateNode;if(r===null)return null;var n=Tf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var Ag=!1;if(Ta)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Ag=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Ag=!1}function DE(e,t,r,n,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Uo=!1,im=null,lm=!1,Tg=null,IE={onError:function(e){Uo=!0,im=e}};function ME(e,t,r,n,s,i,l,o,c){Uo=!1,im=null,DE.apply(IE,arguments)}function $E(e,t,r,n,s,i,l,o,c){if(ME.apply(this,arguments),Uo){if(Uo){var u=im;Uo=!1,im=null}else throw Error(ge(198));lm||(lm=!0,Tg=u)}}function Di(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function zS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zb(e){if(Di(e)!==e)throw Error(ge(188))}function LE(e){var t=e.alternate;if(!t){if(t=Di(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Zb(s),e;if(i===n)return Zb(s),t;i=i.sibling}throw Error(ge(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function BS(e){return e=LE(e),e!==null?US(e):null}function US(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=US(e);if(t!==null)return t;e=e.sibling}return null}var HS=Jr.unstable_scheduleCallback,Jb=Jr.unstable_cancelCallback,RE=Jr.unstable_shouldYield,FE=Jr.unstable_requestPaint,Pt=Jr.unstable_now,zE=Jr.unstable_getCurrentPriorityLevel,Ax=Jr.unstable_ImmediatePriority,WS=Jr.unstable_UserBlockingPriority,om=Jr.unstable_NormalPriority,BE=Jr.unstable_LowPriority,KS=Jr.unstable_IdlePriority,Cf=null,la=null;function UE(e){if(la&&typeof la.onCommitFiberRoot=="function")try{la.onCommitFiberRoot(Cf,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:KE,HE=Math.log,WE=Math.LN2;function KE(e){return e>>>=0,e===0?32:31-(HE(e)/WE|0)|0}var Jd=64,eu=4194304;function Do(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=Do(o):(i&=l,i!==0&&(n=Do(i)))}else l=r&~s,l!==0?n=Do(l):i!==0&&(n=Do(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ln(t),s=1<<r,n|=e[r],t&=~s;return n}function qE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Ln(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=qE(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Dg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qS(){var e=Jd;return Jd<<=1,!(Jd&4194240)&&(Jd=64),e}function vh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ln(t),e[t]=r}function GE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ln(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Tx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ln(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ze=0;function VS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GS,Dx,YS,QS,XS,Ig=!1,tu=[],gs=null,xs=null,ys=null,ac=new Map,sc=new Map,cs=[],YE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ej(e,t){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(t.pointerId)}}function go(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zc(t),t!==null&&Dx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function QE(e,t,r,n,s){switch(t){case"focusin":return gs=go(gs,e,t,r,n,s),!0;case"dragenter":return xs=go(xs,e,t,r,n,s),!0;case"mouseover":return ys=go(ys,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ac.set(i,go(ac.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,sc.set(i,go(sc.get(i)||null,e,t,r,n,s)),!0}return!1}function ZS(e){var t=ti(e.target);if(t!==null){var r=Di(t);if(r!==null){if(t=r.tag,t===13){if(t=zS(r),t!==null){e.blockedOn=t,XS(e.priority,function(){YS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Mg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Og=n,r.target.dispatchEvent(n),Og=null}else return t=zc(r),t!==null&&Dx(t),e.blockedOn=r,!1;t.shift()}return!0}function tj(e,t,r){Bu(e)&&r.delete(t)}function XE(){Ig=!1,gs!==null&&Bu(gs)&&(gs=null),xs!==null&&Bu(xs)&&(xs=null),ys!==null&&Bu(ys)&&(ys=null),ac.forEach(tj),sc.forEach(tj)}function xo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ig||(Ig=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,XE)))}function ic(e){function t(s){return xo(s,e)}if(0<tu.length){xo(tu[0],e);for(var r=1;r<tu.length;r++){var n=tu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gs!==null&&xo(gs,e),xs!==null&&xo(xs,e),ys!==null&&xo(ys,e),ac.forEach(t),sc.forEach(t),r=0;r<cs.length;r++)n=cs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cs.length&&(r=cs[0],r.blockedOn===null);)ZS(r),r.blockedOn===null&&cs.shift()}var fl=Ka.ReactCurrentBatchConfig,dm=!0;function ZE(e,t,r,n){var s=Ze,i=fl.transition;fl.transition=null;try{Ze=1,Ix(e,t,r,n)}finally{Ze=s,fl.transition=i}}function JE(e,t,r,n){var s=Ze,i=fl.transition;fl.transition=null;try{Ze=4,Ix(e,t,r,n)}finally{Ze=s,fl.transition=i}}function Ix(e,t,r,n){if(dm){var s=Mg(e,t,r,n);if(s===null)Oh(e,t,n,um,r),ej(e,n);else if(QE(s,e,t,r,n))n.stopPropagation();else if(ej(e,n),t&4&&-1<YE.indexOf(e)){for(;s!==null;){var i=zc(s);if(i!==null&&GS(i),i=Mg(e,t,r,n),i===null&&Oh(e,t,n,um,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Oh(e,t,n,null,r)}}var um=null;function Mg(e,t,r,n){if(um=null,e=Ex(n),e=ti(e),e!==null)if(t=Di(e),t===null)e=null;else if(r=t.tag,r===13){if(e=zS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return um=e,null}function JS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zE()){case Ax:return 1;case WS:return 4;case om:case BE:return 16;case KS:return 536870912;default:return 16}default:return 16}}var ms=null,Mx=null,Uu=null;function ek(){if(Uu)return Uu;var e,t=Mx,r=t.length,n,s="value"in ms?ms.value:ms.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[i-n];n++);return Uu=s.slice(e,1<n?1-n:void 0)}function Hu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ru(){return!0}function rj(){return!1}function nn(e){function t(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ru:rj,this.isPropagationStopped=rj,this}return yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ru)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ru)},persist:function(){},isPersistent:ru}),t}var Fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$x=nn(Fl),Fc=yt({},Fl,{view:0,detail:0}),e6=nn(Fc),bh,jh,yo,Of=yt({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yo&&(yo&&e.type==="mousemove"?(bh=e.screenX-yo.screenX,jh=e.screenY-yo.screenY):jh=bh=0,yo=e),bh)},movementY:function(e){return"movementY"in e?e.movementY:jh}}),nj=nn(Of),t6=yt({},Of,{dataTransfer:0}),r6=nn(t6),n6=yt({},Fc,{relatedTarget:0}),wh=nn(n6),a6=yt({},Fl,{animationName:0,elapsedTime:0,pseudoElement:0}),s6=nn(a6),i6=yt({},Fl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l6=nn(i6),o6=yt({},Fl,{data:0}),aj=nn(o6),c6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=u6[e])?!!t[e]:!1}function Lx(){return m6}var f6=yt({},Fc,{key:function(e){if(e.key){var t=c6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lx,charCode:function(e){return e.type==="keypress"?Hu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p6=nn(f6),h6=yt({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sj=nn(h6),g6=yt({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lx}),x6=nn(g6),y6=yt({},Fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),v6=nn(y6),b6=yt({},Of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j6=nn(b6),w6=[9,13,27,32],Rx=Ta&&"CompositionEvent"in window,Ho=null;Ta&&"documentMode"in document&&(Ho=document.documentMode);var N6=Ta&&"TextEvent"in window&&!Ho,tk=Ta&&(!Rx||Ho&&8<Ho&&11>=Ho),ij=" ",lj=!1;function rk(e,t){switch(e){case"keyup":return w6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function S6(e,t){switch(e){case"compositionend":return nk(t);case"keypress":return t.which!==32?null:(lj=!0,ij);case"textInput":return e=t.data,e===ij&&lj?null:e;default:return null}}function k6(e,t){if(Xi)return e==="compositionend"||!Rx&&rk(e,t)?(e=ek(),Uu=Mx=ms=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tk&&t.locale!=="ko"?null:t.data;default:return null}}var _6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_6[e.type]:t==="textarea"}function ak(e,t,r,n){MS(n),t=mm(t,"onChange"),0<t.length&&(r=new $x("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wo=null,lc=null;function P6(e){hk(e,0)}function Ef(e){var t=el(e);if(CS(t))return e}function C6(e,t){if(e==="change")return t}var sk=!1;if(Ta){var Nh;if(Ta){var Sh="oninput"in document;if(!Sh){var cj=document.createElement("div");cj.setAttribute("oninput","return;"),Sh=typeof cj.oninput=="function"}Nh=Sh}else Nh=!1;sk=Nh&&(!document.documentMode||9<document.documentMode)}function dj(){Wo&&(Wo.detachEvent("onpropertychange",ik),lc=Wo=null)}function ik(e){if(e.propertyName==="value"&&Ef(lc)){var t=[];ak(t,lc,e,Ex(e)),FS(P6,t)}}function O6(e,t,r){e==="focusin"?(dj(),Wo=t,lc=r,Wo.attachEvent("onpropertychange",ik)):e==="focusout"&&dj()}function E6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ef(lc)}function A6(e,t){if(e==="click")return Ef(t)}function T6(e,t){if(e==="input"||e==="change")return Ef(t)}function D6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zn=typeof Object.is=="function"?Object.is:D6;function oc(e,t){if(zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xg.call(t,s)||!zn(e[s],t[s]))return!1}return!0}function uj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mj(e,t){var r=uj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uj(r)}}function lk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ok(){for(var e=window,t=sm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sm(e.document)}return t}function Fx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I6(e){var t=ok(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&lk(r.ownerDocument.documentElement,r)){if(n!==null&&Fx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=mj(r,i);var l=mj(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var M6=Ta&&"documentMode"in document&&11>=document.documentMode,Zi=null,$g=null,Ko=null,Lg=!1;function fj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lg||Zi==null||Zi!==sm(n)||(n=Zi,"selectionStart"in n&&Fx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ko&&oc(Ko,n)||(Ko=n,n=mm($g,"onSelect"),0<n.length&&(t=new $x("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zi)))}function nu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ji={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},kh={},ck={};Ta&&(ck=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function Af(e){if(kh[e])return kh[e];if(!Ji[e])return e;var t=Ji[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ck)return kh[e]=t[r];return e}var dk=Af("animationend"),uk=Af("animationiteration"),mk=Af("animationstart"),fk=Af("transitionend"),pk=new Map,pj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){pk.set(e,t),Ti(t,[e])}for(var _h=0;_h<pj.length;_h++){var Ph=pj[_h],$6=Ph.toLowerCase(),L6=Ph[0].toUpperCase()+Ph.slice(1);Ms($6,"on"+L6)}Ms(dk,"onAnimationEnd");Ms(uk,"onAnimationIteration");Ms(mk,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(fk,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function hj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$E(n,t,void 0,e),e.currentTarget=null}function hk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;hj(s,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;hj(s,o,u),i=c}}}if(lm)throw e=Tg,lm=!1,Tg=null,e}function lt(e,t){var r=t[Ug];r===void 0&&(r=t[Ug]=new Set);var n=e+"__bubble";r.has(n)||(gk(t,e,2,!1),r.add(n))}function Ch(e,t,r){var n=0;t&&(n|=4),gk(r,e,n,t)}var au="_reactListening"+Math.random().toString(36).slice(2);function cc(e){if(!e[au]){e[au]=!0,NS.forEach(function(r){r!=="selectionchange"&&(R6.has(r)||Ch(r,!1,e),Ch(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[au]||(t[au]=!0,Ch("selectionchange",!1,t))}}function gk(e,t,r,n){switch(JS(t)){case 1:var s=ZE;break;case 4:s=JE;break;default:s=Ix}r=s.bind(null,t,r,e),s=void 0,!Ag||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Oh(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=ti(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}FS(function(){var u=i,d=Ex(r),m=[];e:{var p=pk.get(e);if(p!==void 0){var g=$x,x=e;switch(e){case"keypress":if(Hu(r)===0)break e;case"keydown":case"keyup":g=p6;break;case"focusin":x="focus",g=wh;break;case"focusout":x="blur",g=wh;break;case"beforeblur":case"afterblur":g=wh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=nj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=r6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=x6;break;case dk:case uk:case mk:g=s6;break;case fk:g=v6;break;case"scroll":g=e6;break;case"wheel":g=j6;break;case"copy":case"cut":case"paste":g=l6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sj}var v=(t&4)!==0,h=!v&&e==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var b=u,j;b!==null;){j=b;var P=j.stateNode;if(j.tag===5&&P!==null&&(j=P,y!==null&&(P=nc(b,y),P!=null&&v.push(dc(b,P,j)))),h)break;b=b.return}0<v.length&&(p=new g(p,x,null,r,d),m.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&r!==Og&&(x=r.relatedTarget||r.fromElement)&&(ti(x)||x[Da]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=r.relatedTarget||r.toElement,g=u,x=x?ti(x):null,x!==null&&(h=Di(x),x!==h||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=nj,P="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=sj,P="onPointerLeave",y="onPointerEnter",b="pointer"),h=g==null?p:el(g),j=x==null?p:el(x),p=new v(P,b+"leave",g,r,d),p.target=h,p.relatedTarget=j,P=null,ti(d)===u&&(v=new v(y,b+"enter",x,r,d),v.target=j,v.relatedTarget=h,P=v),h=P,g&&x)t:{for(v=g,y=x,b=0,j=v;j;j=Wi(j))b++;for(j=0,P=y;P;P=Wi(P))j++;for(;0<b-j;)v=Wi(v),b--;for(;0<j-b;)y=Wi(y),j--;for(;b--;){if(v===y||y!==null&&v===y.alternate)break t;v=Wi(v),y=Wi(y)}v=null}else v=null;g!==null&&gj(m,p,g,v,!1),x!==null&&h!==null&&gj(m,h,x,v,!0)}}e:{if(p=u?el(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var _=C6;else if(oj(p))if(sk)_=T6;else{_=E6;var C=O6}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=A6);if(_&&(_=_(e,u))){ak(m,_,r,d);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Sg(p,"number",p.value)}switch(C=u?el(u):window,e){case"focusin":(oj(C)||C.contentEditable==="true")&&(Zi=C,$g=u,Ko=null);break;case"focusout":Ko=$g=Zi=null;break;case"mousedown":Lg=!0;break;case"contextmenu":case"mouseup":case"dragend":Lg=!1,fj(m,r,d);break;case"selectionchange":if(M6)break;case"keydown":case"keyup":fj(m,r,d)}var O;if(Rx)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Xi?rk(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(tk&&r.locale!=="ko"&&(Xi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Xi&&(O=ek()):(ms=d,Mx="value"in ms?ms.value:ms.textContent,Xi=!0)),C=mm(u,E),0<C.length&&(E=new aj(E,e,null,r,d),m.push({event:E,listeners:C}),O?E.data=O:(O=nk(r),O!==null&&(E.data=O)))),(O=N6?S6(e,r):k6(e,r))&&(u=mm(u,"onBeforeInput"),0<u.length&&(d=new aj("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=O))}hk(m,t)})}function dc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mm(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=nc(e,r),i!=null&&n.unshift(dc(e,i,s)),i=nc(e,t),i!=null&&n.push(dc(e,i,s))),e=e.return}return n}function Wi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gj(e,t,r,n,s){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=nc(r,i),c!=null&&l.unshift(dc(r,c,o))):s||(c=nc(r,i),c!=null&&l.push(dc(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var F6=/\r\n?/g,z6=/\u0000|\uFFFD/g;function xj(e){return(typeof e=="string"?e:""+e).replace(F6,`
`).replace(z6,"")}function su(e,t,r){if(t=xj(t),xj(e)!==t&&r)throw Error(ge(425))}function fm(){}var Rg=null,Fg=null;function zg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bg=typeof setTimeout=="function"?setTimeout:void 0,B6=typeof clearTimeout=="function"?clearTimeout:void 0,yj=typeof Promise=="function"?Promise:void 0,U6=typeof queueMicrotask=="function"?queueMicrotask:typeof yj<"u"?function(e){return yj.resolve(null).then(e).catch(H6)}:Bg;function H6(e){setTimeout(function(){throw e})}function Eh(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ic(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ic(t)}function vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zl=Math.random().toString(36).slice(2),na="__reactFiber$"+zl,uc="__reactProps$"+zl,Da="__reactContainer$"+zl,Ug="__reactEvents$"+zl,W6="__reactListeners$"+zl,K6="__reactHandles$"+zl;function ti(e){var t=e[na];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Da]||r[na]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vj(e);e!==null;){if(r=e[na])return r;e=vj(e)}return t}e=r,r=e.parentNode}return null}function zc(e){return e=e[na]||e[Da],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function el(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function Tf(e){return e[uc]||null}var Hg=[],tl=-1;function $s(e){return{current:e}}function ct(e){0>tl||(e.current=Hg[tl],Hg[tl]=null,tl--)}function at(e,t){tl++,Hg[tl]=e.current,e.current=t}var Cs={},yr=$s(Cs),$r=$s(!1),gi=Cs;function bl(e,t){var r=e.type.contextTypes;if(!r)return Cs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Lr(e){return e=e.childContextTypes,e!=null}function pm(){ct($r),ct(yr)}function bj(e,t,r){if(yr.current!==Cs)throw Error(ge(168));at(yr,t),at($r,r)}function xk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ge(108,OE(e)||"Unknown",s));return yt({},r,n)}function hm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,gi=yr.current,at(yr,e),at($r,$r.current),!0}function jj(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=xk(e,t,gi),n.__reactInternalMemoizedMergedChildContext=e,ct($r),ct(yr),at(yr,e)):ct($r),at($r,r)}var ba=null,Df=!1,Ah=!1;function yk(e){ba===null?ba=[e]:ba.push(e)}function q6(e){Df=!0,yk(e)}function Ls(){if(!Ah&&ba!==null){Ah=!0;var e=0,t=Ze;try{var r=ba;for(Ze=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ba=null,Df=!1}catch(s){throw ba!==null&&(ba=ba.slice(e+1)),HS(Ax,Ls),s}finally{Ze=t,Ah=!1}}return null}var rl=[],nl=0,gm=null,xm=0,mn=[],fn=0,xi=null,Sa=1,ka="";function Qs(e,t){rl[nl++]=xm,rl[nl++]=gm,gm=e,xm=t}function vk(e,t,r){mn[fn++]=Sa,mn[fn++]=ka,mn[fn++]=xi,xi=e;var n=Sa;e=ka;var s=32-Ln(n)-1;n&=~(1<<s),r+=1;var i=32-Ln(t)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Sa=1<<32-Ln(t)+s|r<<s|n,ka=i+e}else Sa=1<<i|r<<s|n,ka=e}function zx(e){e.return!==null&&(Qs(e,1),vk(e,1,0))}function Bx(e){for(;e===gm;)gm=rl[--nl],rl[nl]=null,xm=rl[--nl],rl[nl]=null;for(;e===xi;)xi=mn[--fn],mn[fn]=null,ka=mn[--fn],mn[fn]=null,Sa=mn[--fn],mn[fn]=null}var Xr=null,Yr=null,mt=!1,Tn=null;function bk(e,t){var r=pn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xr=e,Yr=vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xr=e,Yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xi!==null?{id:Sa,overflow:ka}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xr=e,Yr=null,!0):!1;default:return!1}}function Wg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kg(e){if(mt){var t=Yr;if(t){var r=t;if(!wj(e,t)){if(Wg(e))throw Error(ge(418));t=vs(r.nextSibling);var n=Xr;t&&wj(e,t)?bk(n,r):(e.flags=e.flags&-4097|2,mt=!1,Xr=e)}}else{if(Wg(e))throw Error(ge(418));e.flags=e.flags&-4097|2,mt=!1,Xr=e}}}function Nj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xr=e}function iu(e){if(e!==Xr)return!1;if(!mt)return Nj(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zg(e.type,e.memoizedProps)),t&&(t=Yr)){if(Wg(e))throw jk(),Error(ge(418));for(;t;)bk(e,t),t=vs(t.nextSibling)}if(Nj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yr=vs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yr=null}}else Yr=Xr?vs(e.stateNode.nextSibling):null;return!0}function jk(){for(var e=Yr;e;)e=vs(e.nextSibling)}function jl(){Yr=Xr=null,mt=!1}function Ux(e){Tn===null?Tn=[e]:Tn.push(e)}var V6=Ka.ReactCurrentBatchConfig;function vo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function lu(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sj(e){var t=e._init;return t(e._payload)}function wk(e){function t(y,b){if(e){var j=y.deletions;j===null?(y.deletions=[b],y.flags|=16):j.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(y,b){return y=Ns(y,b),y.index=0,y.sibling=null,y}function i(y,b,j){return y.index=j,e?(j=y.alternate,j!==null?(j=j.index,j<b?(y.flags|=2,b):j):(y.flags|=2,b)):(y.flags|=1048576,b)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,j,P){return b===null||b.tag!==6?(b=Rh(j,y.mode,P),b.return=y,b):(b=s(b,j),b.return=y,b)}function c(y,b,j,P){var _=j.type;return _===Qi?d(y,b,j.props.children,P,j.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ss&&Sj(_)===b.type)?(P=s(b,j.props),P.ref=vo(y,b,j),P.return=y,P):(P=Qu(j.type,j.key,j.props,null,y.mode,P),P.ref=vo(y,b,j),P.return=y,P)}function u(y,b,j,P){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Fh(j,y.mode,P),b.return=y,b):(b=s(b,j.children||[]),b.return=y,b)}function d(y,b,j,P,_){return b===null||b.tag!==7?(b=di(j,y.mode,P,_),b.return=y,b):(b=s(b,j),b.return=y,b)}function m(y,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Rh(""+b,y.mode,j),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qd:return j=Qu(b.type,b.key,b.props,null,y.mode,j),j.ref=vo(y,null,b),j.return=y,j;case Yi:return b=Fh(b,y.mode,j),b.return=y,b;case ss:var P=b._init;return m(y,P(b._payload),j)}if(To(b)||po(b))return b=di(b,y.mode,j,null),b.return=y,b;lu(y,b)}return null}function p(y,b,j,P){var _=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return _!==null?null:o(y,b,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Qd:return j.key===_?c(y,b,j,P):null;case Yi:return j.key===_?u(y,b,j,P):null;case ss:return _=j._init,p(y,b,_(j._payload),P)}if(To(j)||po(j))return _!==null?null:d(y,b,j,P,null);lu(y,j)}return null}function g(y,b,j,P,_){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(j)||null,o(b,y,""+P,_);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Qd:return y=y.get(P.key===null?j:P.key)||null,c(b,y,P,_);case Yi:return y=y.get(P.key===null?j:P.key)||null,u(b,y,P,_);case ss:var C=P._init;return g(y,b,j,C(P._payload),_)}if(To(P)||po(P))return y=y.get(j)||null,d(b,y,P,_,null);lu(b,P)}return null}function x(y,b,j,P){for(var _=null,C=null,O=b,E=b=0,k=null;O!==null&&E<j.length;E++){O.index>E?(k=O,O=null):k=O.sibling;var T=p(y,O,j[E],P);if(T===null){O===null&&(O=k);break}e&&O&&T.alternate===null&&t(y,O),b=i(T,b,E),C===null?_=T:C.sibling=T,C=T,O=k}if(E===j.length)return r(y,O),mt&&Qs(y,E),_;if(O===null){for(;E<j.length;E++)O=m(y,j[E],P),O!==null&&(b=i(O,b,E),C===null?_=O:C.sibling=O,C=O);return mt&&Qs(y,E),_}for(O=n(y,O);E<j.length;E++)k=g(O,y,E,j[E],P),k!==null&&(e&&k.alternate!==null&&O.delete(k.key===null?E:k.key),b=i(k,b,E),C===null?_=k:C.sibling=k,C=k);return e&&O.forEach(function(A){return t(y,A)}),mt&&Qs(y,E),_}function v(y,b,j,P){var _=po(j);if(typeof _!="function")throw Error(ge(150));if(j=_.call(j),j==null)throw Error(ge(151));for(var C=_=null,O=b,E=b=0,k=null,T=j.next();O!==null&&!T.done;E++,T=j.next()){O.index>E?(k=O,O=null):k=O.sibling;var A=p(y,O,T.value,P);if(A===null){O===null&&(O=k);break}e&&O&&A.alternate===null&&t(y,O),b=i(A,b,E),C===null?_=A:C.sibling=A,C=A,O=k}if(T.done)return r(y,O),mt&&Qs(y,E),_;if(O===null){for(;!T.done;E++,T=j.next())T=m(y,T.value,P),T!==null&&(b=i(T,b,E),C===null?_=T:C.sibling=T,C=T);return mt&&Qs(y,E),_}for(O=n(y,O);!T.done;E++,T=j.next())T=g(O,y,E,T.value,P),T!==null&&(e&&T.alternate!==null&&O.delete(T.key===null?E:T.key),b=i(T,b,E),C===null?_=T:C.sibling=T,C=T);return e&&O.forEach(function(D){return t(y,D)}),mt&&Qs(y,E),_}function h(y,b,j,P){if(typeof j=="object"&&j!==null&&j.type===Qi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Qd:e:{for(var _=j.key,C=b;C!==null;){if(C.key===_){if(_=j.type,_===Qi){if(C.tag===7){r(y,C.sibling),b=s(C,j.props.children),b.return=y,y=b;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ss&&Sj(_)===C.type){r(y,C.sibling),b=s(C,j.props),b.ref=vo(y,C,j),b.return=y,y=b;break e}r(y,C);break}else t(y,C);C=C.sibling}j.type===Qi?(b=di(j.props.children,y.mode,P,j.key),b.return=y,y=b):(P=Qu(j.type,j.key,j.props,null,y.mode,P),P.ref=vo(y,b,j),P.return=y,y=P)}return l(y);case Yi:e:{for(C=j.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(y,b.sibling),b=s(b,j.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Fh(j,y.mode,P),b.return=y,y=b}return l(y);case ss:return C=j._init,h(y,b,C(j._payload),P)}if(To(j))return x(y,b,j,P);if(po(j))return v(y,b,j,P);lu(y,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(y,b.sibling),b=s(b,j),b.return=y,y=b):(r(y,b),b=Rh(j,y.mode,P),b.return=y,y=b),l(y)):r(y,b)}return h}var wl=wk(!0),Nk=wk(!1),ym=$s(null),vm=null,al=null,Hx=null;function Wx(){Hx=al=vm=null}function Kx(e){var t=ym.current;ct(ym),e._currentValue=t}function qg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function pl(e,t){vm=e,Hx=al=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ir=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if(Hx!==e)if(e={context:e,memoizedValue:t,next:null},al===null){if(vm===null)throw Error(ge(308));al=e,vm.dependencies={lanes:0,firstContext:e}}else al=al.next=e;return t}var ri=null;function qx(e){ri===null?ri=[e]:ri.push(e)}function Sk(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,qx(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ia(e,n)}function Ia(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var is=!1;function Vx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ia(e,r)}return s=n.interleaved,s===null?(t.next=t,qx(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ia(e,r)}function Wu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tx(e,r)}}function kj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bm(e,t,r,n){var s=e.updateQueue;is=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;l=0,d=u=c=null,o=i;do{var p=o.lane,g=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,v=o;switch(p=t,g=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){m=x.call(g,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,p=typeof x=="function"?x.call(g,m,p):x,p==null)break e;m=yt({},m,p);break e;case 2:is=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=g,c=m):d=d.next=g,l|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vi|=l,e.lanes=l,e.memoizedState=m}}function _j(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ge(191,s));s.call(n)}}}var Bc={},oa=$s(Bc),mc=$s(Bc),fc=$s(Bc);function ni(e){if(e===Bc)throw Error(ge(174));return e}function Gx(e,t){switch(at(fc,t),at(mc,e),at(oa,Bc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_g(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_g(t,e)}ct(oa),at(oa,t)}function Nl(){ct(oa),ct(mc),ct(fc)}function _k(e){ni(fc.current);var t=ni(oa.current),r=_g(t,e.type);t!==r&&(at(mc,e),at(oa,r))}function Yx(e){mc.current===e&&(ct(oa),ct(mc))}var gt=$s(0);function jm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Th=[];function Qx(){for(var e=0;e<Th.length;e++)Th[e]._workInProgressVersionPrimary=null;Th.length=0}var Ku=Ka.ReactCurrentDispatcher,Dh=Ka.ReactCurrentBatchConfig,yi=0,xt=null,Lt=null,Yt=null,wm=!1,qo=!1,pc=0,G6=0;function dr(){throw Error(ge(321))}function Xx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zn(e[r],t[r]))return!1;return!0}function Zx(e,t,r,n,s,i){if(yi=i,xt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ku.current=e===null||e.memoizedState===null?Z6:J6,e=r(n,s),qo){i=0;do{if(qo=!1,pc=0,25<=i)throw Error(ge(301));i+=1,Yt=Lt=null,t.updateQueue=null,Ku.current=eA,e=r(n,s)}while(qo)}if(Ku.current=Nm,t=Lt!==null&&Lt.next!==null,yi=0,Yt=Lt=xt=null,wm=!1,t)throw Error(ge(300));return e}function Jx(){var e=pc!==0;return pc=0,e}function ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?xt.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function yn(){if(Lt===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=Yt===null?xt.memoizedState:Yt.next;if(t!==null)Yt=t,Lt=e;else{if(e===null)throw Error(ge(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Yt===null?xt.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function hc(e,t){return typeof t=="function"?t(e):t}function Ih(e){var t=yn(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=Lt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((yi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,xt.lanes|=d,vi|=d}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,zn(n,t.memoizedState)||(Ir=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,xt.lanes|=i,vi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mh(e){var t=yn(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);zn(i,t.memoizedState)||(Ir=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Pk(){}function Ck(e,t){var r=xt,n=yn(),s=t(),i=!zn(n.memoizedState,s);if(i&&(n.memoizedState=s,Ir=!0),n=n.queue,ey(Ak.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Yt!==null&&Yt.memoizedState.tag&1){if(r.flags|=2048,gc(9,Ek.bind(null,r,n,s,t),void 0,null),Zt===null)throw Error(ge(349));yi&30||Ok(r,t,s)}return s}function Ok(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xt.updateQueue,t===null?(t={lastEffect:null,stores:null},xt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ek(e,t,r,n){t.value=r,t.getSnapshot=n,Tk(t)&&Dk(e)}function Ak(e,t,r){return r(function(){Tk(t)&&Dk(e)})}function Tk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zn(e,r)}catch{return!0}}function Dk(e){var t=Ia(e,1);t!==null&&Rn(t,e,1,-1)}function Pj(e){var t=ea();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:e},t.queue=e,e=e.dispatch=X6.bind(null,xt,e),[t.memoizedState,e]}function gc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xt.updateQueue,t===null?(t={lastEffect:null,stores:null},xt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ik(){return yn().memoizedState}function qu(e,t,r,n){var s=ea();xt.flags|=e,s.memoizedState=gc(1|t,r,void 0,n===void 0?null:n)}function If(e,t,r,n){var s=yn();n=n===void 0?null:n;var i=void 0;if(Lt!==null){var l=Lt.memoizedState;if(i=l.destroy,n!==null&&Xx(n,l.deps)){s.memoizedState=gc(t,r,i,n);return}}xt.flags|=e,s.memoizedState=gc(1|t,r,i,n)}function Cj(e,t){return qu(8390656,8,e,t)}function ey(e,t){return If(2048,8,e,t)}function Mk(e,t){return If(4,2,e,t)}function $k(e,t){return If(4,4,e,t)}function Lk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rk(e,t,r){return r=r!=null?r.concat([e]):null,If(4,4,Lk.bind(null,t,e),r)}function ty(){}function Fk(e,t){var r=yn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function zk(e,t){var r=yn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Bk(e,t,r){return yi&21?(zn(r,t)||(r=qS(),xt.lanes|=r,vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ir=!0),e.memoizedState=r)}function Y6(e,t){var r=Ze;Ze=r!==0&&4>r?r:4,e(!0);var n=Dh.transition;Dh.transition={};try{e(!1),t()}finally{Ze=r,Dh.transition=n}}function Uk(){return yn().memoizedState}function Q6(e,t,r){var n=ws(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Hk(e))Wk(t,r);else if(r=Sk(e,t,r,n),r!==null){var s=kr();Rn(r,e,n,s),Kk(r,t,n)}}function X6(e,t,r){var n=ws(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hk(e))Wk(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,zn(o,l)){var c=t.interleaved;c===null?(s.next=s,qx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Sk(e,t,s,n),r!==null&&(s=kr(),Rn(r,e,n,s),Kk(r,t,n))}}function Hk(e){var t=e.alternate;return e===xt||t!==null&&t===xt}function Wk(e,t){qo=wm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tx(e,r)}}var Nm={readContext:xn,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},Z6={readContext:xn,useCallback:function(e,t){return ea().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:Cj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qu(4194308,4,Lk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qu(4194308,4,e,t)},useInsertionEffect:function(e,t){return qu(4,2,e,t)},useMemo:function(e,t){var r=ea();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ea();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Q6.bind(null,xt,e),[n.memoizedState,e]},useRef:function(e){var t=ea();return e={current:e},t.memoizedState=e},useState:Pj,useDebugValue:ty,useDeferredValue:function(e){return ea().memoizedState=e},useTransition:function(){var e=Pj(!1),t=e[0];return e=Y6.bind(null,e[1]),ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xt,s=ea();if(mt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),Zt===null)throw Error(ge(349));yi&30||Ok(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Cj(Ak.bind(null,n,i,e),[e]),n.flags|=2048,gc(9,Ek.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ea(),t=Zt.identifierPrefix;if(mt){var r=ka,n=Sa;r=(n&~(1<<32-Ln(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=G6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},J6={readContext:xn,useCallback:Fk,useContext:xn,useEffect:ey,useImperativeHandle:Rk,useInsertionEffect:Mk,useLayoutEffect:$k,useMemo:zk,useReducer:Ih,useRef:Ik,useState:function(){return Ih(hc)},useDebugValue:ty,useDeferredValue:function(e){var t=yn();return Bk(t,Lt.memoizedState,e)},useTransition:function(){var e=Ih(hc)[0],t=yn().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:Ck,useId:Uk,unstable_isNewReconciler:!1},eA={readContext:xn,useCallback:Fk,useContext:xn,useEffect:ey,useImperativeHandle:Rk,useInsertionEffect:Mk,useLayoutEffect:$k,useMemo:zk,useReducer:Mh,useRef:Ik,useState:function(){return Mh(hc)},useDebugValue:ty,useDeferredValue:function(e){var t=yn();return Lt===null?t.memoizedState=e:Bk(t,Lt.memoizedState,e)},useTransition:function(){var e=Mh(hc)[0],t=yn().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:Ck,useId:Uk,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=yt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Vg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mf={isMounted:function(e){return(e=e._reactInternals)?Di(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=kr(),s=ws(e),i=Ca(n,s);i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,s),t!==null&&(Rn(t,e,s,n),Wu(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=kr(),s=ws(e),i=Ca(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,s),t!==null&&(Rn(t,e,s,n),Wu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=kr(),n=ws(e),s=Ca(r,n);s.tag=2,t!=null&&(s.callback=t),t=bs(e,s,n),t!==null&&(Rn(t,e,n,r),Wu(t,e,n))}};function Oj(e,t,r,n,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!oc(r,n)||!oc(s,i):!0}function qk(e,t,r){var n=!1,s=Cs,i=t.contextType;return typeof i=="object"&&i!==null?i=xn(i):(s=Lr(t)?gi:yr.current,n=t.contextTypes,i=(n=n!=null)?bl(e,s):Cs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ej(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mf.enqueueReplaceState(t,t.state,null)}function Gg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Vx(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=xn(i):(i=Lr(t)?gi:yr.current,s.context=bl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Vg(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Mf.enqueueReplaceState(s,s.state,null),bm(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Sl(e,t){try{var r="",n=t;do r+=CE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function $h(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tA=typeof WeakMap=="function"?WeakMap:Map;function Vk(e,t,r){r=Ca(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){km||(km=!0,s0=n),Yg(e,t)},r}function Gk(e,t,r){r=Ca(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Yg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Yg(e,t),typeof n!="function"&&(js===null?js=new Set([this]):js.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Aj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new tA;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=hA.bind(null,e,t,r),t.then(e,e))}function Tj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dj(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ca(-1,1),t.tag=2,bs(r,t,1))),r.lanes|=1),e)}var rA=Ka.ReactCurrentOwner,Ir=!1;function wr(e,t,r,n){t.child=e===null?Nk(t,null,r,n):wl(t,e.child,r,n)}function Ij(e,t,r,n,s){r=r.render;var i=t.ref;return pl(t,s),n=Zx(e,t,r,n,i,s),r=Jx(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ma(e,t,s)):(mt&&r&&zx(t),t.flags|=1,wr(e,t,n,s),t.child)}function Mj(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!cy(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Yk(e,t,i,n,s)):(e=Qu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:oc,r(l,n)&&e.ref===t.ref)return Ma(e,t,s)}return t.flags|=1,e=Ns(i,n),e.ref=t.ref,e.return=t,t.child=e}function Yk(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(oc(i,n)&&e.ref===t.ref)if(Ir=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ir=!0);else return t.lanes=e.lanes,Ma(e,t,s)}return Qg(e,t,r,n,s)}function Qk(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(il,qr),qr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,at(il,qr),qr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,at(il,qr),qr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,at(il,qr),qr|=n;return wr(e,t,s,r),t.child}function Xk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qg(e,t,r,n,s){var i=Lr(r)?gi:yr.current;return i=bl(t,i),pl(t,s),r=Zx(e,t,r,n,i,s),n=Jx(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ma(e,t,s)):(mt&&n&&zx(t),t.flags|=1,wr(e,t,r,s),t.child)}function $j(e,t,r,n,s){if(Lr(r)){var i=!0;hm(t)}else i=!1;if(pl(t,s),t.stateNode===null)Vu(e,t),qk(t,r,n),Gg(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Lr(r)?gi:yr.current,u=bl(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Ej(t,l,n,u),is=!1;var p=t.memoizedState;l.state=p,bm(t,n,l,s),c=t.memoizedState,o!==n||p!==c||$r.current||is?(typeof d=="function"&&(Vg(t,r,d,n),c=t.memoizedState),(o=is||Oj(t,r,o,n,p,c,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,kk(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:En(t.type,o),l.props=u,m=t.pendingProps,p=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=Lr(r)?gi:yr.current,c=bl(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||p!==c)&&Ej(t,l,n,c),is=!1,p=t.memoizedState,l.state=p,bm(t,n,l,s);var x=t.memoizedState;o!==m||p!==x||$r.current||is?(typeof g=="function"&&(Vg(t,r,g,n),x=t.memoizedState),(u=is||Oj(t,r,u,n,p,x,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Xg(e,t,r,n,i,s)}function Xg(e,t,r,n,s,i){Xk(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&jj(t,r,!1),Ma(e,t,i);n=t.stateNode,rA.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=wl(t,e.child,null,i),t.child=wl(t,null,o,i)):wr(e,t,o,i),t.memoizedState=n.state,s&&jj(t,r,!0),t.child}function Zk(e){var t=e.stateNode;t.pendingContext?bj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bj(e,t.context,!1),Gx(e,t.containerInfo)}function Lj(e,t,r,n,s){return jl(),Ux(s),t.flags|=256,wr(e,t,r,n),t.child}var Zg={dehydrated:null,treeContext:null,retryLane:0};function Jg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jk(e,t,r){var n=t.pendingProps,s=gt.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),at(gt,s&1),e===null)return Kg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Rf(l,n,0,null),e=di(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jg(r),t.memoizedState=Zg,e):ry(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return nA(e,t,l,n,o,s,r);if(i){i=n.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ns(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Ns(o,i):(i=di(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Jg(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Zg,n}return i=e.child,e=i.sibling,n=Ns(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ry(e,t){return t=Rf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ou(e,t,r,n){return n!==null&&Ux(n),wl(t,e.child,null,r),e=ry(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nA(e,t,r,n,s,i,l){if(r)return t.flags&256?(t.flags&=-257,n=$h(Error(ge(422))),ou(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Rf({mode:"visible",children:n.children},s,0,null),i=di(i,s,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&wl(t,e.child,null,l),t.child.memoizedState=Jg(l),t.memoizedState=Zg,i);if(!(t.mode&1))return ou(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(ge(419)),n=$h(i,n,void 0),ou(e,t,l,n)}if(o=(l&e.childLanes)!==0,Ir||o){if(n=Zt,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ia(e,s),Rn(n,e,s,-1))}return oy(),n=$h(Error(ge(421))),ou(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=gA.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Yr=vs(s.nextSibling),Xr=t,mt=!0,Tn=null,e!==null&&(mn[fn++]=Sa,mn[fn++]=ka,mn[fn++]=xi,Sa=e.id,ka=e.overflow,xi=t),t=ry(t,n.children),t.flags|=4096,t)}function Rj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qg(e.return,t,r)}function Lh(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function e5(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(wr(e,t,n.children,r),n=gt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rj(e,r,t);else if(e.tag===19)Rj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(at(gt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&jm(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Lh(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jm(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Lh(t,!0,r,null,i);break;case"together":Lh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ma(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=Ns(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ns(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aA(e,t,r){switch(t.tag){case 3:Zk(t),jl();break;case 5:_k(t);break;case 1:Lr(t.type)&&hm(t);break;case 4:Gx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;at(ym,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(at(gt,gt.current&1),t.flags|=128,null):r&t.child.childLanes?Jk(e,t,r):(at(gt,gt.current&1),e=Ma(e,t,r),e!==null?e.sibling:null);at(gt,gt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return e5(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(gt,gt.current),n)break;return null;case 22:case 23:return t.lanes=0,Qk(e,t,r)}return Ma(e,t,r)}var t5,e0,r5,n5;t5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};e0=function(){};r5=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ni(oa.current);var i=null;switch(r){case"input":s=wg(e,s),n=wg(e,n),i=[];break;case"select":s=yt({},s,{value:void 0}),n=yt({},n,{value:void 0}),i=[];break;case"textarea":s=kg(e,s),n=kg(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fm)}Pg(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&lt("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};n5=function(e,t,r,n){r!==n&&(t.flags|=4)};function bo(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sA(e,t,r){var n=t.pendingProps;switch(Bx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(t),null;case 1:return Lr(t.type)&&pm(),ur(t),null;case 3:return n=t.stateNode,Nl(),ct($r),ct(yr),Qx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(iu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(o0(Tn),Tn=null))),e0(e,t),ur(t),null;case 5:Yx(t);var s=ni(fc.current);if(r=t.type,e!==null&&t.stateNode!=null)r5(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return ur(t),null}if(e=ni(oa.current),iu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[na]=t,n[uc]=i,e=(t.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(s=0;s<Io.length;s++)lt(Io[s],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":Vb(n,i),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},lt("invalid",n);break;case"textarea":Yb(n,i),lt("invalid",n)}Pg(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&su(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&su(n.textContent,o,e),s=["children",""+o]):tc.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&lt("scroll",n)}switch(r){case"input":Xd(n),Gb(n,i,!0);break;case"textarea":Xd(n),Qb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=fm)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[na]=t,e[uc]=n,t5(e,t,!1,!1),t.stateNode=e;e:{switch(l=Cg(r,n),r){case"dialog":lt("cancel",e),lt("close",e),s=n;break;case"iframe":case"object":case"embed":lt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Io.length;s++)lt(Io[s],e);s=n;break;case"source":lt("error",e),s=n;break;case"img":case"image":case"link":lt("error",e),lt("load",e),s=n;break;case"details":lt("toggle",e),s=n;break;case"input":Vb(e,n),s=wg(e,n),lt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=yt({},n,{value:void 0}),lt("invalid",e);break;case"textarea":Yb(e,n),s=kg(e,n),lt("invalid",e);break;default:s=n}Pg(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?IS(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&TS(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&rc(e,c):typeof c=="number"&&rc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&lt("scroll",e):c!=null&&_x(e,i,c,l))}switch(r){case"input":Xd(e),Gb(e,n,!1);break;case"textarea":Xd(e),Qb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ps(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?dl(e,!!n.multiple,i,!1):n.defaultValue!=null&&dl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ur(t),null;case 6:if(e&&t.stateNode!=null)n5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=ni(fc.current),ni(oa.current),iu(t)){if(n=t.stateNode,r=t.memoizedProps,n[na]=t,(i=n.nodeValue!==r)&&(e=Xr,e!==null))switch(e.tag){case 3:su(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&su(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[na]=t,t.stateNode=n}return ur(t),null;case 13:if(ct(gt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Yr!==null&&t.mode&1&&!(t.flags&128))jk(),jl(),t.flags|=98560,i=!1;else if(i=iu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ge(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[na]=t}else jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ur(t),i=!1}else Tn!==null&&(o0(Tn),Tn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||gt.current&1?zt===0&&(zt=3):oy())),t.updateQueue!==null&&(t.flags|=4),ur(t),null);case 4:return Nl(),e0(e,t),e===null&&cc(t.stateNode.containerInfo),ur(t),null;case 10:return Kx(t.type._context),ur(t),null;case 17:return Lr(t.type)&&pm(),ur(t),null;case 19:if(ct(gt),i=t.memoizedState,i===null)return ur(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)bo(i,!1);else{if(zt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=jm(e),l!==null){for(t.flags|=128,bo(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return at(gt,gt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pt()>kl&&(t.flags|=128,n=!0,bo(i,!1),t.lanes=4194304)}else{if(!n)if(e=jm(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!mt)return ur(t),null}else 2*Pt()-i.renderingStartTime>kl&&r!==1073741824&&(t.flags|=128,n=!0,bo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pt(),t.sibling=null,r=gt.current,at(gt,n?r&1|2:r&1),t):(ur(t),null);case 22:case 23:return ly(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qr&1073741824&&(ur(t),t.subtreeFlags&6&&(t.flags|=8192)):ur(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function iA(e,t){switch(Bx(t),t.tag){case 1:return Lr(t.type)&&pm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nl(),ct($r),ct(yr),Qx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yx(t),null;case 13:if(ct(gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(gt),null;case 4:return Nl(),null;case 10:return Kx(t.type._context),null;case 22:case 23:return ly(),null;case 24:return null;default:return null}}var cu=!1,pr=!1,lA=typeof WeakSet=="function"?WeakSet:Set,ke=null;function sl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(e,t,n)}else r.current=null}function t0(e,t,r){try{r()}catch(n){St(e,t,n)}}var Fj=!1;function oA(e,t){if(Rg=dm,e=ok(),Fx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,m=e,p=null;t:for(;;){for(var g;m!==r||s!==0&&m.nodeType!==3||(o=l+s),m!==i||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===e)break t;if(p===r&&++u===s&&(o=l),p===i&&++d===n&&(c=l),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fg={focusedElem:e,selectionRange:r},dm=!1,ke=t;ke!==null;)if(t=ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ke=e;else for(;ke!==null;){t=ke;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,h=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:En(t.type,v),h);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(P){St(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,ke=e;break}ke=t.return}return x=Fj,Fj=!1,x}function Vo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&t0(t,r,i)}s=s.next}while(s!==n)}}function $f(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function r0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function a5(e){var t=e.alternate;t!==null&&(e.alternate=null,a5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[na],delete t[uc],delete t[Ug],delete t[W6],delete t[K6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s5(e){return e.tag===5||e.tag===3||e.tag===4}function zj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function n0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fm));else if(n!==4&&(e=e.child,e!==null))for(n0(e,t,r),e=e.sibling;e!==null;)n0(e,t,r),e=e.sibling}function a0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(a0(e,t,r),e=e.sibling;e!==null;)a0(e,t,r),e=e.sibling}var nr=null,An=!1;function as(e,t,r){for(r=r.child;r!==null;)i5(e,t,r),r=r.sibling}function i5(e,t,r){if(la&&typeof la.onCommitFiberUnmount=="function")try{la.onCommitFiberUnmount(Cf,r)}catch{}switch(r.tag){case 5:pr||sl(r,t);case 6:var n=nr,s=An;nr=null,as(e,t,r),nr=n,An=s,nr!==null&&(An?(e=nr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nr.removeChild(r.stateNode));break;case 18:nr!==null&&(An?(e=nr,r=r.stateNode,e.nodeType===8?Eh(e.parentNode,r):e.nodeType===1&&Eh(e,r),ic(e)):Eh(nr,r.stateNode));break;case 4:n=nr,s=An,nr=r.stateNode.containerInfo,An=!0,as(e,t,r),nr=n,An=s;break;case 0:case 11:case 14:case 15:if(!pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&t0(r,t,l),s=s.next}while(s!==n)}as(e,t,r);break;case 1:if(!pr&&(sl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){St(r,t,o)}as(e,t,r);break;case 21:as(e,t,r);break;case 22:r.mode&1?(pr=(n=pr)||r.memoizedState!==null,as(e,t,r),pr=n):as(e,t,r);break;default:as(e,t,r)}}function Bj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lA),t.forEach(function(n){var s=xA.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Pn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:nr=o.stateNode,An=!1;break e;case 3:nr=o.stateNode.containerInfo,An=!0;break e;case 4:nr=o.stateNode.containerInfo,An=!0;break e}o=o.return}if(nr===null)throw Error(ge(160));i5(i,l,s),nr=null,An=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){St(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)l5(t,e),t=t.sibling}function l5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pn(t,e),Xn(e),n&4){try{Vo(3,e,e.return),$f(3,e)}catch(v){St(e,e.return,v)}try{Vo(5,e,e.return)}catch(v){St(e,e.return,v)}}break;case 1:Pn(t,e),Xn(e),n&512&&r!==null&&sl(r,r.return);break;case 5:if(Pn(t,e),Xn(e),n&512&&r!==null&&sl(r,r.return),e.flags&32){var s=e.stateNode;try{rc(s,"")}catch(v){St(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&OS(s,i),Cg(o,l);var u=Cg(o,i);for(l=0;l<c.length;l+=2){var d=c[l],m=c[l+1];d==="style"?IS(s,m):d==="dangerouslySetInnerHTML"?TS(s,m):d==="children"?rc(s,m):_x(s,d,m,u)}switch(o){case"input":Ng(s,i);break;case"textarea":ES(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?dl(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?dl(s,!!i.multiple,i.defaultValue,!0):dl(s,!!i.multiple,i.multiple?[]:"",!1))}s[uc]=i}catch(v){St(e,e.return,v)}}break;case 6:if(Pn(t,e),Xn(e),n&4){if(e.stateNode===null)throw Error(ge(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){St(e,e.return,v)}}break;case 3:if(Pn(t,e),Xn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ic(t.containerInfo)}catch(v){St(e,e.return,v)}break;case 4:Pn(t,e),Xn(e);break;case 13:Pn(t,e),Xn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sy=Pt())),n&4&&Bj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(pr=(u=pr)||d,Pn(t,e),pr=u):Pn(t,e),Xn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ke=e,d=e.child;d!==null;){for(m=ke=d;ke!==null;){switch(p=ke,g=p.child,p.tag){case 0:case 11:case 14:case 15:Vo(4,p,p.return);break;case 1:sl(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){St(n,r,v)}}break;case 5:sl(p,p.return);break;case 22:if(p.memoizedState!==null){Hj(m);continue}}g!==null?(g.return=p,ke=g):Hj(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=DS("display",l))}catch(v){St(e,e.return,v)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(v){St(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Pn(t,e),Xn(e),n&4&&Bj(e);break;case 21:break;default:Pn(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(s5(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(rc(s,""),n.flags&=-33);var i=zj(e);a0(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=zj(e);n0(e,o,l);break;default:throw Error(ge(161))}}catch(c){St(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cA(e,t,r){ke=e,o5(e)}function o5(e,t,r){for(var n=(e.mode&1)!==0;ke!==null;){var s=ke,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||cu;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||pr;o=cu;var u=pr;if(cu=l,(pr=c)&&!u)for(ke=s;ke!==null;)l=ke,c=l.child,l.tag===22&&l.memoizedState!==null?Wj(s):c!==null?(c.return=l,ke=c):Wj(s);for(;i!==null;)ke=i,o5(i),i=i.sibling;ke=s,cu=o,pr=u}Uj(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ke=i):Uj(e)}}function Uj(e){for(;ke!==null;){var t=ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pr||$f(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:En(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_j(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_j(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&ic(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}pr||t.flags&512&&r0(t)}catch(p){St(t,t.return,p)}}if(t===e){ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,ke=r;break}ke=t.return}}function Hj(e){for(;ke!==null;){var t=ke;if(t===e){ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ke=r;break}ke=t.return}}function Wj(e){for(;ke!==null;){var t=ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$f(4,t)}catch(c){St(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){St(t,s,c)}}var i=t.return;try{r0(t)}catch(c){St(t,i,c)}break;case 5:var l=t.return;try{r0(t)}catch(c){St(t,l,c)}}}catch(c){St(t,t.return,c)}if(t===e){ke=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ke=o;break}ke=t.return}}var dA=Math.ceil,Sm=Ka.ReactCurrentDispatcher,ny=Ka.ReactCurrentOwner,gn=Ka.ReactCurrentBatchConfig,qe=0,Zt=null,Et=null,sr=0,qr=0,il=$s(0),zt=0,xc=null,vi=0,Lf=0,ay=0,Go=null,Dr=null,sy=0,kl=1/0,va=null,km=!1,s0=null,js=null,du=!1,fs=null,_m=0,Yo=0,i0=null,Gu=-1,Yu=0;function kr(){return qe&6?Pt():Gu!==-1?Gu:Gu=Pt()}function ws(e){return e.mode&1?qe&2&&sr!==0?sr&-sr:V6.transition!==null?(Yu===0&&(Yu=qS()),Yu):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:JS(e.type)),e):1}function Rn(e,t,r,n){if(50<Yo)throw Yo=0,i0=null,Error(ge(185));Rc(e,r,n),(!(qe&2)||e!==Zt)&&(e===Zt&&(!(qe&2)&&(Lf|=r),zt===4&&ds(e,sr)),Rr(e,n),r===1&&qe===0&&!(t.mode&1)&&(kl=Pt()+500,Df&&Ls()))}function Rr(e,t){var r=e.callbackNode;VE(e,t);var n=cm(e,e===Zt?sr:0);if(n===0)r!==null&&Jb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Jb(r),t===1)e.tag===0?q6(Kj.bind(null,e)):yk(Kj.bind(null,e)),U6(function(){!(qe&6)&&Ls()}),r=null;else{switch(VS(n)){case 1:r=Ax;break;case 4:r=WS;break;case 16:r=om;break;case 536870912:r=KS;break;default:r=om}r=g5(r,c5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function c5(e,t){if(Gu=-1,Yu=0,qe&6)throw Error(ge(327));var r=e.callbackNode;if(hl()&&e.callbackNode!==r)return null;var n=cm(e,e===Zt?sr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pm(e,n);else{t=n;var s=qe;qe|=2;var i=u5();(Zt!==e||sr!==t)&&(va=null,kl=Pt()+500,ci(e,t));do try{fA();break}catch(o){d5(e,o)}while(!0);Wx(),Sm.current=i,qe=s,Et!==null?t=0:(Zt=null,sr=0,t=zt)}if(t!==0){if(t===2&&(s=Dg(e),s!==0&&(n=s,t=l0(e,s))),t===1)throw r=xc,ci(e,0),ds(e,n),Rr(e,Pt()),r;if(t===6)ds(e,n);else{if(s=e.current.alternate,!(n&30)&&!uA(s)&&(t=Pm(e,n),t===2&&(i=Dg(e),i!==0&&(n=i,t=l0(e,i))),t===1))throw r=xc,ci(e,0),ds(e,n),Rr(e,Pt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:Xs(e,Dr,va);break;case 3:if(ds(e,n),(n&130023424)===n&&(t=sy+500-Pt(),10<t)){if(cm(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){kr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bg(Xs.bind(null,e,Dr,va),t);break}Xs(e,Dr,va);break;case 4:if(ds(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-Ln(n);i=1<<l,l=t[l],l>s&&(s=l),n&=~i}if(n=s,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dA(n/1960))-n,10<n){e.timeoutHandle=Bg(Xs.bind(null,e,Dr,va),n);break}Xs(e,Dr,va);break;case 5:Xs(e,Dr,va);break;default:throw Error(ge(329))}}}return Rr(e,Pt()),e.callbackNode===r?c5.bind(null,e):null}function l0(e,t){var r=Go;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=Pm(e,t),e!==2&&(t=Dr,Dr=r,t!==null&&o0(t)),e}function o0(e){Dr===null?Dr=e:Dr.push.apply(Dr,e)}function uA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!zn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ds(e,t){for(t&=~ay,t&=~Lf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ln(t),n=1<<r;e[r]=-1,t&=~n}}function Kj(e){if(qe&6)throw Error(ge(327));hl();var t=cm(e,0);if(!(t&1))return Rr(e,Pt()),null;var r=Pm(e,t);if(e.tag!==0&&r===2){var n=Dg(e);n!==0&&(t=n,r=l0(e,n))}if(r===1)throw r=xc,ci(e,0),ds(e,t),Rr(e,Pt()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xs(e,Dr,va),Rr(e,Pt()),null}function iy(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(kl=Pt()+500,Df&&Ls())}}function bi(e){fs!==null&&fs.tag===0&&!(qe&6)&&hl();var t=qe;qe|=1;var r=gn.transition,n=Ze;try{if(gn.transition=null,Ze=1,e)return e()}finally{Ze=n,gn.transition=r,qe=t,!(qe&6)&&Ls()}}function ly(){qr=il.current,ct(il)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,B6(r)),Et!==null)for(r=Et.return;r!==null;){var n=r;switch(Bx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pm();break;case 3:Nl(),ct($r),ct(yr),Qx();break;case 5:Yx(n);break;case 4:Nl();break;case 13:ct(gt);break;case 19:ct(gt);break;case 10:Kx(n.type._context);break;case 22:case 23:ly()}r=r.return}if(Zt=e,Et=e=Ns(e.current,null),sr=qr=t,zt=0,xc=null,ay=Lf=vi=0,Dr=Go=null,ri!==null){for(t=0;t<ri.length;t++)if(r=ri[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}ri=null}return e}function d5(e,t){do{var r=Et;try{if(Wx(),Ku.current=Nm,wm){for(var n=xt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}wm=!1}if(yi=0,Yt=Lt=xt=null,qo=!1,pc=0,ny.current=null,r===null||r.return===null){zt=1,xc=t,Et=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=sr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Tj(l);if(g!==null){g.flags&=-257,Dj(g,l,o,i,t),g.mode&1&&Aj(i,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){Aj(i,u,t),oy();break e}c=Error(ge(426))}}else if(mt&&o.mode&1){var h=Tj(l);if(h!==null){!(h.flags&65536)&&(h.flags|=256),Dj(h,l,o,i,t),Ux(Sl(c,o));break e}}i=c=Sl(c,o),zt!==4&&(zt=2),Go===null?Go=[i]:Go.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Vk(i,c,t);kj(i,y);break e;case 1:o=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(js===null||!js.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var P=Gk(i,o,t);kj(i,P);break e}}i=i.return}while(i!==null)}f5(r)}catch(_){t=_,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function u5(){var e=Sm.current;return Sm.current=Nm,e===null?Nm:e}function oy(){(zt===0||zt===3||zt===2)&&(zt=4),Zt===null||!(vi&268435455)&&!(Lf&268435455)||ds(Zt,sr)}function Pm(e,t){var r=qe;qe|=2;var n=u5();(Zt!==e||sr!==t)&&(va=null,ci(e,t));do try{mA();break}catch(s){d5(e,s)}while(!0);if(Wx(),qe=r,Sm.current=n,Et!==null)throw Error(ge(261));return Zt=null,sr=0,zt}function mA(){for(;Et!==null;)m5(Et)}function fA(){for(;Et!==null&&!RE();)m5(Et)}function m5(e){var t=h5(e.alternate,e,qr);e.memoizedProps=e.pendingProps,t===null?f5(e):Et=t,ny.current=null}function f5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iA(r,t),r!==null){r.flags&=32767,Et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zt=6,Et=null;return}}else if(r=sA(r,t,qr),r!==null){Et=r;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);zt===0&&(zt=5)}function Xs(e,t,r){var n=Ze,s=gn.transition;try{gn.transition=null,Ze=1,pA(e,t,r,n)}finally{gn.transition=s,Ze=n}return null}function pA(e,t,r,n){do hl();while(fs!==null);if(qe&6)throw Error(ge(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(GE(e,i),e===Zt&&(Et=Zt=null,sr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||du||(du=!0,g5(om,function(){return hl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var l=Ze;Ze=1;var o=qe;qe|=4,ny.current=null,oA(e,r),l5(r,e),I6(Fg),dm=!!Rg,Fg=Rg=null,e.current=r,cA(r),FE(),qe=o,Ze=l,gn.transition=i}else e.current=r;if(du&&(du=!1,fs=e,_m=s),i=e.pendingLanes,i===0&&(js=null),UE(r.stateNode),Rr(e,Pt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(km)throw km=!1,e=s0,s0=null,e;return _m&1&&e.tag!==0&&hl(),i=e.pendingLanes,i&1?e===i0?Yo++:(Yo=0,i0=e):Yo=0,Ls(),null}function hl(){if(fs!==null){var e=VS(_m),t=gn.transition,r=Ze;try{if(gn.transition=null,Ze=16>e?16:e,fs===null)var n=!1;else{if(e=fs,fs=null,_m=0,qe&6)throw Error(ge(331));var s=qe;for(qe|=4,ke=e.current;ke!==null;){var i=ke,l=i.child;if(ke.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ke=u;ke!==null;){var d=ke;switch(d.tag){case 0:case 11:case 15:Vo(8,d,i)}var m=d.child;if(m!==null)m.return=d,ke=m;else for(;ke!==null;){d=ke;var p=d.sibling,g=d.return;if(a5(d),d===u){ke=null;break}if(p!==null){p.return=g,ke=p;break}ke=g}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var h=v.sibling;v.sibling=null,v=h}while(v!==null)}}ke=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ke=l;else e:for(;ke!==null;){if(i=ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ke=y;break e}ke=i.return}}var b=e.current;for(ke=b;ke!==null;){l=ke;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,ke=j;else e:for(l=b;ke!==null;){if(o=ke,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$f(9,o)}}catch(_){St(o,o.return,_)}if(o===l){ke=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,ke=P;break e}ke=o.return}}if(qe=s,Ls(),la&&typeof la.onPostCommitFiberRoot=="function")try{la.onPostCommitFiberRoot(Cf,e)}catch{}n=!0}return n}finally{Ze=r,gn.transition=t}}return!1}function qj(e,t,r){t=Sl(r,t),t=Vk(e,t,1),e=bs(e,t,1),t=kr(),e!==null&&(Rc(e,1,t),Rr(e,t))}function St(e,t,r){if(e.tag===3)qj(e,e,r);else for(;t!==null;){if(t.tag===3){qj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(js===null||!js.has(n))){e=Sl(r,e),e=Gk(t,e,1),t=bs(t,e,1),e=kr(),t!==null&&(Rc(t,1,e),Rr(t,e));break}}t=t.return}}function hA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=kr(),e.pingedLanes|=e.suspendedLanes&r,Zt===e&&(sr&r)===r&&(zt===4||zt===3&&(sr&130023424)===sr&&500>Pt()-sy?ci(e,0):ay|=r),Rr(e,t)}function p5(e,t){t===0&&(e.mode&1?(t=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):t=1);var r=kr();e=Ia(e,t),e!==null&&(Rc(e,t,r),Rr(e,r))}function gA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),p5(e,r)}function xA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),p5(e,r)}var h5;h5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$r.current)Ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ir=!1,aA(e,t,r);Ir=!!(e.flags&131072)}else Ir=!1,mt&&t.flags&1048576&&vk(t,xm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vu(e,t),e=t.pendingProps;var s=bl(t,yr.current);pl(t,r),s=Zx(null,t,n,e,s,r);var i=Jx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lr(n)?(i=!0,hm(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vx(t),s.updater=Mf,t.stateNode=s,s._reactInternals=t,Gg(t,n,e,r),t=Xg(null,t,n,!0,i,r)):(t.tag=0,mt&&i&&zx(t),wr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vu(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=vA(n),e=En(n,e),s){case 0:t=Qg(null,t,n,e,r);break e;case 1:t=$j(null,t,n,e,r);break e;case 11:t=Ij(null,t,n,e,r);break e;case 14:t=Mj(null,t,n,En(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:En(n,s),Qg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:En(n,s),$j(e,t,n,s,r);case 3:e:{if(Zk(t),e===null)throw Error(ge(387));n=t.pendingProps,i=t.memoizedState,s=i.element,kk(e,t),bm(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Sl(Error(ge(423)),t),t=Lj(e,t,n,r,s);break e}else if(n!==s){s=Sl(Error(ge(424)),t),t=Lj(e,t,n,r,s);break e}else for(Yr=vs(t.stateNode.containerInfo.firstChild),Xr=t,mt=!0,Tn=null,r=Nk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jl(),n===s){t=Ma(e,t,r);break e}wr(e,t,n,r)}t=t.child}return t;case 5:return _k(t),e===null&&Kg(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,zg(n,s)?l=null:i!==null&&zg(n,i)&&(t.flags|=32),Xk(e,t),wr(e,t,l,r),t.child;case 6:return e===null&&Kg(t),null;case 13:return Jk(e,t,r);case 4:return Gx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wl(t,null,n,r):wr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:En(n,s),Ij(e,t,n,s,r);case 7:return wr(e,t,t.pendingProps,r),t.child;case 8:return wr(e,t,t.pendingProps.children,r),t.child;case 12:return wr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,at(ym,n._currentValue),n._currentValue=l,i!==null)if(zn(i.value,l)){if(i.children===s.children&&!$r.current){t=Ma(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ca(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),qg(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(ge(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),qg(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}wr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,pl(t,r),s=xn(s),n=n(s),t.flags|=1,wr(e,t,n,r),t.child;case 14:return n=t.type,s=En(n,t.pendingProps),s=En(n.type,s),Mj(e,t,n,s,r);case 15:return Yk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:En(n,s),Vu(e,t),t.tag=1,Lr(n)?(e=!0,hm(t)):e=!1,pl(t,r),qk(t,n,s),Gg(t,n,s,r),Xg(null,t,n,!0,e,r);case 19:return e5(e,t,r);case 22:return Qk(e,t,r)}throw Error(ge(156,t.tag))};function g5(e,t){return HS(e,t)}function yA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,r,n){return new yA(e,t,r,n)}function cy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vA(e){if(typeof e=="function")return cy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cx)return 11;if(e===Ox)return 14}return 2}function Ns(e,t){var r=e.alternate;return r===null?(r=pn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qu(e,t,r,n,s,i){var l=2;if(n=e,typeof e=="function")cy(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Qi:return di(r.children,s,i,t);case Px:l=8,s|=8;break;case yg:return e=pn(12,r,t,s|2),e.elementType=yg,e.lanes=i,e;case vg:return e=pn(13,r,t,s),e.elementType=vg,e.lanes=i,e;case bg:return e=pn(19,r,t,s),e.elementType=bg,e.lanes=i,e;case _S:return Rf(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SS:l=10;break e;case kS:l=9;break e;case Cx:l=11;break e;case Ox:l=14;break e;case ss:l=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=pn(l,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function di(e,t,r,n){return e=pn(7,e,n,t),e.lanes=r,e}function Rf(e,t,r,n){return e=pn(22,e,n,t),e.elementType=_S,e.lanes=r,e.stateNode={isHidden:!1},e}function Rh(e,t,r){return e=pn(6,e,null,t),e.lanes=r,e}function Fh(e,t,r){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bA(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vh(0),this.expirationTimes=vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dy(e,t,r,n,s,i,l,o,c){return e=new bA(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=pn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vx(i),e}function jA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function x5(e){if(!e)return Cs;e=e._reactInternals;e:{if(Di(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(Lr(r))return xk(e,r,t)}return t}function y5(e,t,r,n,s,i,l,o,c){return e=dy(r,n,!0,e,s,i,l,o,c),e.context=x5(null),r=e.current,n=kr(),s=ws(r),i=Ca(n,s),i.callback=t??null,bs(r,i,s),e.current.lanes=s,Rc(e,s,n),Rr(e,n),e}function Ff(e,t,r,n){var s=t.current,i=kr(),l=ws(s);return r=x5(r),t.context===null?t.context=r:t.pendingContext=r,t=Ca(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bs(s,t,l),e!==null&&(Rn(e,s,l,i),Wu(e,s,l)),l}function Cm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function uy(e,t){Vj(e,t),(e=e.alternate)&&Vj(e,t)}function wA(){return null}var v5=typeof reportError=="function"?reportError:function(e){console.error(e)};function my(e){this._internalRoot=e}zf.prototype.render=my.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));Ff(e,t,null,null)};zf.prototype.unmount=my.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bi(function(){Ff(null,e,null,null)}),t[Da]=null}};function zf(e){this._internalRoot=e}zf.prototype.unstable_scheduleHydration=function(e){if(e){var t=QS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cs.length&&t!==0&&t<cs[r].priority;r++);cs.splice(r,0,e),r===0&&ZS(e)}};function fy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gj(){}function NA(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Cm(l);i.call(u)}}var l=y5(t,n,e,0,null,!1,!1,"",Gj);return e._reactRootContainer=l,e[Da]=l.current,cc(e.nodeType===8?e.parentNode:e),bi(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Cm(c);o.call(u)}}var c=dy(e,0,!1,null,null,!1,!1,"",Gj);return e._reactRootContainer=c,e[Da]=c.current,cc(e.nodeType===8?e.parentNode:e),bi(function(){Ff(t,c,r,n)}),c}function Uf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=Cm(l);o.call(c)}}Ff(t,l,e,s)}else l=NA(r,t,e,s,n);return Cm(l)}GS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Do(t.pendingLanes);r!==0&&(Tx(t,r|1),Rr(t,Pt()),!(qe&6)&&(kl=Pt()+500,Ls()))}break;case 13:bi(function(){var n=Ia(e,1);if(n!==null){var s=kr();Rn(n,e,1,s)}}),uy(e,1)}};Dx=function(e){if(e.tag===13){var t=Ia(e,134217728);if(t!==null){var r=kr();Rn(t,e,134217728,r)}uy(e,134217728)}};YS=function(e){if(e.tag===13){var t=ws(e),r=Ia(e,t);if(r!==null){var n=kr();Rn(r,e,t,n)}uy(e,t)}};QS=function(){return Ze};XS=function(e,t){var r=Ze;try{return Ze=e,t()}finally{Ze=r}};Eg=function(e,t,r){switch(t){case"input":if(Ng(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Tf(n);if(!s)throw Error(ge(90));CS(n),Ng(n,s)}}}break;case"textarea":ES(e,r);break;case"select":t=r.value,t!=null&&dl(e,!!r.multiple,t,!1)}};LS=iy;RS=bi;var SA={usingClientEntryPoint:!1,Events:[zc,el,Tf,MS,$S,iy]},jo={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kA={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BS(e),e===null?null:e.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||wA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{Cf=uu.inject(kA),la=uu}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA;rn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fy(t))throw Error(ge(200));return jA(e,t,null,r)};rn.createRoot=function(e,t){if(!fy(e))throw Error(ge(299));var r=!1,n="",s=v5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=dy(e,1,!1,null,null,r,!1,n,s),e[Da]=t.current,cc(e.nodeType===8?e.parentNode:e),new my(t)};rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=BS(t),e=e===null?null:e.stateNode,e};rn.flushSync=function(e){return bi(e)};rn.hydrate=function(e,t,r){if(!Bf(t))throw Error(ge(200));return Uf(null,e,t,!0,r)};rn.hydrateRoot=function(e,t,r){if(!fy(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=v5;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=y5(t,null,e,1,r??null,s,!1,i,l),e[Da]=t.current,cc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new zf(t)};rn.render=function(e,t,r){if(!Bf(t))throw Error(ge(200));return Uf(null,e,t,!1,r)};rn.unmountComponentAtNode=function(e){if(!Bf(e))throw Error(ge(40));return e._reactRootContainer?(bi(function(){Uf(null,null,e,!1,function(){e._reactRootContainer=null,e[Da]=null})}),!0):!1};rn.unstable_batchedUpdates=iy;rn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bf(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Uf(e,t,r,!1,n)};rn.version="18.3.1-next-f1338f8080-20240426";function b5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b5)}catch(e){console.error(e)}}b5(),bS.exports=rn;var Hf=bS.exports,j5,Yj=Hf;j5=Yj.createRoot,Yj.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}var ps;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ps||(ps={}));const Qj="popstate";function _A(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:l,hash:o}=n.location;return c0("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Om(s)}return CA(t,r,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function py(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PA(){return Math.random().toString(36).substr(2,8)}function Xj(e,t){return{usr:e.state,key:e.key,idx:t}}function c0(e,t,r,n){return r===void 0&&(r=null),yc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bl(t):t,{state:r,key:t&&t.key||n||PA()})}function Om(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function CA(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,l=s.history,o=ps.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(yc({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function m(){o=ps.Pop;let h=d(),y=h==null?null:h-u;u=h,c&&c({action:o,location:v.location,delta:y})}function p(h,y){o=ps.Push;let b=c0(v.location,h,y);u=d()+1;let j=Xj(b,u),P=v.createHref(b);try{l.pushState(j,"",P)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(P)}i&&c&&c({action:o,location:v.location,delta:1})}function g(h,y){o=ps.Replace;let b=c0(v.location,h,y);u=d();let j=Xj(b,u),P=v.createHref(b);l.replaceState(j,"",P),i&&c&&c({action:o,location:v.location,delta:0})}function x(h){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof h=="string"?h:Om(h);return Ct(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let v={get action(){return o},get location(){return e(s,l)},listen(h){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Qj,m),c=h,()=>{s.removeEventListener(Qj,m),c=null}},createHref(h){return t(s,h)},createURL:x,encodeLocation(h){let y=x(h);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(h){return l.go(h)}};return v}var Zj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zj||(Zj={}));function OA(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Bl(t):t,s=hy(n.pathname||"/",r);if(s==null)return null;let i=w5(e);EA(i);let l=null;for(let o=0;l==null&&o<i.length;++o)l=FA(i[o],UA(s));return l}function w5(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Ct(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ss([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),w5(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:LA(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of N5(i.path))s(i,l,c)}),t}function N5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let l=N5(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function EA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:RA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AA=/^:[\w-]+$/,TA=3,DA=2,IA=1,MA=10,$A=-2,Jj=e=>e==="*";function LA(e,t){let r=e.split("/"),n=r.length;return r.some(Jj)&&(n+=$A),t&&(n+=DA),r.filter(s=>!Jj(s)).reduce((s,i)=>s+(AA.test(i)?TA:i===""?IA:MA),n)}function RA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function FA(e,t){let{routesMeta:r}=e,n={},s="/",i=[];for(let l=0;l<r.length;++l){let o=r[l],c=l===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=zA({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u);if(!d)return null;Object.assign(n,d.params);let m=o.route;i.push({params:n,pathname:Ss([s,d.pathname]),pathnameBase:VA(Ss([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=Ss([s,d.pathnameBase]))}return i}function zA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=BA(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let v=o[m]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[m];return g&&!x?u[p]=void 0:u[p]=HA(x||"",p),u},{}),pathname:i,pathnameBase:l,pattern:e}}function BA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),py(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function UA(e){try{return decodeURI(e)}catch(t){return py(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HA(e,t){try{return decodeURIComponent(e)}catch(r){return py(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function hy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function WA(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Bl(e):e;return{pathname:r?r.startsWith("/")?r:KA(r,t):t,search:GA(n),hash:YA(s)}}function KA(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function zh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qA(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gy(e,t){let r=qA(e);return t?r.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xy(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Bl(e):(s=yc({},e),Ct(!s.pathname||!s.pathname.includes("?"),zh("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),zh("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),zh("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}o=m>=0?t[m]:"/"}let c=WA(s,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ss=e=>e.join("/").replace(/\/\/+/g,"/"),VA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),GA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const S5=["post","put","patch","delete"];new Set(S5);const XA=["get",...S5];new Set(XA);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}const yy=f.createContext(null),ZA=f.createContext(null),Rs=f.createContext(null),Wf=f.createContext(null),qa=f.createContext({outlet:null,matches:[],isDataRoute:!1}),k5=f.createContext(null);function JA(e,t){let{relative:r}=t===void 0?{}:t;Ul()||Ct(!1);let{basename:n,navigator:s}=f.useContext(Rs),{hash:i,pathname:l,search:o}=C5(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:Ss([n,l])),s.createHref({pathname:c,search:o,hash:i})}function Ul(){return f.useContext(Wf)!=null}function Fs(){return Ul()||Ct(!1),f.useContext(Wf).location}function _5(e){f.useContext(Rs).static||f.useLayoutEffect(e)}function Br(){let{isDataRoute:e}=f.useContext(qa);return e?mT():eT()}function eT(){Ul()||Ct(!1);let e=f.useContext(yy),{basename:t,future:r,navigator:n}=f.useContext(Rs),{matches:s}=f.useContext(qa),{pathname:i}=Fs(),l=JSON.stringify(gy(s,r.v7_relativeSplatPath)),o=f.useRef(!1);return _5(()=>{o.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=xy(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ss([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,l,i,e])}function P5(){let{matches:e}=f.useContext(qa),t=e[e.length-1];return t?t.params:{}}function C5(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(Rs),{matches:s}=f.useContext(qa),{pathname:i}=Fs(),l=JSON.stringify(gy(s,n.v7_relativeSplatPath));return f.useMemo(()=>xy(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function tT(e,t){return rT(e,t)}function rT(e,t,r,n){Ul()||Ct(!1);let{navigator:s}=f.useContext(Rs),{matches:i}=f.useContext(qa),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Fs(),d;if(t){var m;let h=typeof t=="string"?Bl(t):t;c==="/"||(m=h.pathname)!=null&&m.startsWith(c)||Ct(!1),d=h}else d=u;let p=d.pathname||"/",g=c==="/"?p:p.slice(c.length)||"/",x=OA(e,{pathname:g}),v=lT(x&&x.map(h=>Object.assign({},h,{params:Object.assign({},o,h.params),pathname:Ss([c,s.encodeLocation?s.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:Ss([c,s.encodeLocation?s.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,r,n);return t&&v?f.createElement(Wf.Provider,{value:{location:vc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ps.Pop}},v):v}function nT(){let e=uT(),t=QA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:s},r):null,null)}const aT=f.createElement(nT,null);class sT extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(qa.Provider,{value:this.props.routeContext},f.createElement(k5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iT(e){let{routeContext:t,match:r,children:n}=e,s=f.useContext(yy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(qa.Provider,{value:t},n)}function lT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if((i=r)!=null&&i.errors)e=r.matches;else return null}let l=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id]));d>=0||Ct(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let m=l[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:p,errors:g}=r,x=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,m,p)=>{let g,x=!1,v=null,h=null;r&&(g=o&&m.route.id?o[m.route.id]:void 0,v=m.route.errorElement||aT,c&&(u<0&&p===0?(fT("route-fallback"),x=!0,h=null):u===p&&(x=!0,h=m.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,p+1)),b=()=>{let j;return g?j=v:x?j=h:m.route.Component?j=f.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=d,f.createElement(iT,{match:m,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?f.createElement(sT,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var O5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O5||{}),E5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E5||{});function oT(e){let t=f.useContext(yy);return t||Ct(!1),t}function cT(e){let t=f.useContext(ZA);return t||Ct(!1),t}function dT(e){let t=f.useContext(qa);return t||Ct(!1),t}function A5(e){let t=dT(),r=t.matches[t.matches.length-1];return r.route.id||Ct(!1),r.route.id}function uT(){var e;let t=f.useContext(k5),r=cT(),n=A5();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function mT(){let{router:e}=oT(O5.UseNavigateStable),t=A5(E5.UseNavigateStable),r=f.useRef(!1);return _5(()=>{r.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,vc({fromRouteId:t},i)))},[e,t])}const ew={};function fT(e,t,r){ew[e]||(ew[e]=!0)}function ll(e){let{to:t,replace:r,state:n,relative:s}=e;Ul()||Ct(!1);let{future:i,static:l}=f.useContext(Rs),{matches:o}=f.useContext(qa),{pathname:c}=Fs(),u=Br(),d=xy(t,gy(o,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(d);return f.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function Me(e){Ct(!1)}function pT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ps.Pop,navigator:i,static:l=!1,future:o}=e;Ul()&&Ct(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:i,static:l,future:vc({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=Bl(n));let{pathname:d="/",search:m="",hash:p="",state:g=null,key:x="default"}=n,v=f.useMemo(()=>{let h=hy(d,c);return h==null?null:{location:{pathname:h,search:m,hash:p,state:g,key:x},navigationType:s}},[c,d,m,p,g,x,s]);return v==null?null:f.createElement(Rs.Provider,{value:u},f.createElement(Wf.Provider,{children:r,value:v}))}function hT(e){let{children:t,location:r}=e;return tT(d0(t),r)}new Promise(()=>{});function d0(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,s)=>{if(!f.isValidElement(n))return;let i=[...t,s];if(n.type===f.Fragment){r.push.apply(r,d0(n.props.children,i));return}n.type!==Me&&Ct(!1),!n.props.index||!n.props.children||Ct(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=d0(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(this,arguments)}function gT(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function xT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yT(e,t){return e.button===0&&(!t||t==="_self")&&!xT(e)}function m0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function vT(e,t){let r=m0(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const bT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jT="6";try{window.__reactRouterVersion=jT}catch{}const wT="startTransition",tw=yS[wT];function NT(e){let{basename:t,children:r,future:n,window:s}=e,i=f.useRef();i.current==null&&(i.current=_A({window:s,v5Compat:!0}));let l=i.current,[o,c]=f.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=f.useCallback(m=>{u&&tw?tw(()=>c(m)):c(m)},[c,u]);return f.useLayoutEffect(()=>l.listen(d),[l,d]),f.createElement(pT,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const ST=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ca=f.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:d,unstable_viewTransition:m}=t,p=gT(t,bT),{basename:g}=f.useContext(Rs),x,v=!1;if(typeof u=="string"&&kT.test(u)&&(x=u,ST))try{let j=new URL(window.location.href),P=u.startsWith("//")?new URL(j.protocol+u):new URL(u),_=hy(P.pathname,g);P.origin===j.origin&&_!=null?u=_+P.search+P.hash:v=!0}catch{}let h=JA(u,{relative:s}),y=_T(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||y(j)}return f.createElement("a",u0({},p,{href:x||h,onClick:v||i?n:b,ref:r,target:c}))});var rw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rw||(rw={}));var nw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nw||(nw={}));function _T(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:l,unstable_viewTransition:o}=t===void 0?{}:t,c=Br(),u=Fs(),d=C5(e,{relative:l});return f.useCallback(m=>{if(yT(m,r)){m.preventDefault();let p=n!==void 0?n:Om(u)===Om(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:l,unstable_viewTransition:o})}},[u,c,d,n,s,r,e,i,l,o])}function PT(e){let t=f.useRef(m0(e)),r=f.useRef(!1),n=Fs(),s=f.useMemo(()=>vT(n.search,r.current?null:t.current),[n.search]),i=Br(),l=f.useCallback((o,c)=>{const u=m0(typeof o=="function"?o(s):o);r.current=!0,i("?"+u,c)},[i,s]);return[s,l]}function T5(e,t){return function(){return e.apply(t,arguments)}}const{toString:CT}=Object.prototype,{getPrototypeOf:vy}=Object,{iterator:Kf,toStringTag:D5}=Symbol,qf=(e=>t=>{const r=CT.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=e=>(e=e.toLowerCase(),t=>qf(t)===e),Vf=e=>t=>typeof t===e,{isArray:Hl}=Array,_l=Vf("undefined");function Uc(e){return e!==null&&!_l(e)&&e.constructor!==null&&!_l(e.constructor)&&Fr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const I5=Wn("ArrayBuffer");function OT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&I5(e.buffer),t}const ET=Vf("string"),Fr=Vf("function"),M5=Vf("number"),Hc=e=>e!==null&&typeof e=="object",AT=e=>e===!0||e===!1,Xu=e=>{if(qf(e)!=="object")return!1;const t=vy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(D5 in e)&&!(Kf in e)},TT=e=>{if(!Hc(e)||Uc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},DT=Wn("Date"),IT=Wn("File"),MT=Wn("Blob"),$T=Wn("FileList"),LT=e=>Hc(e)&&Fr(e.pipe),RT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fr(e.append)&&((t=qf(e))==="formdata"||t==="object"&&Fr(e.toString)&&e.toString()==="[object FormData]"))},FT=Wn("URLSearchParams"),[zT,BT,UT,HT]=["ReadableStream","Request","Response","Headers"].map(Wn),WT=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Hl(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Uc(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],t.call(null,e[o],o,e)}}function $5(e,t){if(Uc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,L5=e=>!_l(e)&&e!==ai;function f0(){const{caseless:e,skipUndefined:t}=L5(this)&&this||{},r={},n=(s,i)=>{const l=e&&$5(r,i)||i;Xu(r[l])&&Xu(s)?r[l]=f0(r[l],s):Xu(s)?r[l]=f0({},s):Hl(s)?r[l]=s.slice():(!t||!_l(s))&&(r[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Wc(arguments[s],n);return r}const KT=(e,t,r,{allOwnKeys:n}={})=>(Wc(t,(s,i)=>{r&&Fr(s)?e[i]=T5(s,r):e[i]=s},{allOwnKeys:n}),e),qT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),VT=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},GT=(e,t,r,n)=>{let s,i,l;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=r!==!1&&vy(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},YT=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},QT=e=>{if(!e)return null;if(Hl(e))return e;let t=e.length;if(!M5(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},XT=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vy(Uint8Array)),ZT=(e,t)=>{const n=(e&&e[Kf]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},JT=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},eD=Wn("HTMLFormElement"),tD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),aw=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),rD=Wn("RegExp"),R5=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Wc(r,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(n[i]=l||s)}),Object.defineProperties(e,n)},nD=e=>{R5(e,(t,r)=>{if(Fr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Fr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},aD=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Hl(e)?n(e):n(String(e).split(t)),r},sD=()=>{},iD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function lD(e){return!!(e&&Fr(e.append)&&e[D5]==="FormData"&&e[Kf])}const oD=e=>{const t=new Array(10),r=(n,s)=>{if(Hc(n)){if(t.indexOf(n)>=0)return;if(Uc(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Hl(n)?[]:{};return Wc(n,(l,o)=>{const c=r(l,s+1);!_l(c)&&(i[o]=c)}),t[s]=void 0,i}}return n};return r(e,0)},cD=Wn("AsyncFunction"),dD=e=>e&&(Hc(e)||Fr(e))&&Fr(e.then)&&Fr(e.catch),F5=((e,t)=>e?setImmediate:t?((r,n)=>(ai.addEventListener("message",({source:s,data:i})=>{s===ai&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ai.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fr(ai.postMessage)),uD=typeof queueMicrotask<"u"?queueMicrotask.bind(ai):typeof process<"u"&&process.nextTick||F5,mD=e=>e!=null&&Fr(e[Kf]),Z={isArray:Hl,isArrayBuffer:I5,isBuffer:Uc,isFormData:RT,isArrayBufferView:OT,isString:ET,isNumber:M5,isBoolean:AT,isObject:Hc,isPlainObject:Xu,isEmptyObject:TT,isReadableStream:zT,isRequest:BT,isResponse:UT,isHeaders:HT,isUndefined:_l,isDate:DT,isFile:IT,isBlob:MT,isRegExp:rD,isFunction:Fr,isStream:LT,isURLSearchParams:FT,isTypedArray:XT,isFileList:$T,forEach:Wc,merge:f0,extend:KT,trim:WT,stripBOM:qT,inherits:VT,toFlatObject:GT,kindOf:qf,kindOfTest:Wn,endsWith:YT,toArray:QT,forEachEntry:ZT,matchAll:JT,isHTMLForm:eD,hasOwnProperty:aw,hasOwnProp:aw,reduceDescriptors:R5,freezeMethods:nD,toObjectSet:aD,toCamelCase:tD,noop:sD,toFiniteNumber:iD,findKey:$5,global:ai,isContextDefined:L5,isSpecCompliantForm:lD,toJSONObject:oD,isAsyncFn:cD,isThenable:dD,setImmediate:F5,asap:uD,isIterable:mD};function $e(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Z.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const z5=$e.prototype,B5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{B5[e]={value:e}});Object.defineProperties($e,B5);Object.defineProperty(z5,"isAxiosError",{value:!0});$e.from=(e,t,r,n,s,i)=>{const l=Object.create(z5);Z.toFlatObject(e,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return $e.call(l,o,c,r,n,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const fD=null;function p0(e){return Z.isPlainObject(e)||Z.isArray(e)}function U5(e){return Z.endsWith(e,"[]")?e.slice(0,-2):e}function sw(e,t,r){return e?e.concat(t).map(function(s,i){return s=U5(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function pD(e){return Z.isArray(e)&&!e.some(p0)}const hD=Z.toFlatObject(Z,{},null,function(t){return/^is[A-Z]/.test(t)});function Gf(e,t,r){if(!Z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,h){return!Z.isUndefined(h[v])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(t);if(!Z.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(Z.isDate(x))return x.toISOString();if(Z.isBoolean(x))return x.toString();if(!c&&Z.isBlob(x))throw new $e("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(x)||Z.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,v,h){let y=x;if(x&&!h&&typeof x=="object"){if(Z.endsWith(v,"{}"))v=n?v:v.slice(0,-2),x=JSON.stringify(x);else if(Z.isArray(x)&&pD(x)||(Z.isFileList(x)||Z.endsWith(v,"[]"))&&(y=Z.toArray(x)))return v=U5(v),y.forEach(function(j,P){!(Z.isUndefined(j)||j===null)&&t.append(l===!0?sw([v],P,i):l===null?v:v+"[]",u(j))}),!1}return p0(x)?!0:(t.append(sw(h,v,i),u(x)),!1)}const m=[],p=Object.assign(hD,{defaultVisitor:d,convertValue:u,isVisitable:p0});function g(x,v){if(!Z.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(x),Z.forEach(x,function(y,b){(!(Z.isUndefined(y)||y===null)&&s.call(t,y,Z.isString(b)?b.trim():b,v,p))===!0&&g(y,v?v.concat(b):[b])}),m.pop()}}if(!Z.isObject(e))throw new TypeError("data must be an object");return g(e),t}function iw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function by(e,t){this._pairs=[],e&&Gf(e,this,t)}const H5=by.prototype;H5.append=function(t,r){this._pairs.push([t,r])};H5.toString=function(t){const r=t?function(n){return t.call(this,n,iw)}:iw;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function gD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function W5(e,t,r){if(!t)return e;const n=r&&r.encode||gD;Z.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=Z.isURLSearchParams(t)?t.toString():new by(t,r).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class lw{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Z.forEach(this.handlers,function(n){n!==null&&t(n)})}}const K5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xD=typeof URLSearchParams<"u"?URLSearchParams:by,yD=typeof FormData<"u"?FormData:null,vD=typeof Blob<"u"?Blob:null,bD={isBrowser:!0,classes:{URLSearchParams:xD,FormData:yD,Blob:vD},protocols:["http","https","file","blob","url","data"]},jy=typeof window<"u"&&typeof document<"u",h0=typeof navigator=="object"&&navigator||void 0,jD=jy&&(!h0||["ReactNative","NativeScript","NS"].indexOf(h0.product)<0),wD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ND=jy&&window.location.href||"http://localhost",SD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jy,hasStandardBrowserEnv:jD,hasStandardBrowserWebWorkerEnv:wD,navigator:h0,origin:ND},Symbol.toStringTag,{value:"Module"})),gr={...SD,...bD};function kD(e,t){return Gf(e,new gr.classes.URLSearchParams,{visitor:function(r,n,s,i){return gr.isNode&&Z.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function _D(e){return Z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function PD(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function q5(e){function t(r,n,s,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&Z.isArray(s)?s.length:l,c?(Z.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!o):((!s[l]||!Z.isObject(s[l]))&&(s[l]=[]),t(r,n,s[l],i)&&Z.isArray(s[l])&&(s[l]=PD(s[l])),!o)}if(Z.isFormData(e)&&Z.isFunction(e.entries)){const r={};return Z.forEachEntry(e,(n,s)=>{t(_D(n),s,r,0)}),r}return null}function CD(e,t,r){if(Z.isString(e))try{return(t||JSON.parse)(e),Z.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Kc={transitional:K5,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Z.isObject(t);if(i&&Z.isHTMLForm(t)&&(t=new FormData(t)),Z.isFormData(t))return s?JSON.stringify(q5(t)):t;if(Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t)||Z.isReadableStream(t))return t;if(Z.isArrayBufferView(t))return t.buffer;if(Z.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return kD(t,this.formSerializer).toString();if((o=Z.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gf(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),CD(t)):t}],transformResponse:[function(t){const r=this.transitional||Kc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Z.isResponse(t)||Z.isReadableStream(t))return t;if(t&&Z.isString(t)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?$e.from(o,$e.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gr.classes.FormData,Blob:gr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],e=>{Kc.headers[e]={}});const OD=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ED=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||t[r]&&OD[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ow=Symbol("internals");function wo(e){return e&&String(e).trim().toLowerCase()}function Zu(e){return e===!1||e==null?e:Z.isArray(e)?e.map(Zu):String(e)}function AD(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const TD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Bh(e,t,r,n,s){if(Z.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Z.isString(t)){if(Z.isString(n))return t.indexOf(n)!==-1;if(Z.isRegExp(n))return n.test(t)}}function DD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function ID(e,t){const r=Z.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,l){return this[n].call(this,t,s,i,l)},configurable:!0})})}let zr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(o,c,u){const d=wo(c);if(!d)throw new Error("header name must be a non-empty string");const m=Z.findKey(s,d);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||c]=Zu(o))}const l=(o,c)=>Z.forEach(o,(u,d)=>i(u,d,c));if(Z.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(Z.isString(t)&&(t=t.trim())&&!TD(t))l(ED(t),r);else if(Z.isObject(t)&&Z.isIterable(t)){let o={},c,u;for(const d of t){if(!Z.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?Z.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=wo(t),t){const n=Z.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return AD(s);if(Z.isFunction(r))return r.call(this,s,n);if(Z.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=wo(t),t){const n=Z.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Bh(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(l){if(l=wo(l),l){const o=Z.findKey(n,l);o&&(!r||Bh(n,n[o],o,r))&&(delete n[o],s=!0)}}return Z.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Bh(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return Z.forEach(this,(s,i)=>{const l=Z.findKey(n,i);if(l){r[l]=Zu(s),delete r[i];return}const o=t?DD(i):String(i).trim();o!==i&&delete r[i],r[o]=Zu(s),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Z.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Z.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[ow]=this[ow]={accessors:{}}).accessors,s=this.prototype;function i(l){const o=wo(l);n[o]||(ID(s,l),n[o]=!0)}return Z.isArray(t)?t.forEach(i):i(t),this}};zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(zr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Z.freezeMethods(zr);function Uh(e,t){const r=this||Kc,n=t||r,s=zr.from(n.headers);let i=n.data;return Z.forEach(e,function(o){i=o.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function V5(e){return!!(e&&e.__CANCEL__)}function Wl(e,t,r){$e.call(this,e??"canceled",$e.ERR_CANCELED,t,r),this.name="CanceledError"}Z.inherits(Wl,$e,{__CANCEL__:!0});function G5(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new $e("Request failed with status code "+r.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function MD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $D(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];l||(l=u),r[s]=c,n[s]=u;let m=i,p=0;for(;m!==s;)p+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-l<t)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function LD(e,t){let r=0,n=1e3/t,s,i;const l=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-r;m>=n?l(u,d):(s=u,i||(i=setTimeout(()=>{i=null,l(s)},n-m)))},()=>s&&l(s)]}const Em=(e,t,r=3)=>{let n=0;const s=$D(50,250);return LD(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-n,u=s(c),d=l<=o;n=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-l)/u:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(m)},r)},cw=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},dw=e=>(...t)=>Z.asap(()=>e(...t)),RD=gr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,gr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(gr.origin),gr.navigator&&/(msie|trident)/i.test(gr.navigator.userAgent)):()=>!0,FD=gr.hasStandardBrowserEnv?{write(e,t,r,n,s,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];Z.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),Z.isString(n)&&o.push(`path=${n}`),Z.isString(s)&&o.push(`domain=${s}`),i===!0&&o.push("secure"),Z.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function zD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function BD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Y5(e,t,r){let n=!zD(t);return e&&(n||r==!1)?BD(e,t):t}const uw=e=>e instanceof zr?{...e}:e;function ji(e,t){t=t||{};const r={};function n(u,d,m,p){return Z.isPlainObject(u)&&Z.isPlainObject(d)?Z.merge.call({caseless:p},u,d):Z.isPlainObject(d)?Z.merge({},d):Z.isArray(d)?d.slice():d}function s(u,d,m,p){if(Z.isUndefined(d)){if(!Z.isUndefined(u))return n(void 0,u,m,p)}else return n(u,d,m,p)}function i(u,d){if(!Z.isUndefined(d))return n(void 0,d)}function l(u,d){if(Z.isUndefined(d)){if(!Z.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,m){if(m in t)return n(u,d);if(m in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,d,m)=>s(uw(u),uw(d),m,!0)};return Z.forEach(Object.keys({...e,...t}),function(d){const m=c[d]||s,p=m(e[d],t[d],d);Z.isUndefined(p)&&m!==o||(r[d]=p)}),r}const Q5=e=>{const t=ji({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=zr.from(l),t.url=W5(Y5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Z.isFormData(r)){if(gr.hasStandardBrowserEnv||gr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Z.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,m])=>{u.includes(d.toLowerCase())&&l.set(d,m)})}}if(gr.hasStandardBrowserEnv&&(n&&Z.isFunction(n)&&(n=n(t)),n||n!==!1&&RD(t.url))){const c=s&&i&&FD.read(i);c&&l.set(s,c)}return t},UD=typeof XMLHttpRequest<"u",HD=UD&&function(e){return new Promise(function(r,n){const s=Q5(e);let i=s.data;const l=zr.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=s,d,m,p,g,x;function v(){g&&g(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function y(){if(!h)return;const j=zr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:j,config:e,request:h};G5(function(O){r(O),v()},function(O){n(O),v()},_),h=null}"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(n(new $e("Request aborted",$e.ECONNABORTED,e,h)),h=null)},h.onerror=function(P){const _=P&&P.message?P.message:"Network Error",C=new $e(_,$e.ERR_NETWORK,e,h);C.event=P||null,n(C),h=null},h.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||K5;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),n(new $e(P,_.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,e,h)),h=null},i===void 0&&l.setContentType(null),"setRequestHeader"in h&&Z.forEach(l.toJSON(),function(P,_){h.setRequestHeader(_,P)}),Z.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),o&&o!=="json"&&(h.responseType=s.responseType),u&&([p,x]=Em(u,!0),h.addEventListener("progress",p)),c&&h.upload&&([m,g]=Em(c),h.upload.addEventListener("progress",m),h.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=j=>{h&&(n(!j||j.type?new Wl(null,e,h):j),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=MD(s.url);if(b&&gr.protocols.indexOf(b)===-1){n(new $e("Unsupported protocol "+b+":",$e.ERR_BAD_REQUEST,e));return}h.send(i||null)})},WD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof $e?d:new Wl(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new $e(`timeout ${t} of ms exceeded`,$e.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>Z.asap(o),c}},KD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},qD=async function*(e,t){for await(const r of VD(e))yield*KD(r,t)},VD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},mw=(e,t,r,n)=>{const s=qD(e,t);let i=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){o(),c.close();return}let m=d.byteLength;if(r){let p=i+=m;r(p)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},fw=64*1024,{isFunction:mu}=Z,GD=(({Request:e,Response:t})=>({Request:e,Response:t}))(Z.global),{ReadableStream:pw,TextEncoder:hw}=Z.global,gw=(e,...t)=>{try{return!!e(...t)}catch{return!1}},YD=e=>{e=Z.merge.call({skipUndefined:!0},GD,e);const{fetch:t,Request:r,Response:n}=e,s=t?mu(t):typeof fetch=="function",i=mu(r),l=mu(n);if(!s)return!1;const o=s&&mu(pw),c=s&&(typeof hw=="function"?(x=>v=>x.encode(v))(new hw):async x=>new Uint8Array(await new r(x).arrayBuffer())),u=i&&o&&gw(()=>{let x=!1;const v=new r(gr.origin,{body:new pw,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),d=l&&o&&gw(()=>Z.isReadableStream(new n("").body)),m={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(v,h)=>{let y=v&&v[x];if(y)return y.call(v);throw new $e(`Response type '${x}' is not supported`,$e.ERR_NOT_SUPPORT,h)})});const p=async x=>{if(x==null)return 0;if(Z.isBlob(x))return x.size;if(Z.isSpecCompliantForm(x))return(await new r(gr.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(x)||Z.isArrayBuffer(x))return x.byteLength;if(Z.isURLSearchParams(x)&&(x=x+""),Z.isString(x))return(await c(x)).byteLength},g=async(x,v)=>{const h=Z.toFiniteNumber(x.getContentLength());return h??p(v)};return async x=>{let{url:v,method:h,data:y,signal:b,cancelToken:j,timeout:P,onDownloadProgress:_,onUploadProgress:C,responseType:O,headers:E,withCredentials:k="same-origin",fetchOptions:T}=Q5(x),A=t||fetch;O=O?(O+"").toLowerCase():"text";let D=WD([b,j&&j.toAbortSignal()],P),S=null;const L=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let F;try{if(C&&u&&h!=="get"&&h!=="head"&&(F=await g(E,y))!==0){let B=new r(v,{method:"POST",body:y,duplex:"half"}),ae;if(Z.isFormData(y)&&(ae=B.headers.get("content-type"))&&E.setContentType(ae),B.body){const[fe,xe]=cw(F,Em(dw(C)));y=mw(B.body,fw,fe,xe)}}Z.isString(k)||(k=k?"include":"omit");const X=i&&"credentials"in r.prototype,Q={...T,signal:D,method:h.toUpperCase(),headers:E.normalize().toJSON(),body:y,duplex:"half",credentials:X?k:void 0};S=i&&new r(v,Q);let I=await(i?A(S,T):A(v,Q));const M=d&&(O==="stream"||O==="response");if(d&&(_||M&&L)){const B={};["status","statusText","headers"].forEach(te=>{B[te]=I[te]});const ae=Z.toFiniteNumber(I.headers.get("content-length")),[fe,xe]=_&&cw(ae,Em(dw(_),!0))||[];I=new n(mw(I.body,fw,fe,()=>{xe&&xe(),L&&L()}),B)}O=O||"text";let W=await m[Z.findKey(m,O)||"text"](I,x);return!M&&L&&L(),await new Promise((B,ae)=>{G5(B,ae,{data:W,headers:zr.from(I.headers),status:I.status,statusText:I.statusText,config:x,request:S})})}catch(X){throw L&&L(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,x,S),{cause:X.cause||X}):$e.from(X,X&&X.code,x,S)}}},QD=new Map,X5=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let l=i.length,o=l,c,u,d=QD;for(;o--;)c=i[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:YD(t)),d=u;return u};X5();const wy={http:fD,xhr:HD,fetch:{get:X5}};Z.forEach(wy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xw=e=>`- ${e}`,XD=e=>Z.isFunction(e)||e===null||e===!1;function ZD(e,t){e=Z.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let l=0;l<r;l++){n=e[l];let o;if(s=n,!XD(n)&&(s=wy[(o=String(n)).toLowerCase()],s===void 0))throw new $e(`Unknown adapter '${o}'`);if(s&&(Z.isFunction(s)||(s=s.get(t))))break;i[o||"#"+l]=s}if(!s){const l=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(xw).join(`
`):" "+xw(l[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const Z5={getAdapter:ZD,adapters:wy};function Hh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wl(null,e)}function yw(e){return Hh(e),e.headers=zr.from(e.headers),e.data=Uh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Z5.getAdapter(e.adapter||Kc.adapter,e)(e).then(function(n){return Hh(e),n.data=Uh.call(e,e.transformResponse,n),n.headers=zr.from(n.headers),n},function(n){return V5(n)||(Hh(e),n&&n.response&&(n.response.data=Uh.call(e,e.transformResponse,n.response),n.response.headers=zr.from(n.response.headers))),Promise.reject(n)})}const J5="1.13.2",Yf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const vw={};Yf.transitional=function(t,r,n){function s(i,l){return"[Axios v"+J5+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(t===!1)throw new $e(s(l," has been removed"+(r?" in "+r:"")),$e.ERR_DEPRECATED);return r&&!vw[l]&&(vw[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,o):!0}};Yf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function JD(e,t,r){if(typeof e!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new $e("option "+i+" must be "+c,$e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $e("Unknown option "+i,$e.ERR_BAD_OPTION)}}const Ju={assertOptions:JD,validators:Yf},Zn=Ju.validators;let ui=class{constructor(t){this.defaults=t||{},this.interceptors={request:new lw,response:new lw}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ji(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Ju.assertOptions(n,{silentJSONParsing:Zn.transitional(Zn.boolean),forcedJSONParsing:Zn.transitional(Zn.boolean),clarifyTimeoutError:Zn.transitional(Zn.boolean)},!1),s!=null&&(Z.isFunction(s)?r.paramsSerializer={serialize:s}:Ju.assertOptions(s,{encode:Zn.function,serialize:Zn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ju.assertOptions(r,{baseUrl:Zn.spelling("baseURL"),withXsrfToken:Zn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&Z.merge(i.common,i[r.method]);i&&Z.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=zr.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,m=0,p;if(!c){const x=[yw.bind(this),void 0];for(x.unshift(...o),x.push(...u),p=x.length,d=Promise.resolve(r);m<p;)d=d.then(x[m++],x[m++]);return d}p=o.length;let g=r;for(;m<p;){const x=o[m++],v=o[m++];try{g=x(g)}catch(h){v.call(this,h);break}}try{d=yw.call(this,g)}catch(x){return Promise.reject(x)}for(m=0,p=u.length;m<p;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=ji(this.defaults,t);const r=Y5(t.baseURL,t.url,t.allowAbsoluteUrls);return W5(r,t.params,t.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(t){ui.prototype[t]=function(r,n){return this.request(ji(n||{},{method:t,url:r,data:(n||{}).data}))}});Z.forEach(["post","put","patch"],function(t){function r(n){return function(i,l,o){return this.request(ji(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}ui.prototype[t]=r(),ui.prototype[t+"Form"]=r(!0)});let eI=class e_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(s);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,o){n.reason||(n.reason=new Wl(i,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new e_(function(s){t=s}),cancel:t}}};function tI(e){return function(r){return e.apply(null,r)}}function rI(e){return Z.isObject(e)&&e.isAxiosError===!0}const g0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(g0).forEach(([e,t])=>{g0[t]=e});function t_(e){const t=new ui(e),r=T5(ui.prototype.request,t);return Z.extend(r,ui.prototype,t,{allOwnKeys:!0}),Z.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return t_(ji(e,s))},r}const vt=t_(Kc);vt.Axios=ui;vt.CanceledError=Wl;vt.CancelToken=eI;vt.isCancel=V5;vt.VERSION=J5;vt.toFormData=Gf;vt.AxiosError=$e;vt.Cancel=vt.CanceledError;vt.all=function(t){return Promise.all(t)};vt.spread=tI;vt.isAxiosError=rI;vt.mergeConfig=ji;vt.AxiosHeaders=zr;vt.formToJSON=e=>q5(Z.isHTMLForm(e)?new FormData(e):e);vt.getAdapter=Z5.getAdapter;vt.HttpStatusCode=g0;vt.default=vt;const{Axios:VZ,AxiosError:GZ,CanceledError:YZ,isCancel:QZ,CancelToken:XZ,VERSION:ZZ,all:JZ,Cancel:eJ,isAxiosError:tJ,spread:rJ,toFormData:nJ,AxiosHeaders:aJ,HttpStatusCode:sJ,formToJSON:iJ,getAdapter:lJ,mergeConfig:oJ}=vt,nI=()=>{const e=window.location.origin;return e.includes("localhost")||e.includes("127.0.0.1")?"http://127.0.0.1:8000/api":`${e}/backend/public/api`},r_=nI(),V=vt.create({baseURL:r_,headers:{"Content-Type":"application/json",Accept:"application/json"}});V.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));V.interceptors.response.use(e=>(e.config.responseType==="blob",e),async e=>{var t,r,n;if(((t=e.response)==null?void 0:t.status)===401&&!window.location.pathname.includes("/login")&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.replace("/login")),((r=e.config)==null?void 0:r.responseType)==="blob"&&((n=e.response)==null?void 0:n.data)instanceof Blob)try{const s=await e.response.data.text(),i=JSON.parse(s);e.response.data=i}catch{}return Promise.reject(e)});const bw={login:(e,t)=>V.post("/auth/login",{email:e,password:t}),logout:()=>V.post("/auth/logout"),profile:()=>V.get("/auth/profile")},jw={get:()=>V.get("/profile"),update:e=>V.put("/profile",e),updatePassword:e=>V.put("/profile/password",e)},sa={stats:()=>V.get("/dashboard/stats"),getRevenueGrowthMonthly:()=>V.get("/dashboard/revenue-growth-monthly"),upcomingTours:()=>V.get("/dashboard/upcoming-tours"),latestLeadNotes:()=>V.get("/dashboard/latest-lead-notes"),salesRepsStats:()=>V.get("/dashboard/sales-reps-stats"),topDestinations:()=>V.get("/dashboard/top-destinations"),employeePerformance:e=>V.get("/dashboard/employee-performance",{params:{month:e}}),sourceRoi:e=>V.get("/dashboard/source-roi",{params:{month:e}}),destinationPerformance:e=>V.get("/dashboard/destination-performance",{params:{month:e}})},ta={list:(e={})=>V.get("/leads",{params:e}),get:e=>V.get(`/leads/${e}`),create:e=>V.post("/leads",e),update:(e,t)=>V.put(`/leads/${e}`,t),delete:e=>V.delete(`/leads/${e}`),assign:(e,t)=>V.put(`/leads/${e}/assign`,{assigned_to:t}),updateStatus:(e,t)=>V.put(`/leads/${e}/status`,{status:t}),importTemplate:()=>V.get("/leads/import-template",{responseType:"blob"}),import:e=>{const t=new FormData;return t.append("file",e),V.post("/leads/import",t,{headers:{"Content-Type":"multipart/form-data"}})},getEmails:e=>V.get(`/leads/${e}/emails`),sendEmail:(e,t)=>{if(t.attachment){const r=new FormData;return r.append("to_email",t.to_email),r.append("subject",t.subject),r.append("body",t.body),t.cc_email&&r.append("cc_email",t.cc_email),r.append("attachment",t.attachment),V.post(`/leads/${e}/emails`,r,{headers:{"Content-Type":"multipart/form-data"}})}return V.post(`/leads/${e}/emails`,t)},getEmail:(e,t)=>V.get(`/leads/${e}/emails/${t}`)},mi={today:()=>V.get("/followups/today"),overdue:()=>V.get("/followups/overdue"),create:e=>V.post("/followups",e),complete:e=>V.put(`/followups/${e}/complete`)},bc={dueToday:()=>V.get("/payments/due-today"),pending:()=>V.get("/payments/pending"),getByLead:e=>V.get(`/payments/lead/${e}`),create:e=>V.post("/payments",e)},ww={inbox:()=>V.get("/whatsapp/inbox"),send:(e,t)=>V.post("/whatsapp/send",{lead_id:e,message:t})},aI={get:(e,t)=>V.get(`/targets/${e}/${t}`),create:e=>V.post("/targets",e),updateAchieved:(e,t)=>V.put(`/targets/${e}/update-achieved`,{achieved_amount:t})},Am={getConnectUrl:()=>`${r_}/google/connect`,sendMail:e=>V.post("/send-gmail",e),syncInbox:()=>V.get("/sync-inbox"),getGmailEmails:e=>V.get(`/leads/${e}/gmail-emails`)},ks={list:()=>V.get("/admin/users"),get:e=>V.get(`/admin/users/${e}`),create:e=>V.post("/admin/users",e),update:(e,t)=>V.put(`/admin/users/${e}`,t),delete:e=>V.delete(`/admin/users/${e}`),updateStatus:(e,t)=>V.put(`/admin/users/${e}/status`,{is_active:t})},fu={getRoles:()=>V.get("/admin/permissions/roles"),getPermissions:()=>V.get("/admin/permissions/list"),getRolePermissions:e=>V.get(`/admin/permissions/roles/${e}`),updateRolePermissions:(e,t)=>V.put(`/admin/permissions/roles/${e}`,{permissions:t})},Fe={get:()=>V.get("/admin/settings"),update:e=>V.put("/admin/settings",e),reset:()=>V.post("/admin/settings/reset"),getAll:()=>V.get("/settings"),getByKey:e=>V.get("/settings",{params:{key:e}}),save:e=>V.post("/settings",e),getMaxHotelOptions:()=>V.get("/settings/max-hotel-options")},Qo={list:()=>V.get("/suppliers"),get:e=>V.get(`/suppliers/${e}`),create:e=>V.post("/suppliers",e),update:(e,t)=>V.put(`/suppliers/${e}`,t),delete:e=>V.delete(`/suppliers/${e}`),sendEmail:e=>V.post("/suppliers/send-email",e)},jr={list:()=>V.get("/hotels"),get:e=>V.get(`/hotels/${e}`),search:(e,t="")=>V.get("/hotels/search",{params:{location:e,query:t}}),getRooms:(e,t={})=>V.get(`/hotels/${e}/rooms`,{params:t}),create:e=>e instanceof FormData?V.post("/hotels",e,{headers:{"Content-Type":"multipart/form-data"}}):V.post("/hotels",e),update:(e,t)=>t instanceof FormData?V.post(`/hotels/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):V.put(`/hotels/${e}`,t),delete:e=>V.delete(`/hotels/${e}`),getRates:e=>V.get(`/hotels/${e}/rates`),createRate:(e,t)=>V.post(`/hotels/${e}/rates`,t),updateRate:(e,t,r)=>V.put(`/hotels/${e}/rates/${t}`,r),deleteRate:(e,t)=>V.delete(`/hotels/${e}/rates/${t}`),importHotels:e=>V.post("/hotels/import",e,{headers:{"Content-Type":"multipart/form-data"}}),exportHotels:()=>V.get("/hotels/export",{responseType:"blob",headers:{Accept:"text/csv,application/json"}}),downloadImportFormat:()=>V.get("/hotels/import-template",{responseType:"blob",headers:{Accept:"text/csv,application/json"}})},On={list:()=>V.get("/activities"),get:e=>V.get(`/activities/${e}`),create:e=>e instanceof FormData?V.post("/activities",e,{headers:{"Content-Type":"multipart/form-data"}}):V.post("/activities",e),update:(e,t)=>t instanceof FormData?V.post(`/activities/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):V.put(`/activities/${e}`,t),delete:e=>V.delete(`/activities/${e}`),getPrices:e=>V.get(`/activities/${e}/prices`),createPrice:(e,t)=>V.post(`/activities/${e}/prices`,t),updatePrice:(e,t,r)=>V.put(`/activities/${e}/prices/${t}`,r),deletePrice:(e,t)=>V.delete(`/activities/${e}/prices/${t}`),importActivities:e=>V.post("/activities/import",e,{headers:{"Content-Type":"multipart/form-data"}}),exportActivities:()=>V.get("/activities/export",{responseType:"blob",headers:{Accept:"text/csv,application/json"}}),downloadImportFormat:()=>V.get("/activities/import-template",{responseType:"blob",headers:{Accept:"text/csv,application/json"}})},Cn={list:()=>V.get("/transfers"),get:e=>V.get(`/transfers/${e}`),create:e=>e instanceof FormData?V.post("/transfers",e,{headers:{"Content-Type":"multipart/form-data"}}):V.post("/transfers",e),update:(e,t)=>t instanceof FormData?V.post(`/transfers/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):V.put(`/transfers/${e}`,t),delete:e=>V.delete(`/transfers/${e}`),getPrices:e=>V.get(`/transfers/${e}/prices`),createPrice:(e,t)=>V.post(`/transfers/${e}/prices`,t),updatePrice:(e,t,r)=>V.put(`/transfers/${e}/prices/${t}`,r),deletePrice:(e,t)=>V.delete(`/transfers/${e}/prices/${t}`),importTransfers:e=>V.post("/transfers/import",e,{headers:{"Content-Type":"multipart/form-data"}}),exportTransfers:()=>V.get("/transfers/export",{responseType:"blob",headers:{Accept:"text/csv,application/json"}}),downloadImportFormat:()=>V.get("/transfers/import-template",{responseType:"blob",headers:{Accept:"text/csv,application/json"}})},Mo={list:()=>V.get("/day-itineraries"),get:e=>V.get(`/day-itineraries/${e}`),create:e=>e instanceof FormData?V.post("/day-itineraries",e,{headers:{"Content-Type":"multipart/form-data"}}):V.post("/day-itineraries",e),update:(e,t)=>t instanceof FormData?(t.append("_method","PUT"),V.post(`/day-itineraries/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})):V.put(`/day-itineraries/${e}`,t),delete:e=>V.delete(`/day-itineraries/${e}`)},Dn={list:()=>V.get("/packages"),get:e=>V.get(`/packages/${e}`),create:e=>e instanceof FormData?V.post("/packages",e,{headers:{"Content-Type":"multipart/form-data"}}):V.post("/packages",e),update:(e,t)=>t instanceof FormData?(t.append("_method","PUT"),V.post(`/packages/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})):V.put(`/packages/${e}`,t),delete:e=>V.delete(`/packages/${e}`)},pu={list:()=>V.get("/destinations"),get:e=>V.get(`/destinations/${e}`),create:e=>V.post("/destinations",e),update:(e,t)=>V.put(`/destinations/${e}`,t),delete:e=>V.delete(`/destinations/${e}`)},hu={list:()=>V.get("/room-types"),get:e=>V.get(`/room-types/${e}`),create:e=>V.post("/room-types",e),update:(e,t)=>V.put(`/room-types/${e}`,t),delete:e=>V.delete(`/room-types/${e}`)},gu={list:()=>V.get("/meal-plans"),get:e=>V.get(`/meal-plans/${e}`),create:e=>V.post("/meal-plans",e),update:(e,t)=>V.put(`/meal-plans/${e}`,t),delete:e=>V.delete(`/meal-plans/${e}`)},$o={list:()=>V.get("/lead-sources"),get:e=>V.get(`/lead-sources/${e}`),create:e=>V.post("/lead-sources",e),update:(e,t)=>V.put(`/lead-sources/${e}`,t),delete:e=>V.delete(`/lead-sources/${e}`)},xu={list:()=>V.get("/expense-types"),get:e=>V.get(`/expense-types/${e}`),create:e=>V.post("/expense-types",e),update:(e,t)=>V.put(`/expense-types/${e}`,t),delete:e=>V.delete(`/expense-types/${e}`)},yu={list:()=>V.get("/package-themes"),get:e=>V.get(`/package-themes/${e}`),create:e=>e instanceof FormData?V.post("/package-themes",e,{headers:{"Content-Type":"multipart/form-data"}}):V.post("/package-themes",e),update:(e,t)=>t instanceof FormData?(t.append("_method","PUT"),V.post(`/package-themes/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})):V.put(`/package-themes/${e}`,t),delete:e=>V.delete(`/package-themes/${e}`)},vu={list:()=>V.get("/currencies"),get:e=>V.get(`/currencies/${e}`),create:e=>V.post("/currencies",e),update:(e,t)=>V.put(`/currencies/${e}`,t),delete:e=>V.delete(`/currencies/${e}`)},Ft={getCompanies:(e={})=>V.get("/super-admin/companies",{params:e}),getCompany:e=>V.get(`/super-admin/companies/${e}`),createCompany:e=>V.post("/super-admin/companies",e),updateCompany:(e,t)=>V.put(`/super-admin/companies/${e}`,t),deleteCompany:e=>V.delete(`/super-admin/companies/${e}`),getCompanyStats:()=>V.get("/super-admin/companies/stats"),getSubscriptionPlans:()=>V.get("/super-admin/subscription-plans"),getSubscriptionPlan:e=>V.get(`/super-admin/subscription-plans/${e}`),createSubscriptionPlan:e=>V.post("/super-admin/subscription-plans",e),updateSubscriptionPlan:(e,t)=>V.put(`/super-admin/subscription-plans/${e}`,t),deleteSubscriptionPlan:e=>V.delete(`/super-admin/subscription-plans/${e}`),getAvailableFeatures:()=>V.get("/super-admin/subscription-plans/available-features"),getPlanFeatures:e=>V.get(`/super-admin/subscription-plans/${e}/features`),updatePlanFeatures:(e,t)=>V.put(`/super-admin/subscription-plans/${e}/features`,{features:t})},n_=f.createContext(null),Va=()=>{const e=f.useContext(n_);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},sI=({children:e})=>{const[t,r]=f.useState(null),[n,s]=f.useState(!0);f.useEffect(()=>{try{const o=localStorage.getItem("auth_token"),c=localStorage.getItem("user");if(o&&c){const u=JSON.parse(c);r(u)}}catch(o){console.error("Error loading saved user:",o),localStorage.removeItem("auth_token"),localStorage.removeItem("user")}finally{s(!1)}},[]);const i=async(o,c)=>{var u,d,m,p,g,x,v;try{const h=await bw.login(o,c);if(console.log("Login response:",h.data),!h.data||!h.data.success)throw new Error(((u=h.data)==null?void 0:u.message)||"Invalid response from server");const y=h.data.data;if(!y)throw new Error("Invalid response data structure");const b=y.token,j=y.user;if(!b||!j)throw console.error("Missing token or user:",{token:!!b,user:!!j}),new Error("Invalid response data structure - missing token or user");return localStorage.setItem("auth_token",b),localStorage.setItem("user",JSON.stringify(j)),r(j),{success:!0}}catch(h){return console.error("Login error details:",{message:h.message,response:(d=h.response)==null?void 0:d.data,status:(m=h.response)==null?void 0:m.status}),{success:!1,message:((g=(p=h.response)==null?void 0:p.data)==null?void 0:g.message)||((v=(x=h.response)==null?void 0:x.data)==null?void 0:v.error)||h.message||"Login failed. Please check if backend server is running."}}},l=async()=>{try{await bw.logout()}catch(o){console.error("Logout error:",o)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("user"),r(null)}};return a.jsx(n_.Provider,{value:{user:t,login:i,logout:l,loading:n},children:e})},a_=f.createContext(null),s_=()=>{const e=f.useContext(a_);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e},iI=({children:e})=>{const[t,r]=f.useState({sidebar_color:"#2765B0",dashboard_background_color:"#D8DEF5",header_background_color:"#D8DEF5"}),[n,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await Fe.get();c.data.success&&r(c.data.data)}catch(c){console.error("Failed to load settings:",c)}finally{s(!1)}},l=async c=>{var u,d;try{const m=await Fe.update(c);return m.data.success?(r(m.data.data),{success:!0}):{success:!1,message:m.data.message}}catch(m){return{success:!1,message:((d=(u=m.response)==null?void 0:u.data)==null?void 0:d.message)||"Failed to update settings"}}},o=async()=>{var c,u;try{const d=await Fe.reset();return d.data.success?(r(d.data.data),{success:!0}):{success:!1,message:d.data.message}}catch(d){return{success:!1,message:((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.message)||"Failed to reset settings"}}};return a.jsx(a_.Provider,{value:{settings:t,loading:n,updateSettings:l,resetSettings:o,loadSettings:i},children:e})},We=({children:e})=>{const{user:t,loading:r}=Va();return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!t||!t.id?a.jsx(ll,{to:"/login",replace:!0}):e},bu=({children:e})=>{const{user:t,loading:r}=Va();return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!t||!t.id||!t.is_super_admin?a.jsx(ll,{to:"/dashboard",replace:!0}):e},lI=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[s,i]=f.useState(""),[l,o]=f.useState(!1),{login:c}=Va(),u=Br(),d=async m=>{m.preventDefault(),i(""),o(!0);try{const p=await c(e,r);p.success?JSON.parse(localStorage.getItem("user")||"{}").is_super_admin?u("/super-admin",{replace:!0}):u("/dashboard",{replace:!0}):(i(p.message||"Login failed. Please check your credentials and ensure backend server is running."),o(!1))}catch(p){console.error("Login error:",p),i("An unexpected error occurred. Please try again."),o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[a.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"TravelOps Admin"}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:e,onChange:m=>t(m.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsx("input",{type:"password",value:r,onChange:m=>n(m.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>u("/forgot-password"),className:"text-sm text-blue-600 hover:text-blue-800",children:"Forgot Password?"})}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Logging in...":"Login"})]})]})})},oI=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[s,i]=f.useState(""),[l,o]=f.useState(!1);Br();const c=async u=>{var d,m,p,g;u.preventDefault(),n(""),i(""),o(!0);try{const x=await vt.post("http://localhost:8000/api/password/email",{email:e});x.status===200?n("Password reset link sent to your email."):i(x.data.message||"Failed to send reset link.")}catch(x){console.error("Forgot password error:",x),i(((m=(d=x.response)==null?void 0:d.data)==null?void 0:m.email)||((g=(p=x.response)==null?void 0:p.data)==null?void 0:g.message)||"An error occurred. Please try again.")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[a.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Forgot Password"}),r&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:r}),s&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:e,onChange:u=>t(u.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Sending Link...":"Send Reset Link"}),a.jsx("div",{className:"text-center mt-4",children:a.jsx(ca,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-800",children:"Back to Login"})})]})]})})},cI=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(""),[d,m]=f.useState(!1),[p]=PT(),g=p.get("token"),x=Br(),v=p.get("email");!e&&v&&t(v);const h=async y=>{var b,j,P,_;if(y.preventDefault(),o(""),u(""),m(!0),r!==s){u("Passwords do not match."),m(!1);return}try{const C=await vt.post("http://localhost:8000/api/password/reset",{email:e,password:r,password_confirmation:s,token:g});C.status===200?(o("Password has been reset successfully. Redirecting to login..."),setTimeout(()=>{x("/login")},3e3)):u(C.data.message||"Failed to reset password.")}catch(C){console.error("Reset password error:",C),u(((j=(b=C.response)==null?void 0:b.data)==null?void 0:j.email)||((_=(P=C.response)==null?void 0:P.data)==null?void 0:_.message)||"An error occurred. Please try again.")}finally{m(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[a.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Reset Password"}),l&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:l}),c&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsx("input",{type:"hidden",value:g||""}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:e,onChange:y=>t(y.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsx("input",{type:"password",value:r,onChange:y=>n(y.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",value:s,onChange:y=>i(y.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"})]}),a.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Resetting...":"Reset Password"}),a.jsx("div",{className:"text-center mt-4",children:a.jsx(ca,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-800",children:"Back to Login"})})]})]})})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Nw=e=>{const t=uI(e);return t.charAt(0).toUpperCase()+t.slice(1)},i_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),mI=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:l,...o},c)=>f.createElement("svg",{ref:c,...fI,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:i_("lucide",s),...!i&&!mI(o)&&{"aria-hidden":"true"},...o},[...l.map(([u,d])=>f.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const r=f.forwardRef(({className:n,...s},i)=>f.createElement(pI,{ref:i,iconNode:t,className:i_(`lucide-${dI(Nw(e))}`,`lucide-${e}`,n),...s}));return r.displayName=Nw(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],l_=be("arrow-left",hI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Wh=be("bed",gI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yI=be("bell",xI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],bI=be("bold",vI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Pl=be("building-2",jI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fr=be("calendar",wI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],o_=be("camera",NI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],c_=be("car",SI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],d_=be("chart-column",kI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],u_=be("check",_I);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xo=be("chevron-down",PI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],OI=be("chevron-left",CI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],x0=be("chevron-right",EI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],m_=be("circle-alert",AI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lo=be("circle-check-big",TI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ny=be("circle-x",DI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gl=be("clock",II);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Sy=be("credit-card",MI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Os=be("download",$I);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],RI=be("ellipsis-vertical",LI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cl=be("eye",FI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],BI=be("file-check",zI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bn=be("file-text",UI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],Sw=be("file",HI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],f_=be("funnel",WI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],kw=be("grid-3x3",KI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Zo=be("hash",qI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],GI=be("heart",VI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],p_=be("hotel",YI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Oa=be("image",QI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],ZI=be("italic",XI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],h_=be("layout-dashboard",JI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],g_=be("list",eM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rM=be("log-out",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Qt=be("mail",nM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ju=be("map-pin",aM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],iM=be("megaphone",sM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Jo=be("message-circle",lM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],x_=be("message-square",oM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],ky=be("plane",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ke=be("plus",dM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mM=be("printer",uM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],pM=be("receipt",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_w=be("refresh-cw",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xM=be("rotate-ccw",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$a=be("save",yM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],It=be("search",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],y0=be("send",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tm=be("settings",jM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],NM=be("share-2",wM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kM=be("shield",SM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],y_=be("ship",_M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CM=be("square-check-big",PM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],At=be("square-pen",OM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],AM=be("square",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],aa=be("star",TM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],IM=be("text-align-center",DM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],$M=be("text-align-end",MM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],RM=be("text-align-justify",LM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],zM=be("text-align-start",FM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kn=be("trash-2",BM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],HM=be("trending-up",UM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],KM=be("underline",WM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wi=be("upload",qM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],v_=be("user",VM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_y=be("users",GM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Ro=be("utensils-crossed",YM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Le=be("x",QM),ve=({children:e})=>{var C,O;const{user:t,logout:r}=Va(),{settings:n}=s_(),s=Fs(),i=Br(),[l,o]=f.useState(!0),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({reports:!1,masters:!1,settings:!1}),x=(t==null?void 0:t.role)==="Admin"||((C=t==null?void 0:t.roles)==null?void 0:C.some(E=>E.name==="Admin"))||!1,v=()=>{o(!l)},h=()=>{u(!c)};f.useEffect(()=>{const E=k=>{c&&!k.target.closest(".user-dropdown")&&u(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[c]);const y=async()=>{await r(),i("/login")},b=E=>s.pathname===E,j=E=>E.some(k=>s.pathname===k),P=E=>{g(k=>({...k,[E]:!k[E]}))};f.useEffect(()=>{(async()=>{try{const k=await Fe.getByKey("company_logo");k.data.success&&k.data.data&&k.data.data.value&&m(k.data.data.value)}catch(k){console.error("Failed to fetch company logo:",k)}})()},[]),f.useEffect(()=>{s.pathname==="/settings/logo"&&(async()=>{try{const k=await Fe.getByKey("company_logo");k.data.success&&k.data.data&&k.data.data.value&&m(k.data.data.value)}catch(k){console.error("Failed to fetch company logo:",k)}})()},[s.pathname]),f.useEffect(()=>{const E=["/dashboard/employee-performance","/dashboard/source-roi","/dashboard/destination-performance"],k=["/settings","/settings/terms-conditions","/settings/policies","/settings/account-details","/settings/logo","/email-templates"],T=["/users","/targets","/permissions","/masters/suppliers","/masters/hotel","/masters/activity","/masters/transfer","/masters/day-itinerary","/masters/destinations","/masters/room-type","/masters/meal-plan","/masters/lead-source","/masters/expense-type","/masters/package-theme","/masters/currency"];g(A=>({reports:E.some(D=>s.pathname===D)||A.reports,masters:T.some(D=>s.pathname===D)||A.masters,settings:k.some(D=>s.pathname===D)||A.settings}))},[s.pathname]);const _=[{path:"/dashboard",label:"Dashboard",icon:h_},{path:"/leads",label:"Queries",icon:x_},{path:"/itineraries",label:"Itineraries",icon:Bn},{path:"/payments",label:"Accounts",icon:Sy},{path:"/whatsapp",label:"WhatsApp",icon:Jo},{path:"/mail",label:"Mail",icon:Qt},{label:"Reports",icon:d_,submenu:[{path:"/dashboard/employee-performance",label:"Performance"},{path:"/dashboard/source-roi",label:"Source ROI"},{path:"/dashboard/destination-performance",label:"Destination"}]},{path:"/marketing",label:"Marketing",icon:iM},{path:"/expenses",label:"Expense Book",icon:pM},{label:"Settings",icon:Tm,submenu:[{path:"/settings",label:"Settings"},{path:"/email-templates",label:"Email Templates"},{path:"/settings/terms-conditions",label:"Terms & Conditions"},{path:"/settings/policies",label:"Policies"},{path:"/settings/account-details",label:"Account Details"},{path:"/settings/logo",label:"Logo"}]},{label:"Masters",icon:kw,submenu:[{path:"/masters/suppliers",label:"Suppliers"},{path:"/masters/hotel",label:"Hotel"},{path:"/masters/activity",label:"Activity"},{path:"/masters/transfer",label:"Transfer"},{path:"/masters/day-itinerary",label:"Day Itinerary"},{path:"/masters/destinations",label:"Destinations"},{path:"/masters/room-type",label:"Room Type"},{path:"/masters/meal-plan",label:"Meal Plan"},{path:"/masters/lead-source",label:"Lead Source"},{path:"/masters/expense-type",label:"Expense Type"},{path:"/masters/package-theme",label:"Package Theme"},{path:"/masters/currency",label:"Currency"},{path:"/users",label:"Users"},{path:"/targets",label:"Targets"},{path:"/permissions",label:"Permissions"}]}];return a.jsxs("div",{className:"min-h-screen bg-gray-100 relative",children:[a.jsx("div",{className:`sidebar-wrapper fixed inset-y-0 left-0 z-10 transition-all duration-300 ${l?"w-64":"w-20"}`,style:{boxShadow:"2px 0 20px rgba(0, 0, 0, 0.2)"},children:a.jsx("div",{className:"w-full h-full shadow-lg",style:{backgroundColor:(n==null?void 0:n.sidebar_color)||"#2765B0"},children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-blue-800/50 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center justify-start flex-1",children:d?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:d,alt:"Company Logo",className:`h-8 object-contain transition-all duration-300 ${l?"opacity-100 max-w-[180px]":"opacity-100 w-8"}`,onError:E=>{E.target.style.display="none";const k=E.target.nextSibling;k&&(k.style.display="flex")}}),a.jsxs("div",{className:"hidden flex items-center",children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:"T"}),a.jsx("span",{className:`ml-3 text-white font-semibold whitespace-nowrap transition-opacity duration-300 ${l?"opacity-100":"opacity-0 w-0 overflow-hidden"}`,children:"TravelOps"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:"T"}),a.jsx("span",{className:`ml-3 text-white font-semibold whitespace-nowrap transition-opacity duration-300 ${l?"opacity-100":"opacity-0 w-0 overflow-hidden"}`,children:"TravelOps"})]})}),a.jsx("button",{onClick:v,className:"p-1.5 rounded-lg hover:bg-blue-800/50 transition-colors text-white",title:l?"Close Sidebar":"Open Sidebar",children:l?a.jsx(OI,{className:"h-5 w-5"}):a.jsx(x0,{className:"h-5 w-5"})})]}),a.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto overflow-x-hidden",children:_.filter(E=>!E.adminOnly||x).map(E=>{if(E.submenu){const k=E.icon,T=E.label.toLowerCase(),A=p[T],D=j(E.submenu.map(S=>S.path));return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>P(T),className:`w-full flex items-center px-3 py-3 rounded-lg transition-colors relative ${D?"bg-[#3b82f6] text-white":"text-blue-100 hover:bg-blue-800/50"}`,children:[a.jsx(k,{className:"h-6 w-6 flex-shrink-0 text-white"}),a.jsx("span",{className:`ml-3 text-sm font-medium whitespace-nowrap text-white transition-opacity duration-300 ${l?"opacity-100":"opacity-0 w-0 overflow-hidden"}`,children:E.label}),a.jsx(Xo,{className:`ml-auto h-4 w-4 text-white transition-all duration-200 ${A?"rotate-180":""} ${l?"opacity-100":"opacity-0"}`})]}),A&&l&&a.jsx("div",{className:"ml-2 mt-1 space-y-1",children:E.submenu.map(S=>{const L=b(S.path);return a.jsx("div",{className:"relative",children:a.jsxs(ca,{to:S.path,className:`flex items-center px-2 py-2 rounded-lg transition-colors ${L?"bg-[#3b82f6] text-white":"text-blue-200 hover:bg-blue-800/50"}`,children:[a.jsx("span",{className:"text-xs mr-2",children:""}),a.jsx("span",{className:"text-sm",children:S.label})]})},S.path)})})]},E.label)}else{const k=E.icon,T=b(E.path);return a.jsx("div",{className:"relative",children:a.jsxs(ca,{to:E.path,className:`flex items-center px-3 py-3 rounded-lg transition-colors relative ${T?"bg-[#3b82f6] text-white":"text-blue-100 hover:bg-blue-800/50"}`,children:[a.jsx(k,{className:"h-6 w-6 flex-shrink-0 text-white"}),a.jsx("span",{className:`ml-3 text-sm font-medium whitespace-nowrap text-white transition-opacity duration-300 ${l?"opacity-100":"opacity-0 w-0 overflow-hidden"}`,children:E.label})]})},E.path)}})})]})})}),a.jsxs("div",{className:`main-content transition-all duration-300 ${l?"ml-64":"ml-20"}`,children:[a.jsx("div",{className:`header-bar fixed top-0 z-10 px-6 py-3 h-16 right-0 transition-all duration-300 ${l?"left-64":"left-20"}`,style:{backgroundColor:(n==null?void 0:n.header_background_color)||"#D8DEF5"},children:a.jsxs("div",{className:"flex items-center justify-between gap-4 h-full",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-600 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Q Search",className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-400 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-400 rounded-lg text-sm hover:bg-gray-100 text-gray-700",children:[a.jsx(f_,{className:"h-4 w-4"}),"Filter"]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-400 rounded-lg text-sm hover:bg-gray-100 text-gray-700",children:["Select",a.jsx(Xo,{className:"h-4 w-4"})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-400 rounded-lg p-1",children:[a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:a.jsx(g_,{className:"h-4 w-4 text-gray-700"})}),a.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",children:a.jsx(kw,{className:"h-4 w-4 text-gray-700"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"px-4 py-2 bg-blue-700 text-white rounded-lg text-sm hover:bg-blue-800 flex items-center gap-2 font-medium",children:[a.jsx(ky,{className:"h-4 w-4"}),"Flight Search"]}),a.jsxs("button",{className:"px-4 py-2 bg-orange-500 text-white rounded-lg text-sm hover:bg-orange-600 flex items-center gap-2 font-medium",children:[a.jsx(p_,{className:"h-4 w-4"}),"Hotel Search"]}),a.jsx("button",{className:"p-2 text-gray-700 hover:bg-gray-400 rounded-lg transition-colors",children:a.jsx(yI,{className:"h-5 w-5"})}),x&&a.jsx(ca,{to:"/settings",className:"p-2 text-gray-700 hover:bg-gray-400 rounded-lg transition-colors",children:a.jsx(Tm,{className:"h-5 w-5"})}),a.jsxs("div",{className:"relative user-dropdown",children:[a.jsxs("button",{onClick:h,className:"flex items-center gap-2 pl-3 border-l border-gray-500 hover:bg-gray-200 rounded-lg px-2 py-1 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-700 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:((O=t==null?void 0:t.name)==null?void 0:O.charAt(0))||"A"}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-medium text-gray-800",children:(t==null?void 0:t.name)||"Admin User"})}),a.jsx(Xo,{className:`h-4 w-4 text-gray-700 transition-transform duration-200 ${c?"rotate-180":""}`})]}),c&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-800",children:(t==null?void 0:t.name)||"Admin User"}),a.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.email)||"admin@travelops.com"})]}),a.jsxs("button",{onClick:y,className:"w-full px-4 py-2 text-sm text-left text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"L"}),a.jsx("span",{children:"Logout"})]})]})]})]})]})}),a.jsx("div",{className:"pt-16",style:{backgroundColor:(n==null?void 0:n.dashboard_background_color)||"#D8DEF5"},children:e})]})]})};function b_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=b_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ge(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=b_(e))&&(n&&(n+=" "),n+=t);return n}var XM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Py(e){if(typeof e!="string")return!1;var t=XM;return t.includes(e)}var ZM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JM=new Set(ZM);function j_(e){return typeof e!="string"?!1:JM.has(e)}function w_(e){return typeof e=="string"&&e.startsWith("data-")}function en(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(j_(r)||w_(r))&&(t[r]=e[r]);return t}function Ni(e){if(e==null)return null;if(f.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return en(t)}return typeof e=="object"&&!Array.isArray(e)?en(e):null}function _r(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(j_(r)||w_(r)||Py(r))&&(t[r]=e[r]);return t}function e$(e){return e==null?null:f.isValidElement(e)?_r(e.props):typeof e=="object"&&!Array.isArray(e)?_r(e):null}var t$=["children","width","height","viewBox","className","style","title","desc"];function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(null,arguments)}function r$(e,t){if(e==null)return{};var r,n,s=n$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function n$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cy=f.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:l,style:o,title:c,desc:u}=e,d=r$(e,t$),m=i||{width:n,height:s,x:0,y:0},p=Ge("recharts-surface",l);return f.createElement("svg",v0({},_r(d),{className:p,width:n,height:s,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),f.createElement("title",null,c),f.createElement("desc",null,u),r)}),a$=["children","className"];function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b0.apply(null,arguments)}function s$(e,t){if(e==null)return{};var r,n,s=i$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function i$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jt=f.forwardRef((e,t)=>{var{children:r,className:n}=e,s=s$(e,a$),i=Ge("recharts-layer",n);return f.createElement("g",b0({className:i},_r(s),{ref:t}),r)}),N_=f.createContext(null),l$=()=>f.useContext(N_);function nt(e){return function(){return e}}const S_=Math.cos,Dm=Math.sin,qn=Math.sqrt,Im=Math.PI,Qf=2*Im,j0=Math.PI,w0=2*j0,Zs=1e-6,o$=w0-Zs;function k_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function c$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return k_;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class d${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?k_:c$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,l){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=n-t,u=s-r,d=l-t,m=o-r,p=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Zs)if(!(Math.abs(m*c-u*d)>Zs)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-l,x=s-o,v=c*c+u*u,h=g*g+x*x,y=Math.sqrt(v),b=Math.sqrt(p),j=i*Math.tan((j0-Math.acos((v+p-h)/(2*y*b)))/2),P=j/b,_=j/y;Math.abs(P-1)>Zs&&this._append`L${t+P*d},${r+P*m}`,this._append`A${i},${i},0,0,${+(m*g>d*x)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,s,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(s),c=n*Math.sin(s),u=t+o,d=r+c,m=1^l,p=l?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Zs||Math.abs(this._y1-d)>Zs)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%w0+w0),p>o$?this._append`A${n},${n},0,1,${m},${t-o},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=d}`:p>Zs&&this._append`A${n},${n},0,${+(p>=j0)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Oy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new d$(t)}function Ey(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function __(e){this._context=e}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xf(e){return new __(e)}function P_(e){return e[0]}function C_(e){return e[1]}function O_(e,t){var r=nt(!0),n=null,s=Xf,i=null,l=Oy(o);e=typeof e=="function"?e:e===void 0?P_:nt(e),t=typeof t=="function"?t:t===void 0?C_:nt(t);function o(c){var u,d=(c=Ey(c)).length,m,p=!1,g;for(n==null&&(i=s(g=l())),u=0;u<=d;++u)!(u<d&&r(m=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,u,c),+t(m,u,c));if(g)return i=null,g+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:nt(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:nt(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:nt(!!c),o):r},o.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),o):s},o.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),o):n},o}function wu(e,t,r){var n=null,s=nt(!0),i=null,l=Xf,o=null,c=Oy(u);e=typeof e=="function"?e:e===void 0?P_:nt(+e),t=typeof t=="function"?t:nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?C_:nt(+r);function u(m){var p,g,x,v=(m=Ey(m)).length,h,y=!1,b,j=new Array(v),P=new Array(v);for(i==null&&(o=l(b=c())),p=0;p<=v;++p){if(!(p<v&&s(h=m[p],p,m))===y)if(y=!y)g=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=p-1;x>=g;--x)o.point(j[x],P[x]);o.lineEnd(),o.areaEnd()}y&&(j[p]=+e(h,p,m),P[p]=+t(h,p,m),o.point(n?+n(h,p,m):j[p],r?+r(h,p,m):P[p]))}if(b)return o=null,b+""||null}function d(){return O_().defined(s).curve(l).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),n=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:nt(+m),u):e},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:nt(+m),u):n},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:nt(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:nt(+m),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(m){return arguments.length?(s=typeof m=="function"?m:nt(!!m),u):s},u.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),u):l},u.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),u):i},u}class E_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function u$(e){return new E_(e,!0)}function m$(e){return new E_(e,!1)}const Ay={draw(e,t){const r=qn(t/Im);e.moveTo(r,0),e.arc(0,0,r,0,Qf)}},f$={draw(e,t){const r=qn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},A_=qn(1/3),p$=A_*2,h$={draw(e,t){const r=qn(t/p$),n=r*A_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},g$={draw(e,t){const r=qn(t),n=-r/2;e.rect(n,n,r,r)}},x$=.8908130915292852,T_=Dm(Im/10)/Dm(7*Im/10),y$=Dm(Qf/10)*T_,v$=-S_(Qf/10)*T_,b$={draw(e,t){const r=qn(t*x$),n=y$*r,s=v$*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const l=Qf*i/5,o=S_(l),c=Dm(l);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*s,c*n+o*s)}e.closePath()}},Kh=qn(3),j$={draw(e,t){const r=-qn(t/(Kh*3));e.moveTo(0,r*2),e.lineTo(-Kh*r,-r),e.lineTo(Kh*r,-r),e.closePath()}},on=-.5,cn=qn(3)/2,N0=1/qn(12),w$=(N0/2+1)*3,N$={draw(e,t){const r=qn(t/w$),n=r/2,s=r*N0,i=n,l=r*N0+r,o=-i,c=l;e.moveTo(n,s),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(on*n-cn*s,cn*n+on*s),e.lineTo(on*i-cn*l,cn*i+on*l),e.lineTo(on*o-cn*c,cn*o+on*c),e.lineTo(on*n+cn*s,on*s-cn*n),e.lineTo(on*i+cn*l,on*l-cn*i),e.lineTo(on*o+cn*c,on*c-cn*o),e.closePath()}};function S$(e,t){let r=null,n=Oy(s);e=typeof e=="function"?e:nt(e||Ay),t=typeof t=="function"?t:nt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:nt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:nt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Mm(){}function $m(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function D_(e){this._context=e}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$m(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k$(e){return new D_(e)}function I_(e){this._context=e}I_.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _$(e){return new I_(e)}function M_(e){this._context=e}M_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P$(e){return new M_(e)}function $_(e){this._context=e}$_.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function C$(e){return new $_(e)}function Pw(e){return e<0?-1:1}function Cw(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),l=(r-e._y1)/(s||n<0&&-0),o=(i*s+l*n)/(n+s);return(Pw(i)+Pw(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function Ow(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qh(e,t,r){var n=e._x0,s=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,s+o*t,i-o,l-o*r,i,l)}function Lm(e){this._context=e}Lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qh(this,this._t0,Ow(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qh(this,Ow(this,r=Cw(this,e,t)),r);break;default:qh(this,this._t0,r=Cw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function L_(e){this._context=new R_(e)}(L_.prototype=Object.create(Lm.prototype)).point=function(e,t){Lm.prototype.point.call(this,t,e)};function R_(e){this._context=e}R_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function O$(e){return new Lm(e)}function E$(e){return new L_(e)}function F_(e){this._context=e}F_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ew(e),s=Ew(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ew(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function A$(e){return new F_(e)}function Zf(e,t){this._context=e,this._t=t}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function T$(e){return new Zf(e,.5)}function D$(e){return new Zf(e,0)}function I$(e){return new Zf(e,1)}function Si(e,t){if((l=e.length)>1)for(var r=1,n,s,i=e[t[0]],l,o=i.length;r<l;++r)for(s=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function S0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function M$(e,t){return e[t]}function $$(e){const t=[];return t.key=e,t}function L$(){var e=nt([]),t=S0,r=Si,n=M$;function s(i){var l=Array.from(e.apply(this,arguments),$$),o,c=l.length,u=-1,d;for(const m of i)for(o=0,++u;o<c;++o)(l[o][u]=[0,+n(m,l[o].key,u,i)]).data=m;for(o=0,d=Ey(t(l));o<c;++o)l[d[o]].index=o;return r(l,d),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:nt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:nt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?S0:typeof i=="function"?i:nt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Si,s):r},s}function R$(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<n;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<n;++r)e[r][s][1]/=l}Si(e,t)}}function F$(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var l=0,o=0;l<s;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Si(e,t)}}function z$(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,l;n<i;++n){for(var o=0,c=0,u=0;o<l;++o){for(var d=e[t[o]],m=d[n][1]||0,p=d[n-1][1]||0,g=(m-p)/2,x=0;x<o;++x){var v=e[t[x]],h=v[n][1]||0,y=v[n-1][1]||0;g+=h-y}c+=m,u+=g*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Si(e,t)}}var Jf={},z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(z_);var Ty={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ty);var ep={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(ep);var tp={},B_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(B_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B_,r=ep;function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],l=s.length;if(l===0)return i;let o=0,c="",u="",d=!1;for(s.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const m=s[o];u?m==="\\"&&o+1<l?(o++,c+=s[o]):m===u?u="":c+=m:d?m==='"'||m==="'"?u=m:m==="]"?(d=!1,i.push(c),c=""):c+=m:m==="["?(d=!0,c&&(i.push(c),c="")):m==="."?c&&(i.push(c),c=""):c+=m,o++}return c&&i.push(c),i}e.toPath=n})(tp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z_,r=Ty,n=ep,s=tp;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?i(o,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return l(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function l(o,c,u){if(c.length===0)return u;let d=o;for(let m=0;m<c.length;m++){if(d==null||t.isUnsafeProperty(c[m]))return u;d=d[c[m]]}return d===void 0?u:d}e.get=i})(Jf);var B$=Jf.get;const ki=Wa(B$);var U$=4;function hs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U$,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Nt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((s,i,l)=>{var o=r[l-1];return typeof o=="string"?s+o+i:o!==void 0?s+hs(o)+i:s+i},"")}var Xt=e=>e===0?0:e>0?1:-1,Un=e=>typeof e=="number"&&e!=+e,La=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pe=e=>(typeof e=="number"||e instanceof Number)&&!Un(e),ua=e=>Pe(e)||typeof e=="string",H$=0,jc=e=>{var t=++H$;return"".concat(e||"").concat(t)},xr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&typeof t!="string")return n;var i;if(La(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Un(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},U_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function ut(e,t,r){return Pe(e)&&Pe(t)?hs(e+r*(t-e)):t}function H_(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ki(n,t))===r)}var pt=e=>e===null||typeof e>"u",qc=e=>pt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function W$(e){return e!=null}function Vc(){}var K$=["type","size","sizeType"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){q$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q$(e,t,r){return(t=V$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V$(e){var t=G$(e,"string");return typeof t=="symbol"?t:t+""}function G$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y$(e,t){if(e==null)return{};var r,n,s=Q$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Q$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W_={symbolCircle:Ay,symbolCross:f$,symbolDiamond:h$,symbolSquare:g$,symbolStar:b$,symbolTriangle:j$,symbolWye:N$},X$=Math.PI/180,Z$=e=>{var t="symbol".concat(qc(e));return W_[t]||Ay},J$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*X$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},e8=(e,t)=>{W_["symbol".concat(qc(e))]=t},Dy=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=Y$(e,K$),i=Tw(Tw({},s),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var p=Z$(l),g=S$().type(p).size(J$(r,n,l)),x=g();if(x!==null)return x},{className:c,cx:u,cy:d}=i,m=_r(i);return Pe(u)&&Pe(d)&&Pe(r)?f.createElement("path",k0({},m,{className:Ge("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Dy.registerSymbol=e8;var K_=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Iy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(f.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Py(s)&&(n[s]=i=>r[s](r,i))}),n},t8=(e,t,r)=>n=>(e(t,r,n),null),Gc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];Py(s)&&typeof i=="function"&&(n||(n={}),n[s]=t8(i,t,r))}),n};function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){n8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n8(e,t,r){return(t=a8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a8(e){var t=s8(e,"string");return typeof t=="symbol"?t:t+""}function s8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t){var r=r8({},e),n=t,s=Object.keys(t),i=s.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return(t=o8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var un=32,d8={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function u8(e){var{data:t,iconType:r,inactiveColor:n}=e,s=un/2,i=un/6,l=un/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return f.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:s,x2:un,y2:s,className:"recharts-legend-icon"})}if(c==="line")return f.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(un,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return f.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(un/8,"h").concat(un,"v").concat(un*3/4,"h").concat(-un,"z"),className:"recharts-legend-icon"});if(f.isValidElement(t.legendIcon)){var d=i8({},t);return delete d.legendIcon,f.cloneElement(t.legendIcon,d)}return f.createElement(Dy,{fill:o,cx:s,cy:s,size:un,sizeType:"diameter",type:c})}function m8(e){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:l}=e,o={x:0,y:0,width:un,height:un},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,m)=>{var p=d.formatter||s,g=Ge({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?i:d.color,v=p?p(d.value,d,m):d.value;return f.createElement("li",Rm({className:g,style:c,key:"legend-item-".concat(m)},Gc(e,d,m)),f.createElement(Cy,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(v," legend icon")},f.createElement(u8,{data:d,iconType:l,inactiveColor:i})),f.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},v))})}var f8=e=>{var t=$t(e,d8),{payload:r,layout:n,align:s}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return f.createElement("ul",{className:"recharts-default-legend",style:i},f.createElement(m8,Rm({},t,{payload:r})))},q_={},V_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);s.has(o)||s.set(o,l)}return Array.from(s.values())}e.uniqBy=t})(V_);var My={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(My);var G_={},rp={},Y_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Y_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y_;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(rp);var Q_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Q_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rp,r=Q_;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(G_);var X_={},Z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jf;function r(n){return function(s){return t.get(s,n)}}e.property=r})(Z_);var J_={},$y={},e4={},Ly={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ly);var Ry={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ry);var Fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Fy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ly,r=Ry,n=Fy;function s(d,m,p){return typeof p!="function"?s(d,m,()=>{}):i(d,m,function g(x,v,h,y,b,j){const P=p(x,v,h,y,b,j);return P!==void 0?!!P:i(x,v,g,j)},new Map)}function i(d,m,p,g){if(m===d)return!0;switch(typeof m){case"object":return l(d,m,p,g);case"function":return Object.keys(m).length>0?i(d,{...m},p,g):n.eq(d,m);default:return t.isObject(d)?typeof m=="string"?m==="":!0:n.eq(d,m)}}function l(d,m,p,g){if(m==null)return!0;if(Array.isArray(m))return c(d,m,p,g);if(m instanceof Map)return o(d,m,p,g);if(m instanceof Set)return u(d,m,p,g);const x=Object.keys(m);if(d==null||r.isPrimitive(d))return x.length===0;if(x.length===0)return!0;if(g!=null&&g.has(m))return g.get(m)===d;g==null||g.set(m,d);try{for(let v=0;v<x.length;v++){const h=x[v];if(!r.isPrimitive(d)&&!(h in d)||m[h]===void 0&&d[h]!==void 0||m[h]===null&&d[h]!==null||!p(d[h],m[h],h,d,m,g))return!1}return!0}finally{g==null||g.delete(m)}}function o(d,m,p,g){if(m.size===0)return!0;if(!(d instanceof Map))return!1;for(const[x,v]of m.entries()){const h=d.get(x);if(p(h,v,x,d,m,g)===!1)return!1}return!0}function c(d,m,p,g){if(m.length===0)return!0;if(!Array.isArray(d))return!1;const x=new Set;for(let v=0;v<m.length;v++){const h=m[v];let y=!1;for(let b=0;b<d.length;b++){if(x.has(b))continue;const j=d[b];let P=!1;if(p(j,h,v,d,m,g)&&(P=!0),P){x.add(b),y=!0;break}}if(!y)return!1}return!0}function u(d,m,p,g){return m.size===0?!0:d instanceof Set?c([...d],[...m],p,g):!1}e.isMatchWith=s,e.isSetMatch=u})(e4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e4;function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})($y);var t4={},zy={},r4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(r4);var By={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(By);var Uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",m="[object Function]",p="[object ArrayBuffer]",g="[object Object]",x="[object Error]",v="[object DataView]",h="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",P="[object BigUint64Array]",_="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",E="[object BigInt64Array]",k="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=P,e.booleanTag=s,e.dataViewTag=v,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=k,e.float64ArrayTag=T,e.functionTag=m,e.int16ArrayTag=C,e.int32ArrayTag=O,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=h,e.uint8ClampedArrayTag=y})(Uy);var n4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(n4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4,r=By,n=Uy,s=Ry,i=n4;function l(d,m){return o(d,void 0,d,new Map,m)}function o(d,m,p,g=new Map,x=void 0){const v=x==null?void 0:x(d,m,p,g);if(v!==void 0)return v;if(s.isPrimitive(d))return d;if(g.has(d))return g.get(d);if(Array.isArray(d)){const h=new Array(d.length);g.set(d,h);for(let y=0;y<d.length;y++)h[y]=o(d[y],y,p,g,x);return Object.hasOwn(d,"index")&&(h.index=d.index),Object.hasOwn(d,"input")&&(h.input=d.input),h}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const h=new RegExp(d.source,d.flags);return h.lastIndex=d.lastIndex,h}if(d instanceof Map){const h=new Map;g.set(d,h);for(const[y,b]of d)h.set(y,o(b,y,p,g,x));return h}if(d instanceof Set){const h=new Set;g.set(d,h);for(const y of d)h.add(o(y,void 0,p,g,x));return h}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const h=new(Object.getPrototypeOf(d)).constructor(d.length);g.set(d,h);for(let y=0;y<d.length;y++)h[y]=o(d[y],y,p,g,x);return h}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const h=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return g.set(d,h),c(h,d,p,g,x),h}if(typeof File<"u"&&d instanceof File){const h=new File([d],d.name,{type:d.type});return g.set(d,h),c(h,d,p,g,x),h}if(typeof Blob<"u"&&d instanceof Blob){const h=new Blob([d],{type:d.type});return g.set(d,h),c(h,d,p,g,x),h}if(d instanceof Error){const h=new d.constructor;return g.set(d,h),h.message=d.message,h.name=d.name,h.stack=d.stack,h.cause=d.cause,c(h,d,p,g,x),h}if(d instanceof Boolean){const h=new Boolean(d.valueOf());return g.set(d,h),c(h,d,p,g,x),h}if(d instanceof Number){const h=new Number(d.valueOf());return g.set(d,h),c(h,d,p,g,x),h}if(d instanceof String){const h=new String(d.valueOf());return g.set(d,h),c(h,d,p,g,x),h}if(typeof d=="object"&&u(d)){const h=Object.create(Object.getPrototypeOf(d));return g.set(d,h),c(h,d,p,g,x),h}return d}function c(d,m,p=d,g,x){const v=[...Object.keys(m),...t.getSymbols(m)];for(let h=0;h<v.length;h++){const y=v[h],b=Object.getOwnPropertyDescriptor(d,y);(b==null||b.writable)&&(d[y]=o(m[y],y,p,g,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(zy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(t4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y,r=t4;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(J_);var a4={},s4={},i4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zy,r=Uy;function n(s,i){return t.cloneDeepWith(s,(l,o,c,u)=>{const d=i==null?void 0:i(l,o,c,u);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(i4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i4;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(s4);var l4={},Hy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Hy);var o4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(o4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ty,r=Hy,n=o4,s=tp;function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=s.toPath(o):c=[o],c.length===0)return!1;let u=l;for(let d=0;d<c.length;d++){const m=c[d];if((u==null||!Object.hasOwn(u,m))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(m)&&m<u.length))return!1;u=u[m]}return!0}e.has=i})(l4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y,r=ep,n=s4,s=Jf,i=l4;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=s.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=l})(a4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My,r=Z_,n=J_,s=a4;function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?s.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(X_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V_,r=My,n=G_,s=X_;function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),s.iteratee(o)):[]}e.uniqBy=i})(q_);var p8=q_.uniqBy;const Mw=Wa(p8);function c4(e,t,r){return t===!0?Mw(e,r):typeof t=="function"?Mw(e,t):e}var d4={exports:{}},u4={},m4={exports:{}},f4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=f;function h8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g8=typeof Object.is=="function"?Object.is:h8,x8=Ol.useState,y8=Ol.useEffect,v8=Ol.useLayoutEffect,b8=Ol.useDebugValue;function j8(e,t){var r=t(),n=x8({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return v8(function(){s.value=r,s.getSnapshot=t,Vh(s)&&i({inst:s})},[e,r,t]),y8(function(){return Vh(s)&&i({inst:s}),e(function(){Vh(s)&&i({inst:s})})},[e]),b8(r),r}function Vh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!g8(e,r)}catch{return!0}}function w8(e,t){return t()}var N8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w8:j8;f4.useSyncExternalStore=Ol.useSyncExternalStore!==void 0?Ol.useSyncExternalStore:N8;m4.exports=f4;var S8=m4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=f,k8=S8;function _8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var P8=typeof Object.is=="function"?Object.is:_8,C8=k8.useSyncExternalStore,O8=np.useRef,E8=np.useEffect,A8=np.useMemo,T8=np.useDebugValue;u4.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=O8(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=A8(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),s!==void 0&&l.hasValue){var x=l.value;if(s(x,g))return m=x}return m=g}if(x=m,P8(d,g))return x;var v=n(g);return s!==void 0&&s(x,v)?(d=g,x):(d=g,m=v)}var u=!1,d,m,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,s]);var o=C8(e,i[0],i[1]);return E8(function(){l.hasValue=!0,l.value=o},[o]),T8(o),o};d4.exports=u4;var D8=d4.exports,Wy=f.createContext(null),I8=e=>e,st=()=>{var e=f.useContext(Wy);return e?e.store.dispatch:I8},em=()=>{},M8=()=>em,$8=(e,t)=>e===t;function Ce(e){var t=f.useContext(Wy);return D8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:M8,t?t.store.getState:em,t?t.store.getState:em,t?e:em,$8)}function L8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function R8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function F8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var $w=e=>Array.isArray(e)?e:[e];function z8(e){const t=Array.isArray(e[0])?e[0]:e;return F8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function B8(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var U8=class{constructor(e){this.value=e}deref(){return this.value}},H8=typeof WeakRef<"u"?WeakRef:U8,W8=0,Lw=1;function Nu(){return{s:W8,v:void 0,o:null,p:null}}function p4(e,t={}){let r=Nu();const{resultEqualityCheck:n}=t;let s,i=0;function l(){var m;let o=r;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const h=v.get(x);h===void 0?(o=Nu(),v.set(x,o)):o=h}else{let v=o.p;v===null&&(o.p=v=new Map);const h=v.get(x);h===void 0?(o=Nu(),v.set(x,o)):o=h}}const u=o;let d;if(o.s===Lw)d=o.v;else if(d=e.apply(null,arguments),i++,n){const p=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;p!=null&&n(p,d)&&(d=p,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new H8(d):d}return u.s=Lw,u.v=d,d}return l.clearCache=()=>{r=Nu(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function K8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,l=0,o,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),L8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:m,memoizeOptions:p=[],argsMemoize:g=p4,argsMemoizeOptions:x=[]}=d,v=$w(p),h=$w(x),y=z8(s),b=m(function(){return i++,u.apply(null,arguments)},...v),j=g(function(){l++;const _=B8(y,arguments);return o=b.apply(null,_),o},...h);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var Y=K8(p4),q8=Object.assign((e,t=Y)=>{R8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,c)=>(l[r[c]]=o,l),{}))},{withTypes:()=>q8}),h4={},g4={},x4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const l=t(n),o=t(s);if(l===o&&l===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(x4);var y4={},Ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ky);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=s})(y4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x4,r=y4,n=tp;function s(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const u=(g,x)=>{let v=g;for(let h=0;h<x.length&&v!=null;++h)v=v[x[h]];return v},d=(g,x)=>x==null||g==null?x:typeof g=="object"&&"key"in g?Object.hasOwn(x,g.key)?x[g.key]:u(x,g.path):typeof g=="function"?g(x):Array.isArray(g)?u(x,g):typeof x=="object"?x[g]:x,m=l.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return i.map(g=>({original:g,criteria:m.map(x=>d(x,g))})).slice().sort((g,x)=>{for(let v=0;v<m.length;v++){const h=t.compareValues(g.criteria[v],x.criteria[v],o[v]);if(h!==0)return h}return 0}).map(g=>g.original)}e.orderBy=s})(g4);var v4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),l=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?l(d,c+1):s.push(d)}};return l(r,0),s}e.flatten=t})(v4);var qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=rp,n=Ly,s=Fy;function i(l,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?s.eq(c[o],l):!1}e.isIterateeCall=i})(qy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g4,r=v4,n=qy;function s(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=s})(h4);var V8=h4.sortBy;const ap=Wa(V8);var b4=e=>e.legend.settings,G8=e=>e.legend.size,Y8=e=>e.legend.payload,Q8=Y([Y8,b4],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ap(n,r):n});function X8(){return Ce(Q8)}var Su=1;function j4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=f.useState({height:0,left:0,top:0,width:0}),n=f.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>Su||Math.abs(l.left-t.left)>Su||Math.abs(l.top-t.top)>Su||Math.abs(l.width-t.width)>Su)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z8=typeof Symbol=="function"&&Symbol.observable||"@@observable",Rw=Z8,Gh=()=>Math.random().toString(36).substring(7).split("").join("."),J8={INIT:`@@redux/INIT${Gh()}`,REPLACE:`@@redux/REPLACE${Gh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gh()}`},Fm=J8;function Vy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function w4(e,t,r){if(typeof e!="function")throw new Error(rr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(rr(1));return r(w4)(e,t)}let n=e,s=t,i=new Map,l=i,o=0,c=!1;function u(){l===i&&(l=new Map,i.forEach((h,y)=>{l.set(y,h)}))}function d(){if(c)throw new Error(rr(3));return s}function m(h){if(typeof h!="function")throw new Error(rr(4));if(c)throw new Error(rr(5));let y=!0;u();const b=o++;return l.set(b,h),function(){if(y){if(c)throw new Error(rr(6));y=!1,u(),l.delete(b),i=null}}}function p(h){if(!Vy(h))throw new Error(rr(7));if(typeof h.type>"u")throw new Error(rr(8));if(typeof h.type!="string")throw new Error(rr(17));if(c)throw new Error(rr(9));try{c=!0,s=n(s,h)}finally{c=!1}return(i=l).forEach(b=>{b()}),h}function g(h){if(typeof h!="function")throw new Error(rr(10));n=h,p({type:Fm.REPLACE})}function x(){const h=m;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(rr(11));function b(){const P=y;P.next&&P.next(d())}return b(),{unsubscribe:h(b)}},[Rw](){return this}}}return p({type:Fm.INIT}),{dispatch:p,subscribe:m,getState:d,replaceReducer:g,[Rw]:x}}function eL(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Fm.INIT})>"u")throw new Error(rr(12));if(typeof r(void 0,{type:Fm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function N4(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let s;try{eL(r)}catch(i){s=i}return function(l={},o){if(s)throw s;let c=!1;const u={};for(let d=0;d<n.length;d++){const m=n[d],p=r[m],g=l[m],x=p(g,o);if(typeof x>"u")throw o&&o.type,new Error(rr(14));u[m]=x,c=c||x!==g}return c=c||n.length!==Object.keys(l).length,c?u:l}}function zm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function tL(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(rr(15))};const l={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(l));return i=zm(...o)(s.dispatch),{...s,dispatch:i}}}function S4(e){return Vy(e)&&"type"in e&&typeof e.type=="string"}var k4=Symbol.for("immer-nothing"),Fw=Symbol.for("immer-draftable"),Pr=Symbol.for("immer-state");function In(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qr=Object,El=Qr.getPrototypeOf,Bm="constructor",sp="prototype",_0="configurable",Um="enumerable",tm="writable",wc="value",Ra=e=>!!e&&!!e[Pr];function Hn(e){var t;return e?_4(e)||lp(e)||!!e[Fw]||!!((t=e[Bm])!=null&&t[Fw])||op(e)||cp(e):!1}var rL=Qr[sp][Bm].toString(),zw=new WeakMap;function _4(e){if(!e||!Gy(e))return!1;const t=El(e);if(t===null||t===Qr[sp])return!0;const r=Qr.hasOwnProperty.call(t,Bm)&&t[Bm];if(r===Object)return!0;if(!Gi(r))return!1;let n=zw.get(r);return n===void 0&&(n=Function.toString.call(r),zw.set(r,n)),n===rL}function ip(e,t,r=!0){Yc(e)===0?(r?Reflect.ownKeys(e):Qr.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Yc(e){const t=e[Pr];return t?t.type_:lp(e)?1:op(e)?2:cp(e)?3:0}var Bw=(e,t,r=Yc(e))=>r===2?e.has(t):Qr[sp].hasOwnProperty.call(e,t),P0=(e,t,r=Yc(e))=>r===2?e.get(t):e[t],Hm=(e,t,r,n=Yc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function nL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var lp=Array.isArray,op=e=>e instanceof Map,cp=e=>e instanceof Set,Gy=e=>typeof e=="object",Gi=e=>typeof e=="function",Yh=e=>typeof e=="boolean";function aL(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ja=e=>e.copy_||e.base_,Yy=e=>e.modified_?e.copy_:e.base_;function C0(e,t){if(op(e))return new Map(e);if(cp(e))return new Set(e);if(lp(e))return Array[sp].slice.call(e);const r=_4(e);if(t===!0||t==="class_only"&&!r){const n=Qr.getOwnPropertyDescriptors(e);delete n[Pr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const l=s[i],o=n[l];o[tm]===!1&&(o[tm]=!0,o[_0]=!0),(o.get||o.set)&&(n[l]={[_0]:!0,[tm]:!0,[Um]:o[Um],[wc]:e[l]})}return Qr.create(El(e),n)}else{const n=El(e);if(n!==null&&r)return{...e};const s=Qr.create(n);return Qr.assign(s,e)}}function Qy(e,t=!1){return dp(e)||Ra(e)||!Hn(e)||(Yc(e)>1&&Qr.defineProperties(e,{set:ku,add:ku,clear:ku,delete:ku}),Qr.freeze(e),t&&ip(e,(r,n)=>{Qy(n,!0)},!1)),e}function sL(){In(2)}var ku={[wc]:sL};function dp(e){return e===null||!Gy(e)?!0:Qr.isFrozen(e)}var Wm="MapSet",O0="Patches",Uw="ArrayMethods",P4={};function _i(e){const t=P4[e];return t||In(0,e),t}var Hw=e=>!!P4[e],Nc,C4=()=>Nc,iL=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Hw(Wm)?_i(Wm):void 0,arrayMethodsPlugin_:Hw(Uw)?_i(Uw):void 0});function Ww(e,t){t&&(e.patchPlugin_=_i(O0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function E0(e){A0(e),e.drafts_.forEach(lL),e.drafts_=null}function A0(e){e===Nc&&(Nc=e.parent_)}var Kw=e=>Nc=iL(Nc,e);function lL(e){const t=e[Pr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Pr].modified_&&(E0(t),In(4)),Hn(e)&&(e=Vw(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[Pr].base_,e,t)}else e=Vw(t,r);return oL(t,e,!0),E0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==k4?e:void 0}function Vw(e,t){if(dp(t))return t;const r=t[Pr];if(!r)return Km(t,e.handledSet_,e);if(!up(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);A4(r,e)}return r.copy_}function oL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qy(t,r)}function O4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var up=(e,t)=>e.scope_===t,cL=[];function E4(e,t,r,n){const s=ja(e),i=e.type_;if(n!==void 0&&P0(s,n,i)===t){Hm(s,n,r,i);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;ip(s,(c,u)=>{if(Ra(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const l=e.draftLocations_.get(t)??cL;for(const o of l)Hm(s,o,r,i)}function dL(e,t,r){e.callbacks_.push(function(s){var o;const i=t;if(!i||!up(i,s))return;(o=s.mapSetPlugin_)==null||o.fixSetContents(i);const l=Yy(i);E4(e,i.draft_??i,l,r),A4(i,s)})}function A4(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:s}=t;if(s){const i=s.getPath(e);i&&s.generatePatches_(e,i,t)}O4(e)}}function uL(e,t,r){const{scope_:n}=e;if(Ra(r)){const s=r[Pr];up(s,n)&&s.callbacks_.push(function(){rm(e);const l=Yy(s);E4(e,r,l,t)})}else Hn(r)&&e.callbacks_.push(function(){const i=ja(e);e.type_===3?i.has(r)&&Km(r,n.handledSet_,n):P0(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Km(P0(e.copy_,t,e.type_),n.handledSet_,n)})}function Km(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ra(e)||t.has(e)||!Hn(e)||dp(e)||(t.add(e),ip(e,(n,s)=>{if(Ra(s)){const i=s[Pr];if(up(i,r)){const l=Yy(i);Hm(e,n,l,e.type_),O4(i)}}else Hn(s)&&Km(s,t,r)})),e}function mL(e,t){const r=lp(e),n={type_:r?1:0,scope_:t?t.scope_:C4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,i=qm;r&&(s=[n],i=Sc);const{revoke:l,proxy:o}=Proxy.revocable(s,i);return n.draft_=o,n.revoke_=l,[o,n]}var qm={get(e,t){if(t===Pr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const s=ja(e);if(!Bw(s,t,e.type_))return fL(e,s,t);const i=s[t];if(e.finalized_||!Hn(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&aL(t))return i;if(i===Qh(e.base_,t)){rm(e);const l=e.type_===1?+t:t,o=D0(e.scope_,i,e,l);return e.copy_[l]=o}return i},has(e,t){return t in ja(e)},ownKeys(e){return Reflect.ownKeys(ja(e))},set(e,t,r){const n=T4(ja(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Qh(ja(e),t),i=s==null?void 0:s[Pr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(nL(r,s)&&(r!==void 0||Bw(e.base_,t,e.type_)))return!0;rm(e),T0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),uL(e,t,r)),!0},deleteProperty(e,t){return rm(e),Qh(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),T0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ja(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[tm]:!0,[_0]:e.type_!==1||t!=="length",[Um]:n[Um],[wc]:r[t]}},defineProperty(){In(11)},getPrototypeOf(e){return El(e.base_)},setPrototypeOf(){In(12)}},Sc={};for(let e in qm){let t=qm[e];Sc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Sc.deleteProperty=function(e,t){return Sc.set.call(this,e,t,void 0)};Sc.set=function(e,t,r){return qm.set.call(this,e[0],t,r,e[0])};function Qh(e,t){const r=e[Pr];return(r?ja(r):e)[t]}function fL(e,t,r){var s;const n=T4(t,r);return n?wc in n?n[wc]:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function T4(e,t){if(!(t in e))return;let r=El(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=El(r)}}function T0(e){e.modified_||(e.modified_=!0,e.parent_&&T0(e.parent_))}function rm(e){e.copy_||(e.assigned_=new Map,e.copy_=C0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(Gi(r)&&!Gi(n)){const l=n;n=r;const o=this;return function(u=l,...d){return o.produce(u,m=>n.call(this,m,...d))}}Gi(n)||In(6),s!==void 0&&!Gi(s)&&In(7);let i;if(Hn(r)){const l=Kw(this),o=D0(l,r,void 0);let c=!0;try{i=n(o),c=!1}finally{c?E0(l):A0(l)}return Ww(l,s),qw(i,l)}else if(!r||!Gy(r)){if(i=n(r),i===void 0&&(i=r),i===k4&&(i=void 0),this.autoFreeze_&&Qy(i,!0),s){const l=[],o=[];_i(O0).generateReplacementPatches_(r,i,{patches_:l,inversePatches_:o}),s(l,o)}return i}else In(1,r)},this.produceWithPatches=(r,n)=>{if(Gi(r))return(o,...c)=>this.produceWithPatches(o,u=>r(u,...c));let s,i;return[this.produce(r,n,(o,c)=>{s=o,i=c}),s,i]},Yh(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Yh(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Yh(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Hn(t)||In(8),Ra(t)&&(t=Fn(t));const r=Kw(this),n=D0(r,t,void 0);return n[Pr].isManual_=!0,A0(r),n}finishDraft(t,r){const n=t&&t[Pr];(!n||!n.isManual_)&&In(9);const{scope_:s}=n;return Ww(s,r),qw(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const s=_i(O0).applyPatches_;return Ra(t)?s(t,r):this.produce(t,i=>s(i,r))}};function D0(e,t,r,n){const[s,i]=op(t)?_i(Wm).proxyMap_(t,r):cp(t)?_i(Wm).proxySet_(t,r):mL(t,r);return((r==null?void 0:r.scope_)??C4()).drafts_.push(s),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?dL(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),s}function Fn(e){return Ra(e)||In(10,e),D4(e)}function D4(e){if(!Hn(e)||dp(e))return e;const t=e[Pr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=C0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=C0(e,!0);return ip(r,(s,i)=>{Hm(r,s,D4(i))},n),t&&(t.finalized_=!1),r}var hL=new pL,I4=hL.produce;function M4(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var gL=M4(),xL=M4,yL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zm:zm.apply(null,arguments)};function vn(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Zr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>S4(n)&&n.type===e,r}var $4=class Fo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fo.prototype)}static get[Symbol.species](){return Fo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fo(...t[0].concat(this)):new Fo(...t.concat(this))}};function Gw(e){return Hn(e)?I4(e,()=>{}):e}function _u(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function vL(e){return typeof e=="boolean"}var bL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let l=new $4;return r&&(vL(r)?l.push(gL):l.push(xL(r.extraArgument))),l},L4="RTK_autoBatch",dt=()=>e=>({payload:e,meta:{[L4]:!0}}),Yw=e=>t=>{setTimeout(t,e)},R4=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Yw(10):e.type==="callback"?e.queueNotification:Yw(e.timeout),u=()=>{l=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const m=()=>s&&d(),p=n.subscribe(m);return o.add(d),()=>{p(),o.delete(d)}},dispatch(d){var m;try{return s=!((m=d==null?void 0:d.meta)!=null&&m[L4]),i=!s,i&&(l||(l=!0,c(u))),n.dispatch(d)}finally{s=!0}}})},jL=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new $4(e);return n&&s.push(R4(typeof n=="object"?n:void 0)),s};function wL(e){const t=bL(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(Vy(r))o=N4(r);else throw new Error(Zr(1));let c;typeof n=="function"?c=n(t):c=t();let u=zm;s&&(u=yL({trace:!1,...typeof s=="object"&&s}));const d=tL(...c),m=jL(d);let p=typeof l=="function"?l(m):m();const g=u(...p);return w4(o,i,g)}function F4(e){const t={},r=[];let n;const s={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Zr(28));if(o in t)throw new Error(Zr(29));return t[o]=l,s},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),s},addMatcher(i,l){return r.push({matcher:i,reducer:l}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function NL(e){return typeof e=="function"}function SL(e,t){let[r,n,s]=F4(t),i;if(NL(e))i=()=>Gw(e());else{const o=Gw(e);i=()=>o}function l(o=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,m)=>{if(m)if(Ra(d)){const g=m(d,c);return g===void 0?d:g}else{if(Hn(d))return I4(d,p=>m(p,c));{const p=m(d,c);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},o)}return l.getInitialState=i,l}var kL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_L=(e=21)=>{let t="",r=e;for(;r--;)t+=kL[Math.random()*64|0];return t},PL=Symbol.for("rtk-slice-createasyncthunk");function CL(e,t){return`${e}/${t}`}function OL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[PL];return function(s){const{name:i,reducerPath:l=i}=s;if(!i)throw new Error(Zr(11));const o=(typeof s.reducers=="function"?s.reducers(AL()):s.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,_){const C=typeof P=="string"?P:P.type;if(!C)throw new Error(Zr(12));if(C in u.sliceCaseReducersByType)throw new Error(Zr(13));return u.sliceCaseReducersByType[C]=_,d},addMatcher(P,_){return u.sliceMatchers.push({matcher:P,reducer:_}),d},exposeAction(P,_){return u.actionCreators[P]=_,d},exposeCaseReducer(P,_){return u.sliceCaseReducersByName[P]=_,d}};c.forEach(P=>{const _=o[P],C={reducerName:P,type:CL(i,P),createNotation:typeof s.reducers=="function"};DL(_)?ML(C,_,d,t):TL(C,_,d)});function m(){const[P={},_=[],C=void 0]=typeof s.extraReducers=="function"?F4(s.extraReducers):[s.extraReducers],O={...P,...u.sliceCaseReducersByType};return SL(s.initialState,E=>{for(let k in O)E.addCase(k,O[k]);for(let k of u.sliceMatchers)E.addMatcher(k.matcher,k.reducer);for(let k of _)E.addMatcher(k.matcher,k.reducer);C&&E.addDefaultCase(C)})}const p=P=>P,g=new Map,x=new WeakMap;let v;function h(P,_){return v||(v=m()),v(P,_)}function y(){return v||(v=m()),v.getInitialState()}function b(P,_=!1){function C(E){let k=E[P];return typeof k>"u"&&_&&(k=_u(x,C,y)),k}function O(E=p){const k=_u(g,_,()=>new WeakMap);return _u(k,E,()=>{const T={};for(const[A,D]of Object.entries(s.selectors??{}))T[A]=EL(D,E,()=>_u(x,E,y),_);return T})}return{reducerPath:P,getSelectors:O,get selectors(){return O(C)},selectSlice:C}}const j={name:i,reducer:h,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...b(l),injectInto(P,{reducerPath:_,...C}={}){const O=_??l;return P.inject({reducerPath:O,reducer:h},C),{...j,...b(O,!0)}}};return j}}function EL(e,t,r,n){function s(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return s.unwrapped=e,s}var Ur=OL();function AL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function TL({type:e,reducerName:t,createNotation:r},n,s){let i,l;if("reducer"in n){if(r&&!IL(n))throw new Error(Zr(17));i=n.reducer,l=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?vn(e,l):vn(e))}function DL(e){return e._reducerDefinitionType==="asyncThunk"}function IL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ML({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Zr(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:u,options:d}=r,m=s(e,i,d);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),o&&n.addCase(m.pending,o),c&&n.addCase(m.rejected,c),u&&n.addMatcher(m.settled,u),n.exposeCaseReducer(t,{fulfilled:l||Pu,pending:o||Pu,rejected:c||Pu,settled:u||Pu})}function Pu(){}var $L="task",z4="listener",B4="completed",Xy="cancelled",LL=`task-${Xy}`,RL=`task-${B4}`,I0=`${z4}-${Xy}`,FL=`${z4}-${B4}`,mp=class{constructor(e){fh(this,"name","TaskAbortError");fh(this,"message");this.code=e,this.message=`${$L} ${Xy} (reason: ${e})`}},Zy=(e,t)=>{if(typeof e!="function")throw new TypeError(Zr(32))},Vm=()=>{},U4=(e,t=Vm)=>(e.catch(t),e),H4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),fi=e=>{if(e.aborted)throw new mp(e.reason)};function W4(e,t){let r=Vm;return new Promise((n,s)=>{const i=()=>s(new mp(e.reason));if(e.aborted){i();return}r=H4(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Vm})}var zL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof mp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Gm=e=>t=>U4(W4(e,t).then(r=>(fi(e),r))),K4=e=>{const t=Gm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:xl}=Object,Qw={},fp="listenerMiddleware",BL=(e,t)=>{const r=n=>H4(e,()=>n.abort(e.reason));return(n,s)=>{Zy(n);const i=new AbortController;r(i);const l=zL(async()=>{fi(e),fi(i.signal);const o=await n({pause:Gm(i.signal),delay:K4(i.signal),signal:i.signal});return fi(i.signal),o},()=>i.abort(RL));return s!=null&&s.autoJoin&&t.push(l.catch(Vm)),{result:Gm(e)(l),cancel(){i.abort(LL)}}}},UL=(e,t)=>{const r=async(n,s)=>{fi(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(m,p)=>{p.unsubscribe(),c([m,p.getState(),p.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&o.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await W4(t,Promise.race(o));return fi(t),c}finally{i()}};return(n,s)=>U4(r(n,s))},q4=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=vn(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Zr(21));return Zy(i),{predicate:s,type:t,effect:i}},V4=xl(e=>{const{type:t,predicate:r,effect:n}=q4(e);return{id:_L(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}},{withTypes:()=>V4}),Xw=(e,t)=>{const{type:r,effect:n,predicate:s}=q4(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},M0=e=>{e.pending.forEach(t=>{t.abort(I0)})},HL=(e,t)=>()=>{for(const r of t.keys())M0(r);e.clear()},Zw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},G4=xl(vn(`${fp}/add`),{withTypes:()=>G4}),WL=vn(`${fp}/removeAll`),Y4=xl(vn(`${fp}/remove`),{withTypes:()=>Y4}),KL=(...e)=>{console.error(`${fp}/error`,...e)},Qc=(e={})=>{const t=new Map,r=new Map,n=g=>{const x=r.get(g)??0;r.set(g,x+1)},s=g=>{const x=r.get(g)??1;x===1?r.delete(g):r.set(g,x-1)},{extra:i,onError:l=KL}=e;Zy(l);const o=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x!=null&&x.cancelActive&&M0(g)}),c=g=>{const x=Xw(t,g)??V4(g);return o(x)};xl(c,{withTypes:()=>c});const u=g=>{const x=Xw(t,g);return x&&(x.unsubscribe(),g.cancelActive&&M0(x)),!!x};xl(u,{withTypes:()=>u});const d=async(g,x,v,h)=>{const y=new AbortController,b=UL(c,y.signal),j=[];try{g.pending.add(y),n(g),await Promise.resolve(g.effect(x,xl({},v,{getOriginalState:h,condition:(P,_)=>b(P,_).then(Boolean),take:b,delay:K4(y.signal),pause:Gm(y.signal),extra:i,signal:y.signal,fork:BL(y.signal,j),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((P,_,C)=>{P!==y&&(P.abort(I0),C.delete(P))})},cancel:()=>{y.abort(I0),g.pending.delete(y)},throwIfCancelled:()=>{fi(y.signal)}})))}catch(P){P instanceof mp||Zw(l,P,{raisedBy:"effect"})}finally{await Promise.all(j),y.abort(FL),s(g),g.pending.delete(y)}},m=HL(t,r);return{middleware:g=>x=>v=>{if(!S4(v))return x(v);if(G4.match(v))return c(v.payload);if(WL.match(v)){m();return}if(Y4.match(v))return u(v.payload);let h=g.getState();const y=()=>{if(h===Qw)throw new Error(Zr(23));return h};let b;try{if(b=x(v),t.size>0){const j=g.getState(),P=Array.from(t.values());for(const _ of P){let C=!1;try{C=_.predicate(v,j,h)}catch(O){C=!1,Zw(l,O,{raisedBy:"predicate"})}C&&d(_,v,g,y)}}}finally{h=Qw}return b},startListening:c,stopListening:u,clearListeners:m}};function Zr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Q4=Ur({name:"chartLayout",initialState:qL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:VL,setLayout:GL,setChartSize:YL,setScale:QL}=Q4.actions,XL=Q4.reducer;function X4(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function bt(e){return Number.isFinite(e)}function ma(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){ZL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZL(e,t,r){return(t=JL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JL(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(e,t,r){return pt(e)||pt(t)?r:ua(t)?ki(e,t,r):typeof t=="function"?t(e):r}var t7=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Pe(e[i]))return ol(ol({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Pe(e[l]))return ol(ol({},e),{},{[l]:e[l]+(s||0)})}return e},zs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Z4=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var s,i,l=e.map(o=>(o.coordinate===t&&(s=!0),o.coordinate===r&&(i=!0),o.coordinate));return s||l.push(t),i||l.push(r),l},J4=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:m,niceTicks:p,axisType:g}=e;if(!l)return null;var x=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,v=s==="category"&&l.bandwidth?l.bandwidth()/x:0;if(v=g==="angleAxis"&&i&&i.length>=2?Xt(i[0]-i[1])*2*v:v,m||p){var h=(m||p||[]).map((y,b)=>{var j=n?n.indexOf(y):y;return{coordinate:l(j)+v,value:y,offset:v,index:b}});return h.filter(y=>!Un(y.coordinate))}return c&&u?u.map((y,b)=>({coordinate:l(y)+v,value:y,index:b,offset:v})):l.ticks&&d!=null?l.ticks(d).map((y,b)=>({coordinate:l(y)+v,value:y,offset:v,index:b})):l.domain().map((y,b)=>({coordinate:l(y)+v,value:n?n[y]:y,index:b,offset:v}))},e1=1e-4,r7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-e1,i=Math.max(n[0],n[1])+e1,l=e(t[0]),o=e(t[r-1]);(l<s||l>i||o<s||o>i)&&e.domain([t[0],t[r-1]])}},n7=(e,t)=>{if(!t||t.length!==2||!Pe(t[0])||!Pe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Pe(e[0])||e[0]<r)&&(s[0]=r),(!Pe(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},a7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var s=0;s<n;++s)for(var i=0,l=0,o=0;o<r;++o){var c=e[o],u=c==null?void 0:c[s];if(u!=null){var d=u[1],m=u[0],p=Un(d)?m:d;p>=0?(u[0]=i,u[1]=i+p,i=d):(u[0]=l,u[1]=l+p,l=d)}}}},s7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var s=0;s<n;++s)for(var i=0,l=0;l<r;++l){var o=e[l],c=o==null?void 0:o[s];if(c!=null){var u=Un(c[1])?c[0]:c[1];u>=0?(c[0]=i,c[1]=i+u,i=c[1]):(c[0]=0,c[1]=0)}}}},i7={sign:a7,expand:R$,none:Si,silhouette:F$,wiggle:z$,positive:s7},l7=(e,t,r)=>{var n,s=(n=i7[r])!==null&&n!==void 0?n:Si,i=L$().keys(t).value((o,c)=>Number(Je(o,c,0))).order(S0).offset(s),l=i(e);return l.forEach((o,c)=>{o.forEach((u,d)=>{var m=Je(e[d],t[c],0);Array.isArray(m)&&m.length===2&&Pe(m[0])&&Pe(m[1])&&(u[0]=m[0],u[1]=m[1])})}),l};function o7(e){return e==null?void 0:String(e)}function t1(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pt(s[t.dataKey])){var o=H_(r,"value",s[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Je(s,pt(l)?t.dataKey:l);return pt(c)?null:t.scale(c)}var r1=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=Je(i,t.dataKey,t.scale.domain()[l]);return pt(o)?null:t.scale(o)-s/2+n},c7=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},d7=e=>{var t=e.flat(2).filter(Pe);return[Math.min(...t),Math.max(...t)]},u7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],m7=(e,t,r)=>{if(e!=null)return u7(Object.keys(e).reduce((n,s)=>{var i=e[s];if(!i)return n;var{stackedData:l}=i,o=l.reduce((c,u)=>{var d=X4(u,t,r),m=d7(d);return!bt(m[0])||!bt(m[1])?c:[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},n1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Al=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=ap(t,d=>d.coordinate),i=1/0,l=1,o=s.length;l<o;l++){var c=s[l],u=s[l-1];i=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function s1(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return ol(ol({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Kl(e,t){if(e)return String(e);if(typeof t=="string")return t}var f7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},p7=(e,t)=>t==="centric"?e.angle:e.radius,Ga=e=>e.layout.width,Ya=e=>e.layout.height,h7=e=>e.layout.scale,eP=e=>e.layout.margin,pp=Y(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),hp=Y(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),tP="data-recharts-item-index",rP="data-recharts-item-id",Xc=60;function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){g7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g7(e,t,r){return(t=x7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v7=e=>e.brush.height;function b7(e){var t=hp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Xc;return r+s}return r},0)}function j7(e){var t=hp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Xc;return r+s}return r},0)}function w7(e){var t=pp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function N7(e){var t=pp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Bt=Y([Ga,Ya,eP,v7,b7,j7,w7,N7,b4,G8],(e,t,r,n,s,i,l,o,c,u)=>{var d={left:(r.left||0)+s,right:(r.right||0)+i},m={top:(r.top||0)+l,bottom:(r.bottom||0)+o},p=Cu(Cu({},m),d),g=p.bottom;p.bottom+=n,p=t7(p,c,u);var x=e-p.left-p.right,v=t-p.top-p.bottom;return Cu(Cu({brushBottom:g},p),{},{width:Math.max(x,0),height:Math.max(v,0)})}),S7=Y(Bt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Jy=Y(Ga,Ya,(e,t)=>({x:0,y:0,width:e,height:t})),k7=f.createContext(null),vr=()=>f.useContext(k7)!=null,gp=e=>e.brush,xp=Y([gp,Bt,eP],(e,t,r)=>({height:e.height,x:Pe(e.x)?e.x:t.left,y:Pe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Pe(e.width)?e.width:t.width})),nP={},aP={},sP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},m=()=>{u&&d(),v()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},n)},x=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{x(),l=void 0,o=null},h=()=>{d()},y=function(...b){if(s!=null&&s.aborted)return;l=this,o=b;const j=p==null;g(),c&&j&&d()};return y.schedule=g,y.cancel=v,y.flush=h,s==null||s.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(sP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);l&&(u[0]="leading"),o&&(u[1]="trailing");let d,m=null;const p=t.debounce(function(...v){d=n.apply(this,v),m=null},s,{edges:u}),g=function(...v){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(d=n.apply(this,v),m=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,v),d)},x=()=>(p.flush(),d);return g.cancel=p.cancel,g.flush=x,g}e.debounce=r})(aP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aP;function r(n,s=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,s,{leading:l,maxWait:s,trailing:o})}e.throttle=r})(nP);var _7=nP.throttle;const P7=Wa(_7);var Ym=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>s[l++]))}},iP=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:i,maxHeight:l}=r,o=La(n)?e:Number(n),c=La(s)?t:Number(s);return i&&i>0&&(o?c=o/i:c&&(o=c*i),l&&c!=null&&c>l&&(c=l)),{calculatedWidth:o,calculatedHeight:c}},C7={width:0,height:0,overflow:"visible"},O7={width:0,overflowX:"visible"},E7={height:0,overflowY:"visible"},A7={},T7=e=>{var{width:t,height:r}=e,n=La(t),s=La(r);return n&&s?C7:n?O7:s?E7:A7};function D7(e){var{width:t,height:r,aspect:n}=e,s=t,i=r;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:s,height:i}}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function o1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){I7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I7(e,t,r){return(t=M7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=$7(e,"string");return typeof t=="symbol"?t:t+""}function $7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lP=f.createContext({width:-1,height:-1});function L7(e){return ma(e.width)&&ma(e.height)}function oP(e){var{children:t,width:r,height:n}=e,s=f.useMemo(()=>({width:r,height:n}),[r,n]);return L7(s)?f.createElement(lP.Provider,{value:s},t):null}var ev=()=>f.useContext(lP),R7=f.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:i,minWidth:l=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:m,className:p,onResize:g,style:x={}}=e,v=f.useRef(null),h=f.useRef();h.current=g,f.useImperativeHandle(t,()=>v.current);var[y,b]=f.useState({containerWidth:n.width,containerHeight:n.height}),j=f.useCallback((E,k)=>{b(T=>{var A=Math.round(E),D=Math.round(k);return T.containerWidth===A&&T.containerHeight===D?T:{containerWidth:A,containerHeight:D}})},[]);f.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Vc;var E=D=>{var S,{width:L,height:F}=D[0].contentRect;j(L,F),(S=h.current)===null||S===void 0||S.call(h,L,F)};d>0&&(E=P7(E,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(E),{width:T,height:A}=v.current.getBoundingClientRect();return j(T,A),k.observe(v.current),()=>{k.disconnect()}},[j,d]);var{containerWidth:P,containerHeight:_}=y;Ym(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:O}=iP(P,_,{width:s,height:i,aspect:r,maxHeight:c});return Ym(C!=null&&C>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,O,s,i,l,o,r),f.createElement("div",{id:m?"".concat(m):void 0,className:Ge("recharts-responsive-container",p),style:o1(o1({},x),{},{width:s,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:v},f.createElement("div",{style:T7({width:s,height:i})},f.createElement(oP,{width:C,height:O},u)))}),yp=f.forwardRef((e,t)=>{var r=ev();if(ma(r.width)&&ma(r.height))return e.children;var{width:n,height:s}=D7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=iP(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Pe(i)&&Pe(l)?f.createElement(oP,{width:i,height:l},e.children):f.createElement(R7,$0({},e,{width:n,height:s,ref:t}))});function cP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var vp=()=>{var e,t=vr(),r=Ce(S7),n=Ce(xp),s=(e=Ce(gp))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},F7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},dP=()=>{var e;return(e=Ce(Bt))!==null&&e!==void 0?e:F7},tv=()=>Ce(Ga),rv=()=>Ce(Ya),z7=()=>Ce(e=>e.layout.margin),He=e=>e.layout.layoutType,ql=()=>Ce(He),B7=()=>{var e=ql();return e!==void 0},bp=e=>{var t=st(),r=vr(),{width:n,height:s}=e,i=ev(),l=n,o=s;return i&&(l=i.width>0?i.width:n,o=i.height>0?i.height:s),f.useEffect(()=>{!r&&ma(l)&&ma(o)&&t(YL({width:l,height:o}))},[t,r,l,o]),null},uP=Symbol.for("immer-nothing"),c1=Symbol.for("immer-draftable"),tn=Symbol.for("immer-state");function Mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kc=Object.getPrototypeOf;function Tl(e){return!!e&&!!e[tn]}function Pi(e){var t;return e?mP(e)||Array.isArray(e)||!!e[c1]||!!((t=e.constructor)!=null&&t[c1])||Zc(e)||wp(e):!1}var U7=Object.prototype.constructor.toString(),d1=new WeakMap;function mP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=d1.get(r);return n===void 0&&(n=Function.toString.call(r),d1.set(r,n)),n===U7}function Qm(e,t,r=!0){jp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function jp(e){const t=e[tn];return t?t.type_:Array.isArray(e)?1:Zc(e)?2:wp(e)?3:0}function L0(e,t){return jp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fP(e,t,r){const n=jp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function H7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zc(e){return e instanceof Map}function wp(e){return e instanceof Set}function Js(e){return e.copy_||e.base_}function R0(e,t){if(Zc(e))return new Map(e);if(wp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=mP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[tn];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const l=s[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(kc(e),n)}else{const n=kc(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function nv(e,t=!1){return Np(e)||Tl(e)||!Pi(e)||(jp(e)>1&&Object.defineProperties(e,{set:Ou,add:Ou,clear:Ou,delete:Ou}),Object.freeze(e),t&&Object.values(e).forEach(r=>nv(r,!0))),e}function W7(){Mn(2)}var Ou={value:W7};function Np(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var K7={};function Ci(e){const t=K7[e];return t||Mn(0,e),t}var _c;function pP(){return _c}function q7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function u1(e,t){t&&(Ci("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function F0(e){z0(e),e.drafts_.forEach(V7),e.drafts_=null}function z0(e){e===_c&&(_c=e.parent_)}function m1(e){return _c=q7(_c,e)}function V7(e){const t=e[tn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function f1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[tn].modified_&&(F0(t),Mn(4)),Pi(e)&&(e=Xm(t,e),t.parent_||Zm(t,e)),t.patches_&&Ci("Patches").generateReplacementPatches_(r[tn].base_,e,t.patches_,t.inversePatches_)):e=Xm(t,r,[]),F0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==uP?e:void 0}function Xm(e,t,r){if(Np(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[tn];if(!s)return Qm(t,(i,l)=>p1(e,s,t,i,l,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return Zm(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let l=i,o=!1;s.type_===3&&(l=new Set(i),i.clear(),o=!0),Qm(l,(c,u)=>p1(e,s,i,c,u,r,o),n),Zm(e,i,!1),r&&e.patches_&&Ci("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function p1(e,t,r,n,s,i,l){if(s==null||typeof s!="object"&&!l)return;const o=Np(s);if(!(o&&!l)){if(Tl(s)){const c=i&&t&&t.type_!==3&&!L0(t.assigned_,n)?i.concat(n):void 0,u=Xm(e,s,c);if(fP(r,n,u),Tl(u))e.canAutoFreeze_=!1;else return}else l&&r.add(s);if(Pi(s)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&o)return;Xm(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Zc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Zm(e,s)}}}function Zm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nv(t,r)}function G7(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:pP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=av;r&&(s=[n],i=Pc);const{revoke:l,proxy:o}=Proxy.revocable(s,i);return n.draft_=o,n.revoke_=l,o}var av={get(e,t){if(t===tn)return e;const r=Js(e);if(!L0(r,t))return Y7(e,r,t);const n=r[t];return e.finalized_||!Pi(n)?n:n===Xh(e.base_,t)?(Zh(e),e.copy_[t]=U0(n,e)):n},has(e,t){return t in Js(e)},ownKeys(e){return Reflect.ownKeys(Js(e))},set(e,t,r){const n=hP(Js(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Xh(Js(e),t),i=s==null?void 0:s[tn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(H7(r,s)&&(r!==void 0||L0(e.base_,t)))return!0;Zh(e),B0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Xh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Zh(e),B0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Js(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Mn(11)},getPrototypeOf(e){return kc(e.base_)},setPrototypeOf(){Mn(12)}},Pc={};Qm(av,(e,t)=>{Pc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Pc.deleteProperty=function(e,t){return Pc.set.call(this,e,t,void 0)};Pc.set=function(e,t,r){return av.set.call(this,e[0],t,r,e[0])};function Xh(e,t){const r=e[tn];return(r?Js(r):e)[t]}function Y7(e,t,r){var s;const n=hP(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function hP(e,t){if(!(t in e))return;let r=kc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=kc(r)}}function B0(e){e.modified_||(e.modified_=!0,e.parent_&&B0(e.parent_))}function Zh(e){e.copy_||(e.copy_=R0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Q7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(c=i,...u){return l.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Mn(6),n!==void 0&&typeof n!="function"&&Mn(7);let s;if(Pi(t)){const i=m1(this),l=U0(t,void 0);let o=!0;try{s=r(l),o=!1}finally{o?F0(i):z0(i)}return u1(i,n),f1(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===uP&&(s=void 0),this.autoFreeze_&&nv(s,!0),n){const i=[],l=[];Ci("Patches").generateReplacementPatches_(t,s,i,l),n(i,l)}return s}else Mn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let n,s;return[this.produce(t,r,(l,o)=>{n=l,s=o}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Pi(e)||Mn(8),Tl(e)&&(e=X7(e));const t=m1(this),r=U0(e,void 0);return r[tn].isManual_=!0,z0(t),r}finishDraft(e,t){const r=e&&e[tn];(!r||!r.isManual_)&&Mn(9);const{scope_:n}=r;return u1(n,t),f1(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Ci("Patches").applyPatches_;return Tl(e)?n(e,t):this.produce(e,s=>n(s,t))}};function U0(e,t){const r=Zc(e)?Ci("MapSet").proxyMap_(e,t):wp(e)?Ci("MapSet").proxySet_(e,t):G7(e,t);return(t?t.scope_:pP()).drafts_.push(r),r}function X7(e){return Tl(e)||Mn(10,e),gP(e)}function gP(e){if(!Pi(e)||Np(e))return e;const t=e[tn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=R0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=R0(e,!0);return Qm(r,(s,i)=>{fP(r,s,gP(i))},n),t&&(t.finalized_=!1),r}var Z7=new Q7;Z7.produce;var J7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},xP=Ur({name:"legend",initialState:J7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:dt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Fn(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:dt()},removeLegendPayload:{reducer(e,t){var r=Fn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:dt()}}}),{setLegendSize:h1,setLegendSettings:eR,addLegendPayload:yP,replaceLegendPayload:vP,removeLegendPayload:bP}=xP.actions,tR=xP.reducer,rR=["contextPayload"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(null,arguments)}function g1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(r),!0).forEach(function(n){nR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nR(e,t,r){return(t=aR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aR(e){var t=sR(e,"string");return typeof t=="symbol"?t:t+""}function sR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iR(e,t){if(e==null)return{};var r,n,s=lR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oR(e){return e.value}function cR(e){var{contextPayload:t}=e,r=iR(e,rR),n=c4(t,e.payloadUniqBy,oR),s=Dl(Dl({},r),{},{payload:n});return f.isValidElement(e.content)?f.cloneElement(e.content,s):typeof e.content=="function"?f.createElement(e.content,s):f.createElement(f8,s)}function dR(e,t,r,n,s,i){var{layout:l,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?u={left:((n||0)-i.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((s||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Dl(Dl({},u),d)}function uR(e){var t=st();return f.useEffect(()=>{t(eR(e))},[t,e]),null}function mR(e){var t=st();return f.useEffect(()=>(t(h1(e)),()=>{t(h1({width:0,height:0}))}),[t,e]),null}function fR(e,t,r,n){return e==="vertical"&&Pe(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var pR={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Jc(e){var t=$t(e,pR),r=X8(),n=l$(),s=z7(),{width:i,height:l,wrapperStyle:o,portal:c}=t,[u,d]=j4([r]),m=tv(),p=rv();if(m==null||p==null)return null;var g=m-((s==null?void 0:s.left)||0)-((s==null?void 0:s.right)||0),x=fR(t.layout,l,i,g),v=c?o:Dl(Dl({position:"absolute",width:(x==null?void 0:x.width)||i||"auto",height:(x==null?void 0:x.height)||l||"auto"},dR(o,t,s,m,p,u)),o),h=c??n;if(h==null||r==null)return null;var y=f.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},f.createElement(uR,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&f.createElement(mR,{width:u.width,height:u.height}),f.createElement(cR,H0({},t,x,{margin:s,chartWidth:m,chartHeight:p,contextPayload:r})));return Hf.createPortal(y,h)}Jc.displayName="Legend";function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(null,arguments)}function x1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(r),!0).forEach(function(n){hR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hR(e,t,r){return(t=gR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gR(e){var t=xR(e,"string");return typeof t=="symbol"?t:t+""}function xR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yR(e){return Array.isArray(e)&&ua(e[0])&&ua(e[1])?e.join(" ~ "):e}var vR=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:m,accessibilityLayer:p=!1}=e,g=()=>{if(i&&i.length){var _={padding:0,margin:0},C=(o?ap(i,o):i).map((O,E)=>{if(O.type==="none")return null;var k=O.formatter||l||yR,{value:T,name:A}=O,D=T,S=A;if(k){var L=k(T,A,O,E,i);if(Array.isArray(L))[D,S]=L;else if(L!=null)D=L;else return null}var F=Jh({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},n);return f.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:F},ua(S)?f.createElement("span",{className:"recharts-tooltip-item-name"},S):null,ua(S)?f.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,f.createElement("span",{className:"recharts-tooltip-item-value"},D),f.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return f.createElement("ul",{className:"recharts-tooltip-item-list",style:_},C)}return null},x=Jh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=Jh({margin:0},s),h=!pt(d),y=h?d:"",b=Ge("recharts-default-tooltip",c),j=Ge("recharts-tooltip-label",u);h&&m&&i!==void 0&&i!==null&&(y=m(d,i));var P=p?{role:"status","aria-live":"assertive"}:{};return f.createElement("div",W0({className:b,style:x},P),f.createElement("p",{className:j,style:v},f.isValidElement(y)?y:"".concat(y)),g())},No="recharts-tooltip-wrapper",bR={visibility:"hidden"};function jR(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ge(No,{["".concat(No,"-right")]:Pe(r)&&t&&Pe(t.x)&&r>=t.x,["".concat(No,"-left")]:Pe(r)&&t&&Pe(t.x)&&r<t.x,["".concat(No,"-bottom")]:Pe(n)&&t&&Pe(t.y)&&n>=t.y,["".concat(No,"-top")]:Pe(n)&&t&&Pe(t.y)&&n<t.y})}function y1(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&Pe(i[n]))return i[n];var d=r[n]-o-(s>0?s:0),m=r[n]+s;if(t[n])return l[n]?d:m;var p=c[n];if(p==null)return 0;if(l[n]){var g=d,x=p;return g<x?Math.max(m,p):Math.max(d,p)}if(u==null)return 0;var v=m+o,h=p+u;return v>h?Math.max(d,p):Math.max(m,p)}function wR(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function NR(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,u,d,m;return l.height>0&&l.width>0&&r?(d=y1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=y1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),u=wR({translateX:d,translateY:m,useTranslate3d:o})):u=bR,{cssProperties:u,cssClasses:jR({translateX:d,translateY:m,coordinate:r})}}function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K0(e,t,r){return(t=SR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SR(e){var t=kR(e,"string");return typeof t=="symbol"?t:t+""}function kR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _R extends f.PureComponent{constructor(){super(...arguments),K0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),K0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:m,useTranslate3d:p,viewBox:g,wrapperStyle:x,lastBoundingBox:v,innerRef:h,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:j}=NR({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:d,reverseDirection:m,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:g}),P=y?{}:Eu(Eu({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),_=Eu(Eu({},P),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return f.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:_,ref:h},i)}}var jP=()=>{var e;return(e=Ce(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(null,arguments)}function b1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function j1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(r),!0).forEach(function(n){PR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PR(e,t,r){return(t=CR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CR(e){var t=OR(e,"string");return typeof t=="symbol"?t:t+""}function OR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w1={curveBasisClosed:_$,curveBasisOpen:P$,curveBasis:k$,curveBumpX:u$,curveBumpY:m$,curveLinearClosed:C$,curveLinear:Xf,curveMonotoneX:O$,curveMonotoneY:E$,curveNatural:A$,curveStep:T$,curveStepAfter:I$,curveStepBefore:D$},Jm=e=>bt(e.x)&&bt(e.y),N1=e=>e.base!=null&&Jm(e.base)&&Jm(e),So=e=>e.x,ko=e=>e.y,ER=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(qc(e));return(r==="curveMonotone"||r==="curveBump")&&t?w1["".concat(r).concat(t==="vertical"?"Y":"X")]:w1[r]||Xf},AR=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,l=ER(t,s),o=i?r.filter(Jm):r,c;if(Array.isArray(n)){var u=r.map((g,x)=>j1(j1({},g),{},{base:n[x]}));s==="vertical"?c=wu().y(ko).x1(So).x0(g=>g.base.x):c=wu().x(So).y1(ko).y0(g=>g.base.y);var d=c.defined(N1).curve(l),m=i?u.filter(N1):u;return d(m)}s==="vertical"&&Pe(n)?c=wu().y(ko).x1(So).x0(n):Pe(n)?c=wu().x(So).y1(ko).y0(n):c=O_().x(So).y(ko);var p=c.defined(Jm).curve(l);return p(o)},sv=e=>{var{className:t,points:r,path:n,pathRef:s}=e,i=ql();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},o=r&&r.length?AR(l):n;return f.createElement("path",q0({},en(e),Iy(e),{className:Ge("recharts-curve",t),d:o===null?void 0:o,ref:s}))},TR=["x","y","top","left","width","height","className"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(null,arguments)}function S1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(r),!0).forEach(function(n){IR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IR(e,t,r){return(t=MR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MR(e){var t=$R(e,"string");return typeof t=="symbol"?t:t+""}function $R(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LR(e,t){if(e==null)return{};var r,n,s=RR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FR=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),zR=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:l=0,className:o}=e,c=LR(e,TR),u=DR({x:t,y:r,top:n,left:s,width:i,height:l},c);return!Pe(t)||!Pe(r)||!Pe(i)||!Pe(l)||!Pe(n)||!Pe(s)?null:f.createElement("path",V0({},_r(u),{className:Ge("recharts-cross",o),d:FR(t,r,i,l,n,s)}))};function BR(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function k1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(r),!0).forEach(function(n){UR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UR(e,t,r){return(t=HR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HR(e){var t=WR(e,"string");return typeof t=="symbol"?t:t+""}function WR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KR=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),wP=(e,t,r)=>e.map(n=>"".concat(KR(n)," ").concat(t,"ms ").concat(r)).join(","),qR=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),Cc=(e,t)=>Object.keys(t).reduce((r,n)=>_1(_1({},r),{},{[n]:e(n,t[n])}),{});function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(n){VR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VR(e,t,r){return(t=GR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GR(e){var t=YR(e,"string");return typeof t=="symbol"?t:t+""}function YR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ef=(e,t,r)=>e+(t-e)*r,G0=e=>{var{from:t,to:r}=e;return t!==r},NP=(e,t,r)=>{var n=Cc((s,i)=>{if(G0(i)){var[l,o]=e(i.from,i.to,i.velocity);return Rt(Rt({},i),{},{from:l,velocity:o})}return i},t);return r<1?Cc((s,i)=>G0(i)&&n[s]!=null?Rt(Rt({},i),{},{velocity:ef(i.velocity,n[s].velocity,r),from:ef(i.from,n[s].from,r)}):i,t):NP(e,n,r-1)};function QR(e,t,r,n,s,i){var l,o=n.reduce((p,g)=>Rt(Rt({},p),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),c=()=>Cc((p,g)=>g.from,o),u=()=>!Object.values(o).filter(G0).length,d=null,m=p=>{l||(l=p);var g=p-l,x=g/r.dt;o=NP(r,o,x),s(Rt(Rt(Rt({},e),t),c())),l=p,u()||(d=i.setTimeout(m))};return()=>(d=i.setTimeout(m),()=>{var p;(p=d)===null||p===void 0||p()})}function XR(e,t,r,n,s,i,l){var o=null,c=s.reduce((m,p)=>{var g=e[p],x=t[p];return g==null||x==null?m:Rt(Rt({},m),{},{[p]:[g,x]})},{}),u,d=m=>{u||(u=m);var p=(m-u)/n,g=Cc((v,h)=>ef(...h,r(p)),c);if(i(Rt(Rt(Rt({},e),t),g)),p<1)o=l.setTimeout(d);else{var x=Cc((v,h)=>ef(...h,r(1)),c);i(Rt(Rt(Rt({},e),t),x))}};return()=>(o=l.setTimeout(d),()=>{var m;(m=o)===null||m===void 0||m()})}const ZR=(e,t,r,n,s,i)=>{var l=qR(e,t);return r==null?()=>(s(Rt(Rt({},e),t)),()=>{}):r.isStepper===!0?QR(e,t,r,l,s,i):XR(e,t,r,n,l,s,i)};var tf=1e-4,SP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],kP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),C1=(e,t)=>r=>{var n=SP(e,t);return kP(n,r)},JR=(e,t)=>r=>{var n=SP(e,t),s=[...n.map((i,l)=>i*l).slice(1),0];return kP(s,r)},eF=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var s=n.map(i=>parseFloat(i));return[s[0],s[1],s[2],s[3]]},tF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s=eF(r[0]);if(s)return s}}return r.length===4?r:[0,0,1,1]},rF=(e,t,r,n)=>{var s=C1(e,r),i=C1(t,n),l=JR(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,m=d,p=0;p<8;++p){var g=s(m)-d,x=l(m);if(Math.abs(g-d)<tf||x<tf)return i(m);m=o(m-g/x)}return i(m)};return c.isStepper=!1,c},O1=function(){return rF(...tF(...arguments))},nF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(l,o,c)=>{var u=-(l-o)*r,d=c*n,m=c+(u-d)*s/1e3,p=c*s/1e3+l;return Math.abs(p-o)<tf&&Math.abs(m)<tf?[o,0]:[p,m]};return i.isStepper=!0,i.dt=s,i},aF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return O1(e);case"spring":return nF();default:if(e.split("(")[0]==="cubic-bezier")return O1(e)}return typeof e=="function"?e:null};function sF(e){var t,r=()=>null,n=!1,s=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...u]=o;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,s&&(s(),s=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class iF{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function lF(){return sF(new iF)}var oF=f.createContext(lF);function cF(e,t){var r=f.useContext(oF);return f.useMemo(()=>t??r(e),[e,t,r])}var dF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Sp={isSsr:dF()},uF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},E1={t:0},eg={t:1};function ed(e){var t=$t(e,uF),{isActive:r,canBegin:n,duration:s,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=r==="auto"?!Sp.isSsr:r,m=cF(t.animationId,t.animationManager),[p,g]=f.useState(d?E1:eg),x=f.useRef(null);return f.useEffect(()=>{d||g(eg)},[d]),f.useEffect(()=>{if(!d||!n)return Vc;var v=ZR(E1,eg,aF(i),s,g,m.getTimeoutController()),h=()=>{x.current=v()};return m.start([c,l,h,s,o]),()=>{m.stop(),x.current&&x.current(),o()}},[d,n,s,i,l,c,o,m]),u(p.t)}function td(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=f.useRef(jc(t)),n=f.useRef(e);return n.current!==e&&(r.current=jc(t),n.current=e),r.current}var mF=["radius"],fF=["radius"],A1,T1,D1,I1,M1,$1,L1,R1,F1,z1;function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function U1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){pF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pF(e,t,r){return(t=hF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hF(e){var t=gF(e,"string");return typeof t=="symbol"?t:t+""}function gF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(null,arguments)}function H1(e,t){if(e==null)return{};var r,n,s=xF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var W1=(e,t,r,n,s)=>{var i=hs(r),l=hs(n),o=Math.min(Math.abs(i)/2,Math.abs(l)/2),c=l>=0?1:-1,u=i>=0?1:-1,d=l>=0&&i>=0||l<0&&i<0?1:0,m;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=s[g]>o?o:s[g];m=Nt(A1||(A1=Jn(["M",",",""])),e,t+c*p[0]),p[0]>0&&(m+=Nt(T1||(T1=Jn(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+u*p[0],t)),m+=Nt(D1||(D1=Jn(["L ",",",""])),e+r-u*p[1],t),p[1]>0&&(m+=Nt(I1||(I1=Jn(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+r,t+c*p[1])),m+=Nt(M1||(M1=Jn(["L ",",",""])),e+r,t+n-c*p[2]),p[2]>0&&(m+=Nt($1||($1=Jn(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+r-u*p[2],t+n)),m+=Nt(L1||(L1=Jn(["L ",",",""])),e+u*p[3],t+n),p[3]>0&&(m+=Nt(R1||(R1=Jn(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+n-c*p[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);m=Nt(F1||(F1=Jn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*v,v,v,d,e+u*v,t,e+r-u*v,t,v,v,d,e+r,t+c*v,e+r,t+n-c*v,v,v,d,e+r-u*v,t+n,e+u*v,t+n,v,v,d,e,t+n-c*v)}else m=Nt(z1||(z1=Jn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return m},K1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_P=e=>{var t=$t(e,K1),r=f.useRef(null),[n,s]=f.useState(-1);f.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&s(Q)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:u,className:d}=t,{animationEasing:m,animationDuration:p,animationBegin:g,isAnimationActive:x,isUpdateAnimationActive:v}=t,h=f.useRef(o),y=f.useRef(c),b=f.useRef(i),j=f.useRef(l),P=f.useMemo(()=>({x:i,y:l,width:o,height:c,radius:u}),[i,l,o,c,u]),_=td(P,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var C=Ge("recharts-rectangle",d);if(!v){var O=_r(t),{radius:E}=O,k=H1(O,mF);return f.createElement("path",rf({},k,{x:hs(i),y:hs(l),width:hs(o),height:hs(c),radius:typeof u=="number"?u:void 0,className:C,d:W1(i,l,o,c,u)}))}var T=h.current,A=y.current,D=b.current,S=j.current,L="0px ".concat(n===-1?1:n,"px"),F="".concat(n,"px 0px"),X=wP(["strokeDasharray"],p,typeof m=="string"?m:K1.animationEasing);return f.createElement(ed,{animationId:_,key:_,canBegin:n>0,duration:p,easing:m,isActive:v,begin:g},Q=>{var I=ut(T,o,Q),M=ut(A,c,Q),W=ut(D,i,Q),B=ut(S,l,Q);r.current&&(h.current=I,y.current=M,b.current=W,j.current=B);var ae;x?Q>0?ae={transition:X,strokeDasharray:F}:ae={strokeDasharray:L}:ae={strokeDasharray:F};var fe=_r(t),{radius:xe}=fe,te=H1(fe,fF);return f.createElement("path",rf({},te,{radius:typeof u=="number"?u:void 0,className:C,d:W1(W,B,I,M,u),ref:r,style:U1(U1({},ae),t.style)}))})};function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){yF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yF(e,t,r){return(t=vF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=bF(e,"string");return typeof t=="symbol"?t:t+""}function bF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nf=Math.PI/180,jF=e=>e*180/Math.PI,Tt=(e,t,r,n)=>({x:e+Math.cos(-nf*n)*r,y:t+Math.sin(-nf*n)*r}),PP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wF=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},NF=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,l=wF({x:r,y:n},{x:s,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-s)/l,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:l,angle:jF(c),angleInRadian:c}},SF=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},kF=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(s,i);return e+l*360},_F=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:i}=NF({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(s<l||s>o||s===0)return null;var{startAngle:c,endAngle:u}=SF(t),d=i,m;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=c}return m?V1(V1({},t),{},{radius:s,angle:kF(d,t)}):null};function CP(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,l=Tt(t,r,n,s),o=Tt(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}var G1,Y1,Q1,X1,Z1,J1,eN;function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(null,arguments)}function si(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var PF=(e,t)=>{var r=Xt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Au=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,u=o*(l?1:-1)+n,d=Math.asin(o/u)/nf,m=c?s:s+i*d,p=Tt(t,r,u,m),g=Tt(t,r,n,m),x=c?s-i*d:s,v=Tt(t,r,u*Math.cos(d*nf),x);return{center:p,circleTangency:g,lineTangency:v,theta:d}},OP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:l}=e,o=PF(i,l),c=i+o,u=Tt(t,r,s,i),d=Tt(t,r,s,c),m=Nt(G1||(G1=si(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,s,s,+(Math.abs(o)>180),+(i>c),d.x,d.y);if(n>0){var p=Tt(t,r,n,i),g=Tt(t,r,n,c);m+=Nt(Y1||(Y1=si(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,n,n,+(Math.abs(o)>180),+(i<=c),p.x,p.y)}else m+=Nt(Q1||(Q1=si(["L ",","," Z"])),t,r);return m},CF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=Xt(u-c),{circleTangency:m,lineTangency:p,theta:g}=Au({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:x,lineTangency:v,theta:h}=Au({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(c-u):Math.abs(c-u)-g-h;if(y<0)return l?Nt(X1||(X1=si(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):OP({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var b=Nt(Z1||(Z1=si(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),m.x,m.y,s,s,+(y>180),+(d<0),x.x,x.y,i,i,+(d<0),v.x,v.y);if(n>0){var{circleTangency:j,lineTangency:P,theta:_}=Au({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:C,lineTangency:O,theta:E}=Au({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),k=o?Math.abs(c-u):Math.abs(c-u)-_-E;if(k<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+=Nt(J1||(J1=si(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,i,i,+(d<0),C.x,C.y,n,n,+(k>180),+(d>0),j.x,j.y,i,i,+(d<0),P.x,P.y)}else b+=Nt(eN||(eN=si(["L",",","Z"])),t,r);return b},OF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EP=e=>{var t=$t(e,OF),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:m}=t;if(i<s||u===d)return null;var p=Ge("recharts-sector",m),g=i-s,x=xr(l,g,0,!0),v;return x>0&&Math.abs(u-d)<360?v=CF({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(x,g/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):v=OP({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),f.createElement("path",Y0({},_r(t),{className:p,d:v}))};function EF(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(K_(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:i,outerRadius:l,angle:o}=t,c=Tt(n,s,i,o),u=Tt(n,s,l,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return CP(t)}}var AP={},TP={},DP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(DP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DP;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(TP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qy,r=TP;function n(s,i,l){l&&typeof l!="number"&&t.isIterateeCall(s,i,l)&&(i=l=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),l=l===void 0?s<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-s)/(l||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=s,s+=l;return c}e.range=n})(AP);var AF=AP.range;const IP=Wa(AF);function _s(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iv(e){let t,r,n;e.length!==2?(t=_s,r=(o,c)=>_s(e(o),c),n=(o,c)=>e(o)-c):(t=e===_s||e===TF?e:DF,r=e,n=e);function s(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(o[m],c)<0?u=m+1:d=m}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(o[m],c)<=0?u=m+1:d=m}while(u<d)}return u}function l(o,c,u=0,d=o.length){const m=s(o,c,u,d-1);return m>u&&n(o[m-1],c)>-n(o[m],c)?m-1:m}return{left:s,center:l,right:i}}function DF(){return 0}function MP(e){return e===null?NaN:+e}function*IF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const MF=iv(_s),rd=MF.right;iv(MP).center;class tN extends Map{constructor(t,r=RF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(rN(this,t))}has(t){return super.has(rN(this,t))}set(t,r){return super.set($F(this,t),r)}delete(t){return super.delete(LF(this,t))}}function rN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $F({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function LF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function RF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FF(e=_s){if(e===_s)return $P;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $P(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zF=Math.sqrt(50),BF=Math.sqrt(10),UF=Math.sqrt(2);function af(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),l=i>=zF?10:i>=BF?5:i>=UF?2:1;let o,c,u;return s<0?(u=Math.pow(10,-s)/l,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*l,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?af(e,t,r*2):[o,c,u]}function Q0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,l]=n?af(t,e,r):af(e,t,r);if(!(i>=s))return[];const o=i-s+1,c=new Array(o);if(n)if(l<0)for(let u=0;u<o;++u)c[u]=(i-u)/-l;else for(let u=0;u<o;++u)c[u]=(i-u)*l;else if(l<0)for(let u=0;u<o;++u)c[u]=(s+u)/-l;else for(let u=0;u<o;++u)c[u]=(s+u)*l;return c}function X0(e,t,r){return t=+t,e=+e,r=+r,af(e,t,r)[2]}function Z0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?X0(t,e,r):X0(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function nN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function aN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LP(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?$P:FF(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),m=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*m*(c-m)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*m/c+p)),x=Math.min(n,Math.floor(t+(c-u)*m/c+p));LP(e,t,g,x,s)}const i=e[t];let l=r,o=n;for(_o(e,r,t),s(e[n],i)>0&&_o(e,r,n);l<o;){for(_o(e,l,o),++l,--o;s(e[l],i)<0;)++l;for(;s(e[o],i)>0;)--o}s(e[r],i)===0?_o(e,r,o):(++o,_o(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function _o(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function HF(e,t,r){if(e=Float64Array.from(IF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return aN(e);if(t>=1)return nN(e);var n,s=(n-1)*t,i=Math.floor(s),l=nN(LP(e,i).subarray(0,i+1)),o=aN(e.subarray(i+1));return l+(o-l)*(s-i)}}function WF(e,t,r=MP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(s-i)}}function KF(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const J0=Symbol("implicit");function lv(){var e=new tN,t=[],r=[],n=J0;function s(i){let l=e.get(i);if(l===void 0){if(n!==J0)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new tN;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return lv(t,r).unknown(n)},jn.apply(s,arguments),s}function ov(){var e=lv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,l,o=!1,c=0,u=0,d=.5;delete e.unknown;function m(){var p=t().length,g=s<n,x=g?s:n,v=g?n:s;i=(v-x)/Math.max(1,p-c+u*2),o&&(i=Math.floor(i)),x+=(v-x-i*(p-c))*d,l=i*(1-c),o&&(x=Math.round(x),l=Math.round(l));var h=KF(p).map(function(y){return x+i*y});return r(g?h.reverse():h)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,m()):o},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),m()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,m()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),m()):d},e.copy=function(){return ov(t(),[n,s]).round(o).paddingInner(c).paddingOuter(u).align(d)},jn.apply(m(),arguments)}function RP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RP(t())},e}function qF(){return RP(ov.apply(null,arguments).paddingInner(1))}function cv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function nd(){}var Oc=.7,sf=1/Oc,yl="\\s*([+-]?\\d+)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VF=/^#([0-9a-f]{3,8})$/,GF=new RegExp(`^rgb\\(${yl},${yl},${yl}\\)$`),YF=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),QF=new RegExp(`^rgba\\(${yl},${yl},${yl},${Ec}\\)$`),XF=new RegExp(`^rgba\\(${da},${da},${da},${Ec}\\)$`),ZF=new RegExp(`^hsl\\(${Ec},${da},${da}\\)$`),JF=new RegExp(`^hsla\\(${Ec},${da},${da},${Ec}\\)$`),sN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cv(nd,Ac,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iN,formatHex:iN,formatHex8:ez,formatHsl:tz,formatRgb:lN,toString:lN});function iN(){return this.rgb().formatHex()}function ez(){return this.rgb().formatHex8()}function tz(){return zP(this).formatHsl()}function lN(){return this.rgb().formatRgb()}function Ac(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=VF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oN(t):r===3?new Mr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GF.exec(e))?new Mr(t[1],t[2],t[3],1):(t=YF.exec(e))?new Mr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=QF.exec(e))?Tu(t[1],t[2],t[3],t[4]):(t=XF.exec(e))?Tu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZF.exec(e))?uN(t[1],t[2]/100,t[3]/100,1):(t=JF.exec(e))?uN(t[1],t[2]/100,t[3]/100,t[4]):sN.hasOwnProperty(e)?oN(sN[e]):e==="transparent"?new Mr(NaN,NaN,NaN,0):null}function oN(e){return new Mr(e>>16&255,e>>8&255,e&255,1)}function Tu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Mr(e,t,r,n)}function rz(e){return e instanceof nd||(e=Ac(e)),e?(e=e.rgb(),new Mr(e.r,e.g,e.b,e.opacity)):new Mr}function ex(e,t,r,n){return arguments.length===1?rz(e):new Mr(e,t,r,n??1)}function Mr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cv(Mr,ex,FP(nd,{brighter(e){return e=e==null?sf:Math.pow(sf,e),new Mr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Oc:Math.pow(Oc,e),new Mr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mr(pi(this.r),pi(this.g),pi(this.b),lf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cN,formatHex:cN,formatHex8:nz,formatRgb:dN,toString:dN}));function cN(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}`}function nz(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}${ii((isNaN(this.opacity)?1:this.opacity)*255)}`}function dN(){const e=lf(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function lf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ii(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function uN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $n(e,t,r,n)}function zP(e){if(e instanceof $n)return new $n(e.h,e.s,e.l,e.opacity);if(e instanceof nd||(e=Ac(e)),!e)return new $n;if(e instanceof $n)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-s,c=(i+s)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=c<.5?i+s:2-i-s,l*=60):o=c>0&&c<1?0:l,new $n(l,o,c,e.opacity)}function az(e,t,r,n){return arguments.length===1?zP(e):new $n(e,t,r,n??1)}function $n(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cv($n,az,FP(nd,{brighter(e){return e=e==null?sf:Math.pow(sf,e),new $n(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Oc:Math.pow(Oc,e),new $n(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Mr(tg(e>=240?e-240:e+120,s,n),tg(e,s,n),tg(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new $n(mN(this.h),Du(this.s),Du(this.l),lf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lf(this.opacity);return`${e===1?"hsl(":"hsla("}${mN(this.h)}, ${Du(this.s)*100}%, ${Du(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mN(e){return e=(e||0)%360,e<0?e+360:e}function Du(e){return Math.max(0,Math.min(1,e||0))}function tg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const dv=e=>()=>e;function sz(e,t){return function(r){return e+r*t}}function iz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function lz(e){return(e=+e)==1?BP:function(t,r){return r-t?iz(t,r,e):dv(isNaN(t)?r:t)}}function BP(e,t){var r=t-e;return r?sz(e,r):dv(isNaN(e)?t:e)}const fN=function e(t){var r=lz(t);function n(s,i){var l=r((s=ex(s)).r,(i=ex(i)).r),o=r(s.g,i.g),c=r(s.b,i.b),u=BP(s.opacity,i.opacity);return function(d){return s.r=l(d),s.g=o(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function oz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function cz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)s[l]=Vl(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=s[l](o);return i}}function uz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function of(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function mz(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Vl(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var tx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rg=new RegExp(tx.source,"g");function fz(e){return function(){return e}}function pz(e){return function(t){return e(t)+""}}function hz(e,t){var r=tx.lastIndex=rg.lastIndex=0,n,s,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(n=tx.exec(e))&&(s=rg.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(s=s[0])?o[l]?o[l]+=s:o[++l]=s:(o[++l]=null,c.push({i:l,x:of(n,s)})),r=rg.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?pz(c[0].x):fz(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)o[(m=c[d]).i]=m.x(u);return o.join("")})}function Vl(e,t){var r=typeof t,n;return t==null||r==="boolean"?dv(t):(r==="number"?of:r==="string"?(n=Ac(t))?(t=n,fN):hz:t instanceof Ac?fN:t instanceof Date?uz:cz(t)?oz:Array.isArray(t)?dz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mz:of)(e,t)}function uv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gz(e,t){t===void 0&&(t=e,e=Vl);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function xz(e){return function(){return e}}function cf(e){return+e}var pN=[0,1];function Sr(e){return e}function rx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xz(isNaN(t)?NaN:.5)}function yz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function vz(e,t,r){var n=e[0],s=e[1],i=t[0],l=t[1];return s<n?(n=rx(s,n),i=r(l,i)):(n=rx(n,s),i=r(i,l)),function(o){return i(n(o))}}function bz(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)s[l]=rx(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var c=rd(e,o,1,n)-1;return i[c](s[c](o))}}function ad(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kp(){var e=pN,t=pN,r=Vl,n,s,i,l=Sr,o,c,u;function d(){var p=Math.min(e.length,t.length);return l!==Sr&&(l=yz(e[0],e[p-1])),o=p>2?bz:vz,c=u=null,m}function m(p){return p==null||isNaN(p=+p)?i:(c||(c=o(e.map(n),t,r)))(n(l(p)))}return m.invert=function(p){return l(s((u||(u=o(t,e.map(n),of)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,cf),d()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),r=uv,d()},m.clamp=function(p){return arguments.length?(l=p?!0:Sr,d()):l!==Sr},m.interpolate=function(p){return arguments.length?(r=p,d()):r},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,g){return n=p,s=g,d()}}function mv(){return kp()(Sr,Sr)}function jz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function df(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Il(e){return e=df(Math.abs(e)),e?e[1]:NaN}function wz(e,t){return function(r,n){for(var s=r.length,i=[],l=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(s-=o,s+o)),!((c+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Nz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Sz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tc(e){if(!(t=Sz.exec(e)))throw new Error("invalid format: "+e);var t;return new fv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tc.prototype=fv.prototype;function fv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kz(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var UP;function _z(e,t){var r=df(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(UP=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+df(e,Math.max(0,t+i-1))[0]}function hN(e,t){var r=df(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const gN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hN(e*100,t),r:hN,s:_z,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xN(e){return e}var yN=Array.prototype.map,vN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pz(e){var t=e.grouping===void 0||e.thousands===void 0?xN:wz(yN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?xN:Nz(yN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=Tc(m);var p=m.fill,g=m.align,x=m.sign,v=m.symbol,h=m.zero,y=m.width,b=m.comma,j=m.precision,P=m.trim,_=m.type;_==="n"?(b=!0,_="g"):gN[_]||(j===void 0&&(j=12),P=!0,_="g"),(h||p==="0"&&g==="=")&&(h=!0,p="0",g="=");var C=v==="$"?r:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",O=v==="$"?n:/[%p]/.test(_)?l:"",E=gN[_],k=/[defgprs%]/.test(_);j=j===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function T(A){var D=C,S=O,L,F,X;if(_==="c")S=E(A)+S,A="";else{A=+A;var Q=A<0||1/A<0;if(A=isNaN(A)?c:E(Math.abs(A),j),P&&(A=kz(A)),Q&&+A==0&&x!=="+"&&(Q=!1),D=(Q?x==="("?x:o:x==="-"||x==="("?"":x)+D,S=(_==="s"?vN[8+UP/3]:"")+S+(Q&&x==="("?")":""),k){for(L=-1,F=A.length;++L<F;)if(X=A.charCodeAt(L),48>X||X>57){S=(X===46?s+A.slice(L+1):A.slice(L))+S,A=A.slice(0,L);break}}}b&&!h&&(A=t(A,1/0));var I=D.length+A.length+S.length,M=I<y?new Array(y-I+1).join(p):"";switch(b&&h&&(A=t(M+A,M.length?y-S.length:1/0),M=""),g){case"<":A=D+A+S+M;break;case"=":A=D+M+A+S;break;case"^":A=M.slice(0,I=M.length>>1)+D+A+S+M.slice(I);break;default:A=M+D+A+S;break}return i(A)}return T.toString=function(){return m+""},T}function d(m,p){var g=u((m=Tc(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(Il(p)/3)))*3,v=Math.pow(10,-x),h=vN[8+x/3];return function(y){return g(v*y)+h}}return{format:u,formatPrefix:d}}var Iu,pv,HP;Cz({thousands:",",grouping:[3],currency:["$",""]});function Cz(e){return Iu=Pz(e),pv=Iu.format,HP=Iu.formatPrefix,Iu}function Oz(e){return Math.max(0,-Il(Math.abs(e)))}function Ez(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Il(t)/3)))*3-Il(Math.abs(e)))}function Az(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Il(t)-Il(e))+1}function WP(e,t,r,n){var s=Z0(e,t,r),i;switch(n=Tc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Ez(s,l))&&(n.precision=i),HP(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Az(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Oz(s))&&(n.precision=i-(n.type==="%")*2);break}}return pv(n)}function Bs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Q0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return WP(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,l=n[s],o=n[i],c,u,d=10;for(o<l&&(u=l,l=o,o=u,u=s,s=i,i=u);d-- >0;){if(u=X0(l,o,r),u===c)return n[s]=l,n[i]=o,t(n);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function KP(){var e=mv();return e.copy=function(){return ad(e,KP())},jn.apply(e,arguments),Bs(e)}function qP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,cf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return qP(e).unknown(t)},e=arguments.length?Array.from(e,cf):[0,1],Bs(r)}function VP(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],l;return i<s&&(l=r,r=n,n=l,l=s,s=i,i=l),e[r]=t.floor(s),e[n]=t.ceil(i),e}function bN(e){return Math.log(e)}function jN(e){return Math.exp(e)}function Tz(e){return-Math.log(-e)}function Dz(e){return-Math.exp(-e)}function Iz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mz(e){return e===10?Iz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $z(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wN(e){return(t,r)=>-e(-t,r)}function hv(e){const t=e(bN,jN),r=t.domain;let n=10,s,i;function l(){return s=$z(n),i=Mz(n),r()[0]<0?(s=wN(s),i=wN(i),e(Tz,Dz)):e(bN,jN),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const m=d<u;m&&([u,d]=[d,u]);let p=s(u),g=s(d),x,v;const h=o==null?10:+o;let y=[];if(!(n%1)&&g-p<h){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(x=1;x<n;++x)if(v=p<0?x/i(-p):x*i(p),!(v<u)){if(v>d)break;y.push(v)}}else for(;p<=g;++p)for(x=n-1;x>=1;--x)if(v=p>0?x/i(-p):x*i(p),!(v<u)){if(v>d)break;y.push(v)}y.length*2<h&&(y=Q0(u,d,h))}else y=Q0(p,g,Math.min(g-p,h)).map(i);return m?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Tc(c)).precision==null&&(c.trim=!0),c=pv(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let m=d/i(Math.round(s(d)));return m*n<n-.5&&(m*=n),m<=u?c(d):""}},t.nice=()=>r(VP(r(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),t}function GP(){const e=hv(kp()).domain([1,10]);return e.copy=()=>ad(e,GP()).base(e.base()),jn.apply(e,arguments),e}function NN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gv(e){var t=1,r=e(NN(t),SN(t));return r.constant=function(n){return arguments.length?e(NN(t=+n),SN(t)):t},Bs(r)}function YP(){var e=gv(kp());return e.copy=function(){return ad(e,YP()).constant(e.constant())},jn.apply(e,arguments)}function kN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Rz(e){return e<0?-e*e:e*e}function xv(e){var t=e(Sr,Sr),r=1;function n(){return r===1?e(Sr,Sr):r===.5?e(Lz,Rz):e(kN(r),kN(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Bs(t)}function yv(){var e=xv(kp());return e.copy=function(){return ad(e,yv()).exponent(e.exponent())},jn.apply(e,arguments),e}function Fz(){return yv.apply(null,arguments).exponent(.5)}function _N(e){return Math.sign(e)*e*e}function zz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QP(){var e=mv(),t=[0,1],r=!1,n;function s(i){var l=zz(e(i));return isNaN(l)?n:r?Math.round(l):l}return s.invert=function(i){return e.invert(_N(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,cf)).map(_N)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return QP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},jn.apply(s,arguments),Bs(s)}function XP(){var e=[],t=[],r=[],n;function s(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=WF(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[rd(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(_s),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return XP().domain(e).range(t).unknown(n)},jn.apply(i,arguments)}function ZP(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function l(c){return c!=null&&c<=c?s[rd(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,o()):s.slice()},l.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return ZP().domain([e,t]).range(s).unknown(i)},jn.apply(Bs(l),arguments)}function JP(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[rd(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return JP().domain(e).range(t).unknown(r)},jn.apply(s,arguments)}const ng=new Date,ag=new Date;function Ut(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),o=s.ceil(i);return i-l<o-i?l:o},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,o)=>{const c=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<l);return c},s.filter=i=>Ut(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(ng.setTime(+i),ag.setTime(+l),e(ng),e(ag),Math.floor(r(ng,ag))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?l=>n(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const uf=Ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):uf);uf.range;const _a=1e3,hn=_a*60,Pa=hn*60,Fa=Pa*24,vv=Fa*7,PN=Fa*30,sg=Fa*365,li=Ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getUTCSeconds());li.range;const bv=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_a)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getMinutes());bv.range;const jv=Ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getUTCMinutes());jv.range;const wv=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_a-e.getMinutes()*hn)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getHours());wv.range;const Nv=Ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCHours());Nv.range;const sd=Ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hn)/Fa,e=>e.getDate()-1);sd.range;const _p=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fa,e=>e.getUTCDate()-1);_p.range;const eC=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fa,e=>Math.floor(e/Fa));eC.range;function Ii(e){return Ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hn)/vv)}const Pp=Ii(0),mf=Ii(1),Bz=Ii(2),Uz=Ii(3),Ml=Ii(4),Hz=Ii(5),Wz=Ii(6);Pp.range;mf.range;Bz.range;Uz.range;Ml.range;Hz.range;Wz.range;function Mi(e){return Ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/vv)}const Cp=Mi(0),ff=Mi(1),Kz=Mi(2),qz=Mi(3),$l=Mi(4),Vz=Mi(5),Gz=Mi(6);Cp.range;ff.range;Kz.range;qz.range;$l.range;Vz.range;Gz.range;const Sv=Ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Sv.range;const kv=Ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kv.range;const za=Ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});za.range;const Ba=Ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ba.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ba.range;function tC(e,t,r,n,s,i){const l=[[li,1,_a],[li,5,5*_a],[li,15,15*_a],[li,30,30*_a],[i,1,hn],[i,5,5*hn],[i,15,15*hn],[i,30,30*hn],[s,1,Pa],[s,3,3*Pa],[s,6,6*Pa],[s,12,12*Pa],[n,1,Fa],[n,2,2*Fa],[r,1,vv],[t,1,PN],[t,3,3*PN],[e,1,sg]];function o(u,d,m){const p=d<u;p&&([u,d]=[d,u]);const g=m&&typeof m.range=="function"?m:c(u,d,m),x=g?g.range(u,+d+1):[];return p?x.reverse():x}function c(u,d,m){const p=Math.abs(d-u)/m,g=iv(([,,h])=>h).right(l,p);if(g===l.length)return e.every(Z0(u/sg,d/sg,m));if(g===0)return uf.every(Math.max(Z0(u,d,m),1));const[x,v]=l[p/l[g-1][2]<l[g][2]/p?g-1:g];return x.every(v)}return[o,c]}const[Yz,Qz]=tC(Ba,kv,Cp,eC,Nv,jv),[Xz,Zz]=tC(za,Sv,Pp,sd,wv,bv);function ig(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Po(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Jz(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,u=Co(s),d=Oo(s),m=Co(i),p=Oo(i),g=Co(l),x=Oo(l),v=Co(o),h=Oo(o),y=Co(c),b=Oo(c),j={a:Q,A:I,b:M,B:W,c:null,d:DN,e:DN,f:wB,g:TB,G:IB,H:vB,I:bB,j:jB,L:rC,m:NB,M:SB,p:B,q:ae,Q:$N,s:LN,S:kB,u:_B,U:PB,V:CB,w:OB,W:EB,x:null,X:null,y:AB,Y:DB,Z:MB,"%":MN},P={a:fe,A:xe,b:te,B:me,c:null,d:IN,e:IN,f:FB,g:YB,G:XB,H:$B,I:LB,j:RB,L:aC,m:zB,M:BB,p:je,q:Se,Q:$N,s:LN,S:UB,u:HB,U:WB,V:KB,w:qB,W:VB,x:null,X:null,y:GB,Y:QB,Z:ZB,"%":MN},_={a:T,A,b:D,B:S,c:L,d:AN,e:AN,f:hB,g:EN,G:ON,H:TN,I:TN,j:uB,L:pB,m:dB,M:mB,p:k,q:cB,Q:xB,s:yB,S:fB,u:aB,U:sB,V:iB,w:nB,W:lB,x:F,X,y:EN,Y:ON,Z:oB,"%":gB};j.x=C(r,j),j.X=C(n,j),j.c=C(t,j),P.x=C(r,P),P.X=C(n,P),P.c=C(t,P);function C(ne,U){return function(J){var ie=[],De=-1,Te=0,Ie=ne.length,Ue,Re,Er;for(J instanceof Date||(J=new Date(+J));++De<Ie;)ne.charCodeAt(De)===37&&(ie.push(ne.slice(Te,De)),(Re=CN[Ue=ne.charAt(++De)])!=null?Ue=ne.charAt(++De):Re=Ue==="e"?" ":"0",(Er=U[Ue])&&(Ue=Er(J,Re)),ie.push(Ue),Te=De+1);return ie.push(ne.slice(Te,De)),ie.join("")}}function O(ne,U){return function(J){var ie=Po(1900,void 0,1),De=E(ie,ne,J+="",0),Te,Ie;if(De!=J.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(U&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Te=lg(Po(ie.y,0,1)),Ie=Te.getUTCDay(),Te=Ie>4||Ie===0?ff.ceil(Te):ff(Te),Te=_p.offset(Te,(ie.V-1)*7),ie.y=Te.getUTCFullYear(),ie.m=Te.getUTCMonth(),ie.d=Te.getUTCDate()+(ie.w+6)%7):(Te=ig(Po(ie.y,0,1)),Ie=Te.getDay(),Te=Ie>4||Ie===0?mf.ceil(Te):mf(Te),Te=sd.offset(Te,(ie.V-1)*7),ie.y=Te.getFullYear(),ie.m=Te.getMonth(),ie.d=Te.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Ie="Z"in ie?lg(Po(ie.y,0,1)).getUTCDay():ig(Po(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Ie+5)%7:ie.w+ie.U*7-(Ie+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,lg(ie)):ig(ie)}}function E(ne,U,J,ie){for(var De=0,Te=U.length,Ie=J.length,Ue,Re;De<Te;){if(ie>=Ie)return-1;if(Ue=U.charCodeAt(De++),Ue===37){if(Ue=U.charAt(De++),Re=_[Ue in CN?U.charAt(De++):Ue],!Re||(ie=Re(ne,J,ie))<0)return-1}else if(Ue!=J.charCodeAt(ie++))return-1}return ie}function k(ne,U,J){var ie=u.exec(U.slice(J));return ie?(ne.p=d.get(ie[0].toLowerCase()),J+ie[0].length):-1}function T(ne,U,J){var ie=g.exec(U.slice(J));return ie?(ne.w=x.get(ie[0].toLowerCase()),J+ie[0].length):-1}function A(ne,U,J){var ie=m.exec(U.slice(J));return ie?(ne.w=p.get(ie[0].toLowerCase()),J+ie[0].length):-1}function D(ne,U,J){var ie=y.exec(U.slice(J));return ie?(ne.m=b.get(ie[0].toLowerCase()),J+ie[0].length):-1}function S(ne,U,J){var ie=v.exec(U.slice(J));return ie?(ne.m=h.get(ie[0].toLowerCase()),J+ie[0].length):-1}function L(ne,U,J){return E(ne,t,U,J)}function F(ne,U,J){return E(ne,r,U,J)}function X(ne,U,J){return E(ne,n,U,J)}function Q(ne){return l[ne.getDay()]}function I(ne){return i[ne.getDay()]}function M(ne){return c[ne.getMonth()]}function W(ne){return o[ne.getMonth()]}function B(ne){return s[+(ne.getHours()>=12)]}function ae(ne){return 1+~~(ne.getMonth()/3)}function fe(ne){return l[ne.getUTCDay()]}function xe(ne){return i[ne.getUTCDay()]}function te(ne){return c[ne.getUTCMonth()]}function me(ne){return o[ne.getUTCMonth()]}function je(ne){return s[+(ne.getUTCHours()>=12)]}function Se(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var U=C(ne+="",j);return U.toString=function(){return ne},U},parse:function(ne){var U=O(ne+="",!1);return U.toString=function(){return ne},U},utcFormat:function(ne){var U=C(ne+="",P);return U.toString=function(){return ne},U},utcParse:function(ne){var U=O(ne+="",!0);return U.toString=function(){return ne},U}}}var CN={"-":"",_:" ",0:"0"},er=/^\s*\d+/,eB=/^%/,tB=/[\\^$*+?|[\]().{}]/g;function Ye(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function rB(e){return e.replace(tB,"\\$&")}function Co(e){return new RegExp("^(?:"+e.map(rB).join("|")+")","i")}function Oo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function nB(e,t,r){var n=er.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function aB(e,t,r){var n=er.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function sB(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function iB(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function lB(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ON(e,t,r){var n=er.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function EN(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oB(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function cB(e,t,r){var n=er.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function dB(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function AN(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function uB(e,t,r){var n=er.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function TN(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function mB(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fB(e,t,r){var n=er.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function pB(e,t,r){var n=er.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function hB(e,t,r){var n=er.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gB(e,t,r){var n=eB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xB(e,t,r){var n=er.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yB(e,t,r){var n=er.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function DN(e,t){return Ye(e.getDate(),t,2)}function vB(e,t){return Ye(e.getHours(),t,2)}function bB(e,t){return Ye(e.getHours()%12||12,t,2)}function jB(e,t){return Ye(1+sd.count(za(e),e),t,3)}function rC(e,t){return Ye(e.getMilliseconds(),t,3)}function wB(e,t){return rC(e,t)+"000"}function NB(e,t){return Ye(e.getMonth()+1,t,2)}function SB(e,t){return Ye(e.getMinutes(),t,2)}function kB(e,t){return Ye(e.getSeconds(),t,2)}function _B(e){var t=e.getDay();return t===0?7:t}function PB(e,t){return Ye(Pp.count(za(e)-1,e),t,2)}function nC(e){var t=e.getDay();return t>=4||t===0?Ml(e):Ml.ceil(e)}function CB(e,t){return e=nC(e),Ye(Ml.count(za(e),e)+(za(e).getDay()===4),t,2)}function OB(e){return e.getDay()}function EB(e,t){return Ye(mf.count(za(e)-1,e),t,2)}function AB(e,t){return Ye(e.getFullYear()%100,t,2)}function TB(e,t){return e=nC(e),Ye(e.getFullYear()%100,t,2)}function DB(e,t){return Ye(e.getFullYear()%1e4,t,4)}function IB(e,t){var r=e.getDay();return e=r>=4||r===0?Ml(e):Ml.ceil(e),Ye(e.getFullYear()%1e4,t,4)}function MB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ye(t/60|0,"0",2)+Ye(t%60,"0",2)}function IN(e,t){return Ye(e.getUTCDate(),t,2)}function $B(e,t){return Ye(e.getUTCHours(),t,2)}function LB(e,t){return Ye(e.getUTCHours()%12||12,t,2)}function RB(e,t){return Ye(1+_p.count(Ba(e),e),t,3)}function aC(e,t){return Ye(e.getUTCMilliseconds(),t,3)}function FB(e,t){return aC(e,t)+"000"}function zB(e,t){return Ye(e.getUTCMonth()+1,t,2)}function BB(e,t){return Ye(e.getUTCMinutes(),t,2)}function UB(e,t){return Ye(e.getUTCSeconds(),t,2)}function HB(e){var t=e.getUTCDay();return t===0?7:t}function WB(e,t){return Ye(Cp.count(Ba(e)-1,e),t,2)}function sC(e){var t=e.getUTCDay();return t>=4||t===0?$l(e):$l.ceil(e)}function KB(e,t){return e=sC(e),Ye($l.count(Ba(e),e)+(Ba(e).getUTCDay()===4),t,2)}function qB(e){return e.getUTCDay()}function VB(e,t){return Ye(ff.count(Ba(e)-1,e),t,2)}function GB(e,t){return Ye(e.getUTCFullYear()%100,t,2)}function YB(e,t){return e=sC(e),Ye(e.getUTCFullYear()%100,t,2)}function QB(e,t){return Ye(e.getUTCFullYear()%1e4,t,4)}function XB(e,t){var r=e.getUTCDay();return e=r>=4||r===0?$l(e):$l.ceil(e),Ye(e.getUTCFullYear()%1e4,t,4)}function ZB(){return"+0000"}function MN(){return"%"}function $N(e){return+e}function LN(e){return Math.floor(+e/1e3)}var Ki,iC,lC;JB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JB(e){return Ki=Jz(e),iC=Ki.format,Ki.parse,lC=Ki.utcFormat,Ki.utcParse,Ki}function e9(e){return new Date(e)}function t9(e){return e instanceof Date?+e:+new Date(+e)}function _v(e,t,r,n,s,i,l,o,c,u){var d=mv(),m=d.invert,p=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),h=u("%I %p"),y=u("%a %d"),b=u("%b %d"),j=u("%B"),P=u("%Y");function _(C){return(c(C)<C?g:o(C)<C?x:l(C)<C?v:i(C)<C?h:n(C)<C?s(C)<C?y:b:r(C)<C?j:P)(C)}return d.invert=function(C){return new Date(m(C))},d.domain=function(C){return arguments.length?p(Array.from(C,t9)):p().map(e9)},d.ticks=function(C){var O=p();return e(O[0],O[O.length-1],C??10)},d.tickFormat=function(C,O){return O==null?_:u(O)},d.nice=function(C){var O=p();return(!C||typeof C.range!="function")&&(C=t(O[0],O[O.length-1],C??10)),C?p(VP(O,C)):d},d.copy=function(){return ad(d,_v(e,t,r,n,s,i,l,o,c,u))},d}function r9(){return jn.apply(_v(Xz,Zz,za,Sv,Pp,sd,wv,bv,li,iC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function n9(){return jn.apply(_v(Yz,Qz,Ba,kv,Cp,_p,Nv,jv,li,lC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Op(){var e=0,t=1,r,n,s,i,l=Sr,o=!1,c;function u(m){return m==null||isNaN(m=+m)?c:l(s===0?.5:(m=(i(m)-r)*s,o?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(m){return arguments.length?(o=!!m,u):o},u.interpolator=function(m){return arguments.length?(l=m,u):l};function d(m){return function(p){var g,x;return arguments.length?([g,x]=p,l=m(g,x),u):[l(0),l(1)]}}return u.range=d(Vl),u.rangeRound=d(uv),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),u}}function Us(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oC(){var e=Bs(Op()(Sr));return e.copy=function(){return Us(e,oC())},Qa.apply(e,arguments)}function cC(){var e=hv(Op()).domain([1,10]);return e.copy=function(){return Us(e,cC()).base(e.base())},Qa.apply(e,arguments)}function dC(){var e=gv(Op());return e.copy=function(){return Us(e,dC()).constant(e.constant())},Qa.apply(e,arguments)}function Pv(){var e=xv(Op());return e.copy=function(){return Us(e,Pv()).exponent(e.exponent())},Qa.apply(e,arguments)}function a9(){return Pv.apply(null,arguments).exponent(.5)}function uC(){var e=[],t=Sr;function r(n){if(n!=null&&!isNaN(n=+n))return t((rd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(_s),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>HF(e,i/n))},r.copy=function(){return uC(t).domain(e)},Qa.apply(r,arguments)}function Ep(){var e=0,t=.5,r=1,n=1,s,i,l,o,c,u=Sr,d,m=!1,p;function g(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-i)*(n*v<n*i?o:c),u(m?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,r]=v,s=d(e=+e),i=d(t=+t),l=d(r=+r),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),n=i<s?-1:1,g):[e,t,r]},g.clamp=function(v){return arguments.length?(m=!!v,g):m},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(h){var y,b,j;return arguments.length?([y,b,j]=h,u=gz(v,[y,b,j]),g):[u(0),u(.5),u(1)]}}return g.range=x(Vl),g.rangeRound=x(uv),g.unknown=function(v){return arguments.length?(p=v,g):p},function(v){return d=v,s=v(e),i=v(t),l=v(r),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),n=i<s?-1:1,g}}function mC(){var e=Bs(Ep()(Sr));return e.copy=function(){return Us(e,mC())},Qa.apply(e,arguments)}function fC(){var e=hv(Ep()).domain([.1,1,10]);return e.copy=function(){return Us(e,fC()).base(e.base())},Qa.apply(e,arguments)}function pC(){var e=gv(Ep());return e.copy=function(){return Us(e,pC()).constant(e.constant())},Qa.apply(e,arguments)}function Cv(){var e=xv(Ep());return e.copy=function(){return Us(e,Cv()).exponent(e.exponent())},Qa.apply(e,arguments)}function s9(){return Cv.apply(null,arguments).exponent(.5)}const zo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ov,scaleDiverging:mC,scaleDivergingLog:fC,scaleDivergingPow:Cv,scaleDivergingSqrt:s9,scaleDivergingSymlog:pC,scaleIdentity:qP,scaleImplicit:J0,scaleLinear:KP,scaleLog:GP,scaleOrdinal:lv,scalePoint:qF,scalePow:yv,scaleQuantile:XP,scaleQuantize:ZP,scaleRadial:QP,scaleSequential:oC,scaleSequentialLog:cC,scaleSequentialPow:Pv,scaleSequentialQuantile:uC,scaleSequentialSqrt:a9,scaleSequentialSymlog:dC,scaleSqrt:Fz,scaleSymlog:YP,scaleThreshold:JP,scaleTime:r9,scaleUtc:n9,tickFormat:WP},Symbol.toStringTag,{value:"Module"}));var Xa=e=>e.chartData,Ap=Y([Xa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ov=(e,t,r,n)=>n?Ap(e):Xa(e),i9=(e,t,r)=>r?Ap(e):Xa(e);function Es(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(bt(t)&&bt(r))return!0}return!1}function RN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function hC(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(bt(r))s=r;else if(typeof r=="function")return;if(bt(n))i=n;else if(typeof n=="function")return;var l=[s,i];if(Es(l))return l}}function l9(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Es(n))return RN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,l,o;if(s==="auto")t!=null&&(l=Math.min(...t));else if(Pe(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&n1.test(s)){var c=n1.exec(s);if(c==null||c[1]==null||t==null)l=void 0;else{var u=+c[1];l=t[0]-u}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Pe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&a1.test(i)){var d=a1.exec(i);if(d==null||d[1]==null||t==null)o=void 0;else{var m=+d[1];o=t[1]+m}}else o=t==null?void 0:t[1];var p=[l,o];if(Es(p))return t==null?p:RN(p,t,r)}}}var Gl=1e9,o9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Av,ft=!0,bn="[DecimalError] ",hi=bn+"Invalid argument: ",Ev=bn+"Exponent out of range: ",Yl=Math.floor,ei=Math.pow,c9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gr,Gt=1e7,ot=7,gC=9007199254740991,pf=Yl(gC/ot),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return Ea(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return et(Ea(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return Mt(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Gr))throw Error(bn+"NaN");if(r.s<1)throw Error(bn+(r.s?"NaN":"-Infinity"));return r.eq(Gr)?new n(0):(ft=!1,t=Ea(Dc(r,i),Dc(e,i),i),ft=!0,et(t,s))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vC(t,e):xC(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(bn+"NaN");return r.s?(ft=!1,t=Ea(r,e,0,1).times(e),ft=!0,r.minus(t)):et(new n(r),s)};_e.naturalExponential=_e.exp=function(){return yC(this)};_e.naturalLogarithm=_e.ln=function(){return Dc(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xC(t,e):vC(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hi+e);if(t=Mt(s)+1,n=s.d.length-1,r=n*ot+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,s,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(bn+"NaN")}for(e=Mt(o),ft=!1,s=Math.sqrt(+o),s==0||s==1/0?(t=ia(o.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Yl((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=l=r+3;;)if(i=n,n=i.plus(Ea(o,i,l+2)).times(.5),ia(i.d).slice(0,l)===(t=ia(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(et(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return ft=!0,et(n,r)};_e.times=_e.mul=function(e){var t,r,n,s,i,l,o,c,u,d=this,m=d.constructor,p=d.d,g=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=g.length,c<u&&(i=p,p=g,g=i,l=c,c=u,u=l),i=[],l=c+u,n=l;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)o=i[s]+g[n]*p[s-n-1]+t,i[s--]=o%Gt|0,t=o/Gt|0;i[s]=(i[s]+t)%Gt|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ft?et(e,m.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fa(e,0,Gl),t===void 0?t=n.rounding:fa(t,0,8),et(r,e+Mt(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Oi(n,!0):(fa(e,0,Gl),t===void 0?t=s.rounding:fa(t,0,8),n=et(new s(n),e+1,t),r=Oi(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Oi(s):(fa(e,0,Gl),t===void 0?t=i.rounding:fa(t,0,8),n=et(new i(s),e+Mt(s)+1,t),r=Oi(n.abs(),!1,e+Mt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return et(new t(e),Mt(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,s,i,l,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Gr);if(o=new c(o),!o.s){if(e.s<1)throw Error(bn+"Infinity");return o}if(o.eq(Gr))return o;if(n=c.precision,e.eq(Gr))return et(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=d<0?-d:d)<=gC){for(s=new c(Gr),t=Math.ceil(n/ot+4),ft=!1;r%2&&(s=s.times(o),zN(s.d,t)),r=Yl(r/2),r!==0;)o=o.times(o),zN(o.d,t);return ft=!0,e.s<0?new c(Gr).div(s):et(s,n)}}else if(i<0)throw Error(bn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,ft=!1,s=e.times(Dc(o,n+u)),ft=!0,s=yC(s),s.s=i,s};_e.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Mt(s),n=Oi(s,r<=i.toExpNeg||r>=i.toExpPos)):(fa(e,1,Gl),t===void 0?t=i.rounding:fa(t,0,8),s=et(new i(s),e,t),r=Mt(s),n=Oi(s,e<=r||r<=i.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fa(e,1,Gl),t===void 0?t=n.rounding:fa(t,0,8)),et(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mt(e),r=e.constructor;return Oi(e,t<=r.toExpNeg||t>=r.toExpPos)};function xC(e,t){var r,n,s,i,l,o,c,u,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ft?et(t,m):t;if(c=e.d,u=t.d,l=e.e,s=t.e,c=c.slice(),i=l-s,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,s=l,o=c.length),l=Math.ceil(m/ot),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Gt|0,c[i]%=Gt;for(r&&(c.unshift(r),++s),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=s,ft?et(t,m):t}function fa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(hi+e)}function ia(e){var t,r,n,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)n=e[t]+"",r=ot-n.length,r&&(i+=ls(r)),i+=n;l=e[t],n=l+"",r=ot-n.length,r&&(i+=ls(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Ea=function(){function e(n,s){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*s+l,n[o]=i%Gt|0,l=i/Gt|0;return l&&n.unshift(l),n}function t(n,s,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=s[o]){c=n[o]>s[o]?1:-1;break}return c}function r(n,s,i){for(var l=0;i--;)n[i]-=l,l=n[i]<s[i]?1:0,n[i]=l*Gt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,l){var o,c,u,d,m,p,g,x,v,h,y,b,j,P,_,C,O,E,k=n.constructor,T=n.s==s.s?1:-1,A=n.d,D=s.d;if(!n.s)return new k(n);if(!s.s)throw Error(bn+"Division by zero");for(c=n.e-s.e,O=D.length,_=A.length,g=new k(T),x=g.d=[],u=0;D[u]==(A[u]||0);)++u;if(D[u]>(A[u]||0)&&--c,i==null?b=i=k.precision:l?b=i+(Mt(n)-Mt(s))+1:b=i,b<0)return new k(0);if(b=b/ot+2|0,u=0,O==1)for(d=0,D=D[0],b++;(u<_||d)&&b--;u++)j=d*Gt+(A[u]||0),x[u]=j/D|0,d=j%D|0;else{for(d=Gt/(D[0]+1)|0,d>1&&(D=e(D,d),A=e(A,d),O=D.length,_=A.length),P=O,v=A.slice(0,O),h=v.length;h<O;)v[h++]=0;E=D.slice(),E.unshift(0),C=D[0],D[1]>=Gt/2&&++C;do d=0,o=t(D,v,O,h),o<0?(y=v[0],O!=h&&(y=y*Gt+(v[1]||0)),d=y/C|0,d>1?(d>=Gt&&(d=Gt-1),m=e(D,d),p=m.length,h=v.length,o=t(m,v,p,h),o==1&&(d--,r(m,O<p?E:D,p))):(d==0&&(o=d=1),m=D.slice()),p=m.length,p<h&&m.unshift(0),r(v,m,h),o==-1&&(h=v.length,o=t(D,v,O,h),o<1&&(d++,r(v,O<h?E:D,h))),h=v.length):o===0&&(d++,v=[0]),x[u++]=d,o&&v[0]?v[h++]=A[P]||0:(v=[A[P]],h=1);while((P++<_||v[0]!==void 0)&&b--)}return x[0]||x.shift(),g.e=c,et(g,l?i+Mt(g)+1:i)}}();function yC(e,t){var r,n,s,i,l,o,c=0,u=0,d=e.constructor,m=d.precision;if(Mt(e)>16)throw Error(Ev+Mt(e));if(!e.s)return new d(Gr);for(ft=!1,o=m,l=new d(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(n=Math.log(ei(2,u))/Math.LN10*2+5|0,o+=n,r=s=i=new d(Gr),d.precision=o;;){if(s=et(s.times(e),o),r=r.times(++c),l=i.plus(Ea(s,r,o)),ia(l.d).slice(0,o)===ia(i.d).slice(0,o)){for(;u--;)i=et(i.times(i),o);return d.precision=m,t==null?(ft=!0,et(i,m)):i}i=l}}function Mt(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function og(e,t,r){if(t>e.LN10.sd())throw ft=!0,r&&(e.precision=r),Error(bn+"LN10 precision limit exceeded");return et(new e(e.LN10),t)}function ls(e){for(var t="";e--;)t+="0";return t}function Dc(e,t){var r,n,s,i,l,o,c,u,d,m=1,p=10,g=e,x=g.d,v=g.constructor,h=v.precision;if(g.s<1)throw Error(bn+(g.s?"NaN":"-Infinity"));if(g.eq(Gr))return new v(0);if(t==null?(ft=!1,u=h):u=t,g.eq(10))return t==null&&(ft=!0),og(v,u);if(u+=p,v.precision=u,r=ia(x),n=r.charAt(0),i=Mt(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=ia(g.d),n=r.charAt(0),m++;i=Mt(g),n>1?(g=new v("0."+r),i++):g=new v(n+"."+r.slice(1))}else return c=og(v,u+2,h).times(i+""),g=Dc(new v(n+"."+r.slice(1)),u-p).plus(c),v.precision=h,t==null?(ft=!0,et(g,h)):g;for(o=l=g=Ea(g.minus(Gr),g.plus(Gr),u),d=et(g.times(g),u),s=3;;){if(l=et(l.times(d),u),c=o.plus(Ea(l,new v(s),u)),ia(c.d).slice(0,u)===ia(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(og(v,u+2,h).times(i+""))),o=Ea(o,new v(m),u),v.precision=h,t==null?(ft=!0,et(o,h)):o;o=c,s+=2}}function FN(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Yl(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=ot;n<s;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ft&&(e.e>pf||e.e<-pf))throw Error(Ev+r)}else e.s=0,e.e=0,e.d=[0];return e}function et(e,t,r){var n,s,i,l,o,c,u,d,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=ot,s=t,u=m[d=0];else{if(d=Math.ceil((n+1)/ot),i=m.length,d>=i)return e;for(u=i=m[d],l=1;i>=10;i/=10)l++;n%=ot,s=n-ot+l}if(r!==void 0&&(i=ei(10,l-s-1),o=u/i%10|0,c=t<0||m[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?s>0?u/ei(10,l-s):0:m[d-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=Mt(e),m.length=1,t=t-i-1,m[0]=ei(10,(ot-t%ot)%ot),e.e=Yl(-t/ot)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=d,i=1,d--):(m.length=d+1,i=ei(10,ot-n),m[d]=s>0?(u/ei(10,l-s)%ei(10,s)|0)*i:0),c)for(;;)if(d==0){(m[0]+=i)==Gt&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=Gt)break;m[d--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(ft&&(e.e>pf||e.e<-pf))throw Error(Ev+Mt(e));return e}function vC(e,t){var r,n,s,i,l,o,c,u,d,m,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),ft?et(t,g):t;if(c=e.d,m=t.d,n=t.e,u=e.e,c=c.slice(),l=u-n,l){for(d=l<0,d?(r=c,l=-l,o=m.length):(r=m,n=u,o=c.length),s=Math.max(Math.ceil(g/ot),o)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=c.length,o=m.length,d=s<o,d&&(o=s),s=0;s<o;s++)if(c[s]!=m[s]){d=c[s]<m[s];break}l=0}for(d&&(r=c,c=m,m=r,t.s=-t.s),o=c.length,s=m.length-o;s>0;--s)c[o++]=0;for(s=m.length;s>l;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=Gt-1;--c[i],c[s]+=Gt}c[s]-=m[s]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ft?et(t,g):t):new p(0)}function Oi(e,t,r){var n,s=Mt(e),i=ia(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+ls(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ls(-s-1)+i,r&&(n=r-l)>0&&(i+=ls(n))):s>=l?(i+=ls(s+1-l),r&&(n=r-s-1)>0&&(i=i+"."+ls(n))):((n=s+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(s+1===l&&(i+="."),i+=ls(n))),e.s<0?"-"+i:i}function zN(e,t){if(e.length>t)return e.length=t,!0}function bC(e){var t,r,n;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(hi+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return FN(l,i.toString())}else if(typeof i!="string")throw Error(hi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,c9.test(i))FN(l,i);else throw Error(hi+i)}if(s.prototype=_e,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=bC,s.config=s.set=d9,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function d9(e){if(!e||typeof e!="object")throw Error(bn+"Object expected");var t,r,n,s=["precision",1,Gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Yl(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(hi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(hi+r+": "+n);return this}var Av=bC(o9);Gr=new Av(1);const Xe=Av;var u9=e=>e,jC={},wC=e=>e===jC,BN=e=>function t(){return arguments.length===0||arguments.length===1&&wC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},NC=(e,t)=>e===1?t:BN(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(l=>l!==jC).length;return i>=e?t(...n):NC(e-i,BN(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var u=n.map(d=>wC(d)?o.shift():d);return t(...u,...o)}))}),m9=e=>NC(e.length,e),nx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},f9=m9((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),p9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return u9;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}};function SC(e){var t;return e===0?t=1:t=Math.floor(new Xe(e).abs().log(10).toNumber())+1,t}function kC(e,t,r){for(var n=new Xe(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var _C=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},PC=(e,t,r)=>{if(e.lte(0))return new Xe(0);var n=SC(e.toNumber()),s=new Xe(10).pow(n),i=e.div(s),l=n!==1?.05:.1,o=new Xe(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(s);return t?new Xe(c.toNumber()):new Xe(Math.ceil(c.toNumber()))},h9=(e,t,r)=>{var n=new Xe(1),s=new Xe(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Xe(10).pow(SC(e)-1),s=new Xe(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Xe(Math.floor(e)))}else e===0?s=new Xe(Math.floor((t-1)/2)):r||(s=new Xe(Math.floor(e)));var l=Math.floor((t-1)/2),o=p9(f9(c=>s.add(new Xe(c-l).mul(n)).toNumber()),nx);return o(0,t)},CC=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var l=PC(new Xe(r).sub(t).div(n-1),s,i),o;t<=0&&r>=0?o=new Xe(0):(o=new Xe(t).add(r).div(2),o=o.sub(new Xe(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),u=Math.ceil(new Xe(r).sub(o).div(l).toNumber()),d=c+u+1;return d>n?CC(t,r,n,s,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:l,tickMin:o.sub(new Xe(c).mul(l)),tickMax:o.add(new Xe(u).mul(l))})},g9=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),[o,c]=_C([r,n]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...nx(0,s-1).map(()=>1/0)]:[...nx(0,s-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(o===c)return h9(o,s,i);var{step:d,tickMin:m,tickMax:p}=CC(o,c,l,i,0),g=kC(m,p.add(new Xe(.1).mul(d)),d);return r>n?g.reverse():g},x9=function(t,r){var[n,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,o]=_C([n,s]);if(l===-1/0||o===1/0)return[n,s];if(l===o)return[l];var c=Math.max(r,2),u=PC(new Xe(o).sub(l).div(c-1),i,0),d=[...kC(new Xe(l),new Xe(o),u),o];return i===!1&&(d=d.map(m=>Math.round(m))),n>s?d.reverse():d},OC=e=>e.rootProps.maxBarSize,y9=e=>e.rootProps.barGap,EC=e=>e.rootProps.barCategoryGap,v9=e=>e.rootProps.barSize,id=e=>e.rootProps.stackOffset,AC=e=>e.rootProps.reverseStackOrder,Tv=e=>e.options.chartName,Dv=e=>e.rootProps.syncId,TC=e=>e.rootProps.syncMethod,Iv=e=>e.options.eventEmitter,Dt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},wa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Vr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Tp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},b9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:wa.angleAxisId,includeHidden:!1,name:void 0,reversed:wa.reversed,scale:wa.scale,tick:wa.tick,tickCount:void 0,ticks:void 0,type:wa.type,unit:void 0},j9={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:Vr.type,unit:void 0},w9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wa.scale,tick:wa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},N9={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:"category",unit:void 0},Mv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?w9:b9,$v=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?N9:j9,Dp=e=>e.polarOptions,Lv=Y([Ga,Ya,Bt],PP),DC=Y([Dp,Lv],(e,t)=>{if(e!=null)return xr(e.innerRadius,t,0)}),IC=Y([Dp,Lv],(e,t)=>{if(e!=null)return xr(e.outerRadius,t,t*.8)}),S9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},MC=Y([Dp],S9);Y([Mv,MC],Tp);var $C=Y([Lv,DC,IC],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Y([$v,$C],Tp);var LC=Y([He,Dp,DC,IC,Ga,Ya],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:c,endAngle:u}=t;return{cx:xr(l,s,s/2),cy:xr(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),ht=(e,t)=>t,ld=(e,t,r)=>r;function Rv(e){return e==null?void 0:e.id}function RC(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,l=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Rv(o);u.forEach((m,p)=>{var g=i==null||s?p:String(Je(m,i,null)),x=Je(m,o.dataKey,0),v;l.has(g)?v=l.get(g):v={},Object.assign(v,{[d]:x}),l.set(g,v)})}}),Array.from(l.values())}function Ip(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Mp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function $p(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function k9(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ht=e=>{var t=He(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ql=e=>e.tooltip.settings.axisId;function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){_9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _9(e,t,r){return(t=P9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=C9(e,"string");return typeof t=="symbol"?t:t+""}function C9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ax=[0,"auto"],qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},FC=(e,t)=>e.cartesianAxis.xAxis[t],Za=(e,t)=>{var r=FC(e,t);return r??qt},Vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ax,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xc},zC=(e,t)=>e.cartesianAxis.yAxis[t],Ja=(e,t)=>{var r=zC(e,t);return r??Vt},O9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Fv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??O9},jt=(e,t,r)=>{switch(t){case"xAxis":return Za(e,r);case"yAxis":return Ja(e,r);case"zAxis":return Fv(e,r);case"angleAxis":return Mv(e,r);case"radiusAxis":return $v(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},E9=(e,t,r)=>{switch(t){case"xAxis":return Za(e,r);case"yAxis":return Ja(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},od=(e,t,r)=>{switch(t){case"xAxis":return Za(e,r);case"yAxis":return Ja(e,r);case"angleAxis":return Mv(e,r);case"radiusAxis":return $v(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},BC=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function zv(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Lp=e=>e.graphicalItems.cartesianItems,A9=Y([ht,ld],zv),Bv=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),cd=Y([Lp,jt,A9],Bv,{memoizeOptions:{resultEqualityCheck:$p}}),UC=Y([cd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ip)),HC=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),T9=Y([cd],HC),Uv=e=>e.map(t=>t.data).filter(Boolean).flat(1),D9=Y([cd],Uv,{memoizeOptions:{resultEqualityCheck:$p}}),Hv=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Wv=Y([D9,Ov],Hv),Kv=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Je(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Je(s,n)}))):e.map(n=>({value:n})),Rp=Y([Wv,jt,cd],Kv);function WC(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function nm(e){if(ua(e)||e instanceof Date){var t=Number(e);if(bt(t))return t}}function HN(e){if(Array.isArray(e)){var t=[nm(e[0]),nm(e[1])];return Es(t)?t:void 0}var r=nm(e);if(r!=null)return[r,r]}function Ua(e){return e.map(nm).filter(W$)}function I9(e,t,r){return!r||typeof t!="number"||Un(t)?[]:r.length?Ua(r.flatMap(n=>{var s=Je(e,n.dataKey),i,l;if(Array.isArray(s)?[i,l]=s:i=l=s,!(!bt(i)||!bt(l)))return[t-i,t+l]})):[]}var Wt=e=>{var t=Ht(e),r=Ql(e);return od(e,t,r)},dd=Y([Wt],e=>e==null?void 0:e.dataKey),M9=Y([UC,Ov,Wt],RC),KC=(e,t,r,n)=>{var s={},i=t.reduce((l,o)=>{if(o.stackId==null)return l;var c=l[o.stackId];return c==null&&(c=[]),c.push(o),l[o.stackId]=c,l},s);return Object.fromEntries(Object.entries(i).map(l=>{var[o,c]=l,u=n?[...c].reverse():c,d=u.map(Rv);return[o,{stackedData:l7(e,d,r),graphicalItems:u}]}))},sx=Y([M9,UC,id,AC],KC),qC=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=m7(e,s,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},$9=Y([jt],e=>e.allowDataOverflow),qv=e=>{var t;if(e==null||!("domain"in e))return ax;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ua(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ax},Vv=Y([jt],qv),Gv=Y([Vv,$9],hC),L9=Y([sx,Xa,ht,Gv],qC,{memoizeOptions:{resultEqualityCheck:Mp}}),Fp=e=>e.errorBars,R9=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>WC(r,n)),gf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},Yv=(e,t,r,n,s)=>{var i,l;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,m=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>WC(s,y)),p=Je(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),g=I9(o,p,m);if(g.length>=2){var x=Math.min(...g),v=Math.max(...g);(i==null||x<i)&&(i=x),(l==null||v>l)&&(l=v)}var h=HN(p);h!=null&&(i=i==null?h[0]:Math.min(i,h[0]),l=l==null?h[1]:Math.max(l,h[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=HN(Je(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),bt(i)&&bt(l))return[i,l]},F9=Y([Wv,jt,T9,Fp,ht],Yv,{memoizeOptions:{resultEqualityCheck:Mp}});function z9(e){var{value:t}=e;if(ua(t)||t instanceof Date)return t}var B9=(e,t,r)=>{var n=e.map(z9).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&U_(n))?IP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},VC=e=>e.referenceElements.dots,Xl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),U9=Y([VC,ht,ld],Xl),GC=e=>e.referenceElements.areas,H9=Y([GC,ht,ld],Xl),YC=e=>e.referenceElements.lines,W9=Y([YC,ht,ld],Xl),QC=(e,t)=>{if(e!=null){var r=Ua(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},K9=Y(U9,ht,QC),XC=(e,t)=>{if(e!=null){var r=Ua(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},q9=Y([H9,ht],XC);function V9(e){var t;if(e.x!=null)return Ua([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ua(r)}function G9(e){var t;if(e.y!=null)return Ua([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ua(r)}var ZC=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?V9(n):G9(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Y9=Y([W9,ht],ZC),Q9=Y(K9,Y9,q9,(e,t,r)=>gf(e,r,t)),Qv=(e,t,r,n,s,i,l,o)=>{if(r!=null)return r;var c=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",u=c?gf(n,i,s):gf(i,s);return l9(t,u,e.allowDataOverflow)},X9=Y([jt,Vv,Gv,L9,F9,Q9,He,ht],Qv,{memoizeOptions:{resultEqualityCheck:Mp}}),Z9=[0,1],Xv=(e,t,r,n,s,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,u=zs(t,i);if(u&&o==null){var d;return IP(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?B9(n,e,u):s==="expand"?Z9:l}},Zv=Y([jt,He,Wv,Rp,id,ht,X9],Xv),JC=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(qc(i));return o in zo?o:"point"}}},Zl=Y([jt,He,BC,Tv,ht],JC);function J9(e){if(e!=null){if(e in zo)return zo[e]();var t="scale".concat(qc(e));if(t in zo)return zo[t]()}}function Jv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=J9(t);if(s!=null){var i=s.domain(r).range(n);return r7(i),i}}}var eb=(e,t,r)=>{var n=qv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Es(e))return g9(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Es(e))return x9(e,t.tickCount,t.allowDecimals)}},tb=Y([Zv,od,Zl],eb),rb=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Es(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(s,i),Math.max(l,o)]}return t},eU=Y([jt,Zv,tb,ht],rb),tU=Y(Rp,jt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ua(e.map(m=>m.value))).sort((m,p)=>m-p),s=n[0],i=n[n.length-1];if(s==null||i==null)return 1/0;var l=i-s;if(l===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o],u=n[o+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/l}}),e3=Y(tU,He,EC,Bt,(e,t,r,n,s)=>s,(e,t,r,n,s)=>{if(!bt(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var l=xr(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),rU=(e,t,r)=>{var n=Za(e,t);return n==null||typeof n.padding!="string"?0:e3(e,"xAxis",t,r,n.padding)},nU=(e,t,r)=>{var n=Ja(e,t);return n==null||typeof n.padding!="string"?0:e3(e,"yAxis",t,r,n.padding)},aU=Y(Za,rU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),sU=Y(Ja,nU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),iU=Y([Bt,aU,xp,gp,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),lU=Y([Bt,He,sU,xp,gp,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:l}=s;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ud=(e,t,r,n)=>{var s;switch(t){case"xAxis":return iU(e,r,n);case"yAxis":return lU(e,r,n);case"zAxis":return(s=Fv(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return MC(e);case"radiusAxis":return $C(e,r);default:return}},t3=Y([jt,ud],Tp),zp=Y([jt,Zl,eU,t3],Jv);Y([cd,Fp,ht],R9);function r3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bp=(e,t)=>t,Up=(e,t,r)=>r,oU=Y(pp,Bp,Up,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(r3)),cU=Y(hp,Bp,Up,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(r3)),n3=(e,t)=>({width:e.width,height:t.height}),dU=(e,t)=>{var r=typeof t.width=="number"?t.width:Xc;return{width:r,height:e.height}},a3=Y(Bt,Za,n3),uU=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},mU=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},fU=Y(Ya,Bt,oU,Bp,Up,(e,t,r,n,s)=>{var i={},l;return r.forEach(o=>{var c=n3(t,o);l==null&&(l=uU(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[o.id]=l-Number(u)*c.height,l+=(u?-1:1)*c.height}),i}),pU=Y(Ga,Bt,cU,Bp,Up,(e,t,r,n,s)=>{var i={},l;return r.forEach(o=>{var c=dU(t,o);l==null&&(l=mU(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[o.id]=l-Number(u)*c.width,l+=(u?-1:1)*c.width}),i}),hU=(e,t)=>{var r=Za(e,t);if(r!=null)return fU(e,r.orientation,r.mirror)},gU=Y([Bt,Za,hU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),xU=(e,t)=>{var r=Ja(e,t);if(r!=null)return pU(e,r.orientation,r.mirror)},yU=Y([Bt,Ja,xU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),s3=Y(Bt,Ja,(e,t)=>{var r=typeof t.width=="number"?t.width:Xc;return{width:r,height:e.height}}),WN=(e,t,r)=>{switch(t){case"xAxis":return a3(e,r).width;case"yAxis":return s3(e,r).height;default:return}},i3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:l}=r,o=zs(e,n),c=t.map(u=>u.value);if(l&&o&&i==="category"&&s&&U_(c))return c}},nb=Y([He,Rp,jt,ht],i3),l3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,l=zs(e,n);if(l&&(s==="number"||i!=="auto"))return t.map(o=>o.value)}},ab=Y([He,Rp,od,ht],l3),KN=Y([He,E9,Zl,zp,nb,ab,ud,tb,ht],(e,t,r,n,s,i,l,o,c)=>{if(t!=null){var u=zs(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:o,range:l,realScaleType:r,scale:n}}}),vU=(e,t,r,n,s,i,l,o,c)=>{if(!(t==null||n==null)){var u=zs(e,c),{type:d,ticks:m,tickCount:p}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/g:0;x=c==="angleAxis"&&i!=null&&i.length>=2?Xt(i[0]-i[1])*2*x:x;var v=m||s;if(v){var h=v.map((y,b)=>{var j=l?l.indexOf(y):y;return{index:b,coordinate:n(j)+x,value:y,offset:x}});return h.filter(y=>bt(y.coordinate))}return u&&o?o.map((y,b)=>({coordinate:n(y)+x,value:y,index:b,offset:x})).filter(y=>bt(y.coordinate)):n.ticks?n.ticks(p).map(y=>({coordinate:n(y)+x,value:y,offset:x})):n.domain().map((y,b)=>({coordinate:n(y)+x,value:l?l[y]:y,index:b,offset:x}))}},o3=Y([He,od,Zl,zp,tb,ud,nb,ab,ht],vU),bU=(e,t,r,n,s,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=zs(e,l),{tickCount:c}=t,u=0;return u=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Xt(n[0]-n[1])*2*u:u,o&&i?i.map((d,m)=>({coordinate:r(d)+u,value:d,index:m,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,m)=>({coordinate:r(d)+u,value:s?s[d]:d,index:m,offset:u}))}},As=Y([He,od,zp,ud,nb,ab,ht],bU),Ts=Y(jt,zp,(e,t)=>{if(!(e==null||t==null))return hf(hf({},e),{},{scale:t})}),jU=Y([jt,Zl,Zv,t3],Jv);Y((e,t,r)=>Fv(e,r),jU,(e,t)=>{if(!(e==null||t==null))return hf(hf({},e),{},{scale:t})});var wU=Y([He,pp,hp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),c3=e=>e.options.defaultTooltipEventType,d3=e=>e.options.validateTooltipEventTypes;function u3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function sb(e,t){var r=c3(e),n=d3(e);return u3(t,r,n)}function NU(e){return Ce(t=>sb(t,e))}var m3=(e,t)=>{var r,n=Number(t);if(!(Un(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},SU=e=>e.tooltip.settings,us={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},kU={itemInteraction:{click:us,hover:us},axisInteraction:{click:us,hover:us},keyboardInteraction:us,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},f3=Ur({name:"tooltip",initialState:kU,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:dt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Fn(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:dt()},removeTooltipEntrySettings:{reducer(e,t){var r=Fn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:dt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:_U,replaceTooltipEntrySettings:PU,removeTooltipEntrySettings:CU,setTooltipSettingsState:OU,setActiveMouseOverItemIndex:p3,mouseLeaveItem:EU,mouseLeaveChart:h3,setActiveClickItemIndex:AU,setMouseOverAxisIndex:g3,setMouseClickAxisIndex:TU,setSyncInteraction:ix,setKeyboardInteraction:lx}=f3.actions,DU=f3.reducer;function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){IU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IU(e,t,r){return(t=MU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LU(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function RU(e){return e.index!=null}var x3=(e,t,r,n)=>{if(t==null)return us;var s=LU(e,t,r);if(s==null)return us;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(RU(s)){if(i)return Mu(Mu({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Mu(Mu({},us),{},{coordinate:s.coordinate})};function FU(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function zU(e,t){var r=FU(e),n=t[0],s=t[1];if(r===void 0)return!1;var i=Math.min(n,s),l=Math.max(n,s);return r>=i&&r<=l}function BU(e,t,r){if(r==null||t==null)return!0;var n=Je(e,t);return n==null||!Es(r)?!0:zU(n,r)}var ib=(e,t,r,n)=>{var s=e==null?void 0:e.index;if(s==null)return null;var i=Number(s);if(!bt(i))return s;var l=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(l,Math.min(i,o)),u=t[c];return u==null||BU(u,r,n)?String(c):null},y3=(e,t,r,n,s,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},v3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;if(r==="hover"?s=e.itemInteraction.hover.graphicalItemId:s=e.itemInteraction.click.graphicalItemId,s==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(l=>{var o;return((o=l.settings)===null||o===void 0?void 0:o.graphicalItemId)===s})},md=e=>e.options.tooltipPayloadSearcher,Jl=e=>e.tooltip;function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return(t=HU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KU(e,t){return e??t}var b3=(e,t,r,n,s,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,m=[];return e.reduce((p,g)=>{var x,{dataDefinedOnItem:v,settings:h}=g,y=KU(v,o),b=Array.isArray(y)?X4(y,u,d):y,j=(x=h==null?void 0:h.dataKey)!==null&&x!==void 0?x:n,P=h==null?void 0:h.nameKey,_;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&l==="axis"?_=H_(b,n,s):_=i(b,t,c,P),Array.isArray(_))_.forEach(O=>{var E=GN(GN({},h),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});p.push(s1({tooltipEntrySettings:E,dataKey:O.dataKey,payload:O.payload,value:Je(O.payload,O.dataKey),name:O.name}))});else{var C;p.push(s1({tooltipEntrySettings:h,dataKey:j,payload:_,value:Je(_,j),name:(C=Je(_,P))!==null&&C!==void 0?C:h==null?void 0:h.name}))}return p},m)}},lb=Y([Wt,He,BC,Tv,Ht],JC),qU=Y([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),VU=Y([Ht,Ql],zv),eo=Y([qU,Wt,VU],Bv,{memoizeOptions:{resultEqualityCheck:$p}}),GU=Y([eo],e=>e.filter(Ip)),YU=Y([eo],Uv,{memoizeOptions:{resultEqualityCheck:$p}}),to=Y([YU,Xa],Hv),QU=Y([GU,Xa,Wt],RC),ob=Y([to,Wt,eo],Kv),j3=Y([Wt],qv),XU=Y([Wt],e=>e.allowDataOverflow),w3=Y([j3,XU],hC),ZU=Y([eo],e=>e.filter(Ip)),JU=Y([QU,ZU,id,AC],KC),eH=Y([JU,Xa,Ht,w3],qC),tH=Y([eo],HC),rH=Y([to,Wt,tH,Fp,Ht],Yv,{memoizeOptions:{resultEqualityCheck:Mp}}),nH=Y([VC,Ht,Ql],Xl),aH=Y([nH,Ht],QC),sH=Y([GC,Ht,Ql],Xl),iH=Y([sH,Ht],XC),lH=Y([YC,Ht,Ql],Xl),oH=Y([lH,Ht],ZC),cH=Y([aH,oH,iH],gf),dH=Y([Wt,j3,w3,eH,rH,cH,He,Ht],Qv),fd=Y([Wt,He,to,ob,id,Ht,dH],Xv),uH=Y([fd,Wt,lb],eb),mH=Y([Wt,fd,uH,Ht],rb),N3=e=>{var t=Ht(e),r=Ql(e),n=!1;return ud(e,t,r,n)},S3=Y([Wt,N3],Tp),k3=Y([Wt,lb,mH,S3],Jv),fH=Y([He,ob,Wt,Ht],i3),pH=Y([He,ob,Wt,Ht],l3),hH=(e,t,r,n,s,i,l,o)=>{if(t){var{type:c}=t,u=zs(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return m=o==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Xt(s[0]-s[1])*2*m:m,u&&l?l.map((p,g)=>({coordinate:n(p)+m,value:p,index:g,offset:m})):n.domain().map((p,g)=>({coordinate:n(p)+m,value:i?i[p]:p,index:g,offset:m}))}}},es=Y([He,Wt,lb,k3,N3,fH,pH,Ht],hH),cb=Y([c3,d3,SU],(e,t,r)=>u3(r.shared,e,t)),_3=e=>e.tooltip.settings.trigger,db=e=>e.tooltip.settings.defaultIndex,pd=Y([Jl,cb,_3,db],x3),Ds=Y([pd,to,dd,fd],ib),P3=Y([es,Ds],m3),ub=Y([pd],e=>{if(e)return e.dataKey}),gH=Y([pd],e=>{if(e)return e.graphicalItemId}),C3=Y([Jl,cb,_3,db],v3),xH=Y([Ga,Ya,He,Bt,es,db,C3,md],y3),yH=Y([pd,xH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),vH=Y([pd],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),bH=Y([C3,Ds,Xa,dd,P3,md,cb],b3),jH=Y([bH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return(t=NH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kH=()=>Ce(Wt),_H=()=>{var e=kH(),t=Ce(es),r=Ce(k3);return Al(!e||!r?void 0:QN(QN({},e),{},{scale:r}),t)};function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return(t=CH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=OH(e,"string");return typeof t=="symbol"?t:t+""}function OH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EH=(e,t,r,n)=>{var s=t.find(i=>i&&i.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},AH=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="centric"){var i=s.coordinate,{radius:l}=n;return qi(qi(qi({},n),Tt(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=s.coordinate,{angle:c}=n;return qi(qi(qi({},n),Tt(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function TH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var O3=(e,t,r,n,s)=>{var i,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var o=0;o<l;o++){var c,u,d,m,p,g=o>0?(c=r[o-1])===null||c===void 0?void 0:c.coordinate:(u=r[l-1])===null||u===void 0?void 0:u.coordinate,x=(d=r[o])===null||d===void 0?void 0:d.coordinate,v=o>=l-1?(m=r[0])===null||m===void 0?void 0:m.coordinate:(p=r[o+1])===null||p===void 0?void 0:p.coordinate,h=void 0;if(!(g==null||x==null||v==null))if(Xt(x-g)!==Xt(v-x)){var y=[];if(Xt(v-x)===Xt(s[1]-s[0])){h=v;var b=x+s[1]-s[0];y[0]=Math.min(b,(b+g)/2),y[1]=Math.max(b,(b+g)/2)}else{h=g;var j=v+s[1]-s[0];y[0]=Math.min(x,(j+x)/2),y[1]=Math.max(x,(j+x)/2)}var P=[Math.min(x,(h+x)/2),Math.max(x,(h+x)/2)];if(e>P[0]&&e<=P[1]||e>=y[0]&&e<=y[1]){var _;return(_=r[o])===null||_===void 0?void 0:_.index}}else{var C=Math.min(g,v),O=Math.max(g,v);if(e>(C+x)/2&&e<=(O+x)/2){var E;return(E=r[o])===null||E===void 0?void 0:E.index}}}else if(t)for(var k=0;k<l;k++){var T=t[k];if(T!=null){var A=t[k+1],D=t[k-1];if(k===0&&A!=null&&e<=(T.coordinate+A.coordinate)/2||k===l-1&&D!=null&&e>(T.coordinate+D.coordinate)/2||k>0&&k<l-1&&D!=null&&A!=null&&e>(T.coordinate+D.coordinate)/2&&e<=(T.coordinate+A.coordinate)/2)return T.index}}return-1},DH=()=>Ce(Tv),mb=(e,t)=>t,E3=(e,t,r)=>r,fb=(e,t,r,n)=>n,IH=Y(es,e=>ap(e,t=>t.coordinate)),pb=Y([Jl,mb,E3,fb],x3),hb=Y([pb,to,dd,fd],ib),MH=(e,t,r)=>{if(t!=null){var n=Jl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},A3=Y([Jl,mb,E3,fb],v3),xf=Y([Ga,Ya,He,Bt,es,fb,A3,md],y3),$H=Y([pb,xf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),T3=Y([es,hb],m3),LH=Y([A3,hb,Xa,dd,T3,md,mb],b3),RH=Y([pb,hb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),FH=(e,t,r,n,s,i,l)=>{if(!(!e||!r||!n||!s)&&TH(e,l)){var o=f7(e,t),c=O3(o,i,s,r,n),u=EH(t,s,c,e);return{activeIndex:String(c),activeCoordinate:u}}},zH=(e,t,r,n,s,i,l)=>{if(!(!e||!n||!s||!i||!r)){var o=_F(e,r);if(o){var c=p7(o,t),u=O3(c,l,i,n,s),d=AH(t,i,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},BH=(e,t,r,n,s,i,l,o)=>{if(!(!e||!t||!n||!s||!i))return t==="horizontal"||t==="vertical"?FH(e,t,n,s,i,l,o):zH(e,t,r,n,s,i,l)},UH=Y(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),HH=Y(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Dt)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:k9}});function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){WH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WH(e,t,r){return(t=KH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=qH(e,"string");return typeof t=="symbol"?t:t+""}function qH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VH={},GH={zIndexMap:Object.values(Dt).reduce((e,t)=>JN(JN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),VH)},YH=new Set(Object.values(Dt));function QH(e){return YH.has(e)}var D3=Ur({name:"zIndex",initialState:GH,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:dt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!QH(r)&&delete e.zIndexMap[r])},prepare:dt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:s?void 0:n,panoramaElement:s?n:void 0}},prepare:dt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:dt()}}}),{registerZIndexPortal:XH,unregisterZIndexPortal:ZH,registerZIndexPortalElement:JH,unregisterZIndexPortalElement:eW}=D3.actions,tW=D3.reducer;function Hr(e){var{zIndex:t,children:r}=e,n=B7(),s=n&&t!==void 0&&t!==0,i=vr(),l=st();f.useLayoutEffect(()=>s?(l(XH({zIndex:t})),()=>{l(ZH({zIndex:t}))}):Vc,[l,t,s]);var o=Ce(c=>UH(c,t,i));return s?o?Hf.createPortal(r,o):null:r}function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(null,arguments)}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){rW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rW(e,t,r){return(t=nW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nW(e){var t=aW(e,"string");return typeof t=="symbol"?t:t+""}function aW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sW(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return f.isValidElement(t)?f.cloneElement(t,n):f.createElement(r,n)}function iW(e){var t,{coordinate:r,payload:n,index:s,offset:i,tooltipAxisBandSize:l,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,m=r,p=n,g=s;if(!c||!m||d!=="ScatterChart"&&u!=="axis")return null;var x,v,h;if(d==="ScatterChart")x=m,v=zR,h=Dt.cursorLine;else if(d==="BarChart")x=BR(o,m,i,l),v=_P,h=Dt.cursorRectangle;else if(o==="radial"&&K_(m)){var{cx:y,cy:b,radius:j,startAngle:P,endAngle:_}=CP(m);x={cx:y,cy:b,startAngle:P,endAngle:_,innerRadius:j,outerRadius:j},v=EP,h=Dt.cursorLine}else x={points:EF(o,m,i)},v=sv,h=Dt.cursorLine;var C=typeof c=="object"&&"className"in c?c.className:void 0,O=$u($u($u($u({stroke:"#ccc",pointerEvents:"none"},i),x),Ni(c)),{},{payload:p,payloadIndex:g,className:Ge("recharts-tooltip-cursor",C)});return f.createElement(Hr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:h},f.createElement(sW,{cursor:c,cursorComp:v,cursorProps:O}))}function lW(e){var t=_H(),r=dP(),n=ql(),s=DH();return t==null||r==null||n==null||s==null?null:f.createElement(iW,ox({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var I3=f.createContext(null),oW=()=>f.useContext(I3),M3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,m,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,m||c,p),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function l(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)t.call(d,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,x=new Array(g);p<g;p++)x[p]=m[p].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,m=this._events[d];return m?m.fn?1:m.length:0},o.prototype.emit=function(u,d,m,p,g,x){var v=r?r+u:u;if(!this._events[v])return!1;var h=this._events[v],y=arguments.length,b,j;if(h.fn){switch(h.once&&this.removeListener(u,h.fn,void 0,!0),y){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,d),!0;case 3:return h.fn.call(h.context,d,m),!0;case 4:return h.fn.call(h.context,d,m,p),!0;case 5:return h.fn.call(h.context,d,m,p,g),!0;case 6:return h.fn.call(h.context,d,m,p,g,x),!0}for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];h.fn.apply(h.context,b)}else{var P=h.length,_;for(j=0;j<P;j++)switch(h[j].once&&this.removeListener(u,h[j].fn,void 0,!0),y){case 1:h[j].fn.call(h[j].context);break;case 2:h[j].fn.call(h[j].context,d);break;case 3:h[j].fn.call(h[j].context,d,m);break;case 4:h[j].fn.call(h[j].context,d,m,p);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];h[j].fn.apply(h[j].context,b)}}return!0},o.prototype.on=function(u,d,m){return i(this,u,d,m,!1)},o.prototype.once=function(u,d,m){return i(this,u,d,m,!0)},o.prototype.removeListener=function(u,d,m,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return l(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!p||x.once)&&(!m||x.context===m)&&l(this,g);else{for(var v=0,h=[],y=x.length;v<y;v++)(x[v].fn!==d||p&&!x[v].once||m&&x[v].context!==m)&&h.push(x[v]);h.length?this._events[g]=h.length===1?h[0]:h:l(this,g)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&l(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(M3);var cW=M3.exports;const dW=Wa(cW);var Ic=new dW,cx="recharts.syncEvent.tooltip",t2="recharts.syncEvent.brush";function gb(e,t){if(t){var r=Number.parseInt(t,10);if(!Un(r))return e==null?void 0:e[r]}}var uW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$3=Ur({name:"options",initialState:uW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mW=$3.reducer,{createEventEmitter:fW}=$3.actions;function pW(e){return e.tooltip.syncInteraction}var hW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},L3=Ur({name:"chartData",initialState:hW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:r2,setDataStartEndIndexes:gW,setComputedData:dJ}=L3.actions,xW=L3.reducer,yW=["x","y"];function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return(t=bW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wW(e,t){if(e==null)return{};var r,n,s=NW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function NW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SW(){var e=Ce(Dv),t=Ce(Iv),r=st(),n=Ce(TC),s=Ce(es),i=ql(),l=vp(),o=Ce(c=>c.rootProps.className);f.useEffect(()=>{if(e==null)return Vc;var c=(u,d,m)=>{if(t!==m&&e===u){if(n==="index"){var p;if(l&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var g=d.payload.coordinate,{x,y:v}=g,h=wW(g,yW),{x:y,y:b,width:j,height:P}=d.payload.sourceViewBox,_=Vi(Vi({},h),{},{x:l.x+(j?(x-y)/j:0)*l.width,y:l.y+(P?(v-b)/P:0)*l.height});r(Vi(Vi({},d),{},{payload:Vi(Vi({},d.payload),{},{coordinate:_})}))}else r(d);return}if(s!=null){var C;if(typeof n=="function"){var O={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(s,O);C=s[E]}else n==="value"&&(C=s.find(X=>String(X.value)===d.payload.label));var{coordinate:k}=d.payload;if(C==null||d.payload.active===!1||k==null||l==null){r(ix({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:A}=k,D=Math.min(T,l.x+l.width),S=Math.min(A,l.y+l.height),L={x:i==="horizontal"?C.coordinate:D,y:i==="horizontal"?S:C.coordinate},F=ix({active:d.payload.active,coordinate:L,dataKey:d.payload.dataKey,index:String(C.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(F)}}};return Ic.on(cx,c),()=>{Ic.off(cx,c)}},[o,r,t,e,n,s,i,l])}function kW(){var e=Ce(Dv),t=Ce(Iv),r=st();f.useEffect(()=>{if(e==null)return Vc;var n=(s,i,l)=>{t!==l&&e===s&&r(gW(i))};return Ic.on(t2,n),()=>{Ic.off(t2,n)}},[r,t,e])}function _W(){var e=st();f.useEffect(()=>{e(fW())},[e]),SW(),kW()}function PW(e,t,r,n,s,i){var l=Ce(g=>MH(g,e,t)),o=Ce(Iv),c=Ce(Dv),u=Ce(TC),d=Ce(pW),m=d==null?void 0:d.active,p=vp();f.useEffect(()=>{if(!m&&c!=null&&o!=null){var g=ix({active:i,coordinate:r,dataKey:l,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Ic.emit(cx,c,g,o)}},[m,r,l,s,n,o,c,u,i,p])}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){CW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CW(e,t,r){return(t=OW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=EW(e,"string");return typeof t=="symbol"?t:t+""}function EW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AW(e){return e.dataKey}function TW(e,t){return f.isValidElement(e)?f.cloneElement(e,t):typeof e=="function"?f.createElement(e,t):f.createElement(vR,t)}var i2=[],DW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Hp(e){var t,r,n=$t(e,DW),{active:s,allowEscapeViewBox:i,animationDuration:l,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:m,payloadUniqBy:p,position:g,reverseDirection:x,useTranslate3d:v,wrapperStyle:h,cursor:y,shared:b,trigger:j,defaultIndex:P,portal:_,axisId:C}=n,O=st(),E=typeof P=="number"?String(P):P;f.useEffect(()=>{O(OU({shared:b,trigger:j,axisId:C,active:s,defaultIndex:E}))},[O,b,j,C,s,E]);var k=vp(),T=jP(),A=NU(b),{activeIndex:D,isActive:S}=(t=Ce(je=>RH(je,A,j,E)))!==null&&t!==void 0?t:{},L=Ce(je=>LH(je,A,j,E)),F=Ce(je=>T3(je,A,j,E)),X=Ce(je=>$H(je,A,j,E)),Q=L,I=oW(),M=(r=s??S)!==null&&r!==void 0?r:!1,[W,B]=j4([Q,M]),ae=A==="axis"?F:void 0;PW(A,j,X,ae,D,M);var fe=_??I;if(fe==null||k==null||A==null)return null;var xe=Q??i2;M||(xe=i2),u&&xe.length&&(xe=c4(xe.filter(je=>je.value!=null&&(je.hide!==!0||n.includeHidden)),p,AW));var te=xe.length>0,me=f.createElement(_R,{allowEscapeViewBox:i,animationDuration:l,animationEasing:o,isAnimationActive:d,active:M,coordinate:X,hasPayload:te,offset:m,position:g,reverseDirection:x,useTranslate3d:v,viewBox:k,wrapperStyle:h,lastBoundingBox:W,innerRef:B,hasPortalFromProps:!!_},TW(c,s2(s2({},n),{},{payload:xe,label:ae,active:M,activeIndex:D,coordinate:X,accessibilityLayer:T})));return f.createElement(f.Fragment,null,Hf.createPortal(me,fe),M&&f.createElement(lW,{cursor:y,tooltipEventType:A,coordinate:X,payload:xe,index:D}))}var hd=e=>null;hd.displayName="Cell";function IW(e,t,r){return(t=MW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LW{constructor(t){IW(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){FW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FW(e,t,r){return(t=zW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UW={cacheSize:2e3,enableCache:!0},R3=RW({},UW),o2=new LW(R3.cacheSize),HW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},c2="recharts_measurement_span";function WW(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(l,"|").concat(o)}var d2=(e,t)=>{try{var r=document.getElementById(c2);r||(r=document.createElement("span"),r.setAttribute("id",c2),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,HW,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ec=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Sp.isSsr)return{width:0,height:0};if(!R3.enableCache)return d2(t,r);var n=WW(t,r),s=o2.get(n);if(s)return s;var i=d2(t,r);return o2.set(n,i),i},F3;function KW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,m2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XW=["cm","mm","pt","pc","in","Q","px"];function ZW(e){return XW.includes(e)}var cl="NaN";function JW(e,t){return e*QW[t]}class ar{static parse(t){var r,[,n,s]=(r=YW.exec(t))!==null&&r!==void 0?r:[];return n==null?ar.NaN:new ar(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Un(t)&&(this.unit=""),r!==""&&!GW.test(r)&&(this.num=NaN,this.unit=""),ZW(r)&&(this.num=JW(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ar(NaN,""):new ar(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ar(NaN,""):new ar(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ar(NaN,""):new ar(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ar(NaN,""):new ar(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Un(this.num)}}F3=ar;KW(ar,"NaN",new F3(NaN,""));function z3(e){if(e==null||e.includes(cl))return cl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=u2.exec(t))!==null&&r!==void 0?r:[],l=ar.parse(n??""),o=ar.parse(i??""),c=s==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return cl;t=t.replace(u2,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,m,p]=(u=m2.exec(t))!==null&&u!==void 0?u:[],g=ar.parse(d??""),x=ar.parse(p??""),v=m==="+"?g.add(x):g.subtract(x);if(v.isNaN())return cl;t=t.replace(m2,v.toString())}return t}var f2=/\(([^()]*)\)/;function eK(e){for(var t=e,r;(r=f2.exec(t))!=null;){var[,n]=r;t=t.replace(f2,z3(n))}return t}function tK(e){var t=e.replace(/\s+/g,"");return t=eK(t),t=z3(t),t}function rK(e){try{return tK(e)}catch{return cl}}function cg(e){var t=rK(e.slice(5,-1));return t===cl?"":t}var nK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],aK=["dx","dy","angle","className","breakAll"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dx.apply(null,arguments)}function p2(e,t){if(e==null)return{};var r,n,s=sK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B3=/[ \f\n\r\t\v\u2028\u2029]+/,U3=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];pt(t)||(r?s=t.toString().split(""):s=t.toString().split(B3));var i=s.map(o=>({word:o,width:ec(o,n).width})),l=r?0:ec("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function iK(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var H3=(e,t,r,n)=>e.reduce((s,i)=>{var{word:l,width:o}=i,c=s[s.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(l),c.width+=o+r;else{var u={words:[l],width:o};s.push(u)}return s},[]),W3=e=>e.reduce((t,r)=>t.width>r.width?t:r),lK="",h2=(e,t,r,n,s,i,l,o)=>{var c=e.slice(0,t),u=U3({breakAll:r,style:n,children:c+lK});if(!u)return[!1,[]];var d=H3(u.wordsWithComputedWidth,i,l,o),m=d.length>s||W3(d).width>Number(i);return[m,d]},oK=(e,t,r,n,s)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,u=Pe(i),d=String(l),m=H3(t,n,r,s);if(!u||s)return m;var p=m.length>i||W3(m).width>Number(n);if(!p)return m;for(var g=0,x=d.length-1,v=0,h;g<=x&&v<=d.length-1;){var y=Math.floor((g+x)/2),b=y-1,[j,P]=h2(d,b,c,o,i,n,r,s),[_]=h2(d,y,c,o,i,n,r,s);if(!j&&!_&&(g=y+1),j&&_&&(x=y-1),!j&&_){h=P;break}v++}return h||m},g2=e=>{var t=pt(e)?[]:e.toString().split(B3);return[{words:t,width:void 0}]},cK=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:l}=e;if((t||r)&&!Sp.isSsr){var o,c,u=U3({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:m}=u;o=d,c=m}else return g2(n);return oK({breakAll:i,children:n,maxLines:l,style:s},o,c,t,!!r)}return g2(n)},K3="#808080",dK={angle:0,breakAll:!1,capHeight:"0.71em",fill:K3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Wp=f.forwardRef((e,t)=>{var r=$t(e,dK),{x:n,y:s,lineHeight:i,capHeight:l,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,m=p2(r,nK),p=f.useMemo(()=>cK({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:g,dy:x,angle:v,className:h,breakAll:y}=m,b=p2(m,aK);if(!ua(n)||!ua(s)||p.length===0)return null;var j=Number(n)+(Pe(g)?g:0),P=Number(s)+(Pe(x)?x:0);if(!bt(j)||!bt(P))return null;var _;switch(d){case"start":_=cg("calc(".concat(l,")"));break;case"middle":_=cg("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:_=cg("calc(".concat(p.length-1," * -").concat(i,")"));break}var C=[];if(c){var O=p[0].width,{width:E}=m;C.push("scale(".concat(Pe(E)&&Pe(O)?E/O:1,")"))}return v&&C.push("rotate(".concat(v,", ").concat(j,", ").concat(P,")")),C.length&&(b.transform=C.join(" ")),f.createElement("text",dx({},_r(b),{ref:t,x:j,y:P,className:Ge("recharts-text",h),textAnchor:u,fill:o.includes("url")?K3:o}),p.map((k,T)=>{var A=k.words.join(y?"":" ");return f.createElement("tspan",{x:j,dy:T===0?_:i,key:"".concat(A,"-").concat(T)},A)}))});Wp.displayName="Text";var uK=["labelRef"],mK=["content"];function x2(e,t){if(e==null)return{};var r,n,s=fK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return(t=hK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hK(e){var t=gK(e,"string");return typeof t=="symbol"?t:t+""}function gK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Na.apply(null,arguments)}var q3=f.createContext(null),xK=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:l,children:o}=e,c=f.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:l}),[t,r,n,s,i,l]);return f.createElement(q3.Provider,{value:c},o)},V3=()=>{var e=f.useContext(q3),t=vp();return e||cP(t)},yK=f.createContext(null),vK=()=>{var e=f.useContext(yK),t=Ce(LC);return e||t},bK=e=>{var{value:t,formatter:r}=e,n=pt(e.children)?t:e.children;return typeof r=="function"?r(n):n},xb=e=>e!=null&&typeof e=="function",jK=(e,t)=>{var r=Xt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},wK=(e,t,r,n,s)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:m,endAngle:p,clockWise:g}=s,x=(u+d)/2,v=jK(m,p),h=v>=0?1:-1,y,b;switch(t){case"insideStart":y=m+h*i,b=g;break;case"insideEnd":y=p-h*i,b=!g;break;case"end":y=p+h*i,b=g;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var j=Tt(o,c,x,y),P=Tt(o,c,x,y+(b?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(b?0:1,`,
    `).concat(P.x,",").concat(P.y),C=pt(e.id)?jc("recharts-radial-line-"):e.id;return f.createElement("text",Na({},n,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",l)}),f.createElement("defs",null,f.createElement("path",{id:C,d:_})),f.createElement("textPath",{xlinkHref:"#".concat(C)},r))},NK=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:m}=Tt(n,s,l+t,u);return{x:d,y:m,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var p=(i+l)/2,{x:g,y:x}=Tt(n,s,p,u);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},ux=e=>"cx"in e&&Pe(e.cx),SK=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!ux(r)&&(i=r);var{x:l,y:o,upperWidth:c,lowerWidth:u,height:d}=t,m=l,p=l+(c-u)/2,g=(m+p)/2,x=(c+u)/2,v=m+c/2,h=d>=0?1:-1,y=h*n,b=h>0?"end":"start",j=h>0?"start":"end",P=c>=0?1:-1,_=P*n,C=P>0?"end":"start",O=P>0?"start":"end";if(s==="top"){var E={x:m+c/2,y:o-y,textAnchor:"middle",verticalAnchor:b};return _t(_t({},E),i?{height:Math.max(o-i.y,0),width:c}:{})}if(s==="bottom"){var k={x:p+u/2,y:o+d+y,textAnchor:"middle",verticalAnchor:j};return _t(_t({},k),i?{height:Math.max(i.y+i.height-(o+d),0),width:u}:{})}if(s==="left"){var T={x:g-_,y:o+d/2,textAnchor:C,verticalAnchor:"middle"};return _t(_t({},T),i?{width:Math.max(T.x-i.x,0),height:d}:{})}if(s==="right"){var A={x:g+x+_,y:o+d/2,textAnchor:O,verticalAnchor:"middle"};return _t(_t({},A),i?{width:Math.max(i.x+i.width-A.x,0),height:d}:{})}var D=i?{width:x,height:d}:{};return s==="insideLeft"?_t({x:g+_,y:o+d/2,textAnchor:O,verticalAnchor:"middle"},D):s==="insideRight"?_t({x:g+x-_,y:o+d/2,textAnchor:C,verticalAnchor:"middle"},D):s==="insideTop"?_t({x:m+c/2,y:o+y,textAnchor:"middle",verticalAnchor:j},D):s==="insideBottom"?_t({x:p+u/2,y:o+d-y,textAnchor:"middle",verticalAnchor:b},D):s==="insideTopLeft"?_t({x:m+_,y:o+y,textAnchor:O,verticalAnchor:j},D):s==="insideTopRight"?_t({x:m+c-_,y:o+y,textAnchor:C,verticalAnchor:j},D):s==="insideBottomLeft"?_t({x:p+_,y:o+d-y,textAnchor:O,verticalAnchor:b},D):s==="insideBottomRight"?_t({x:p+u-_,y:o+d-y,textAnchor:C,verticalAnchor:b},D):s&&typeof s=="object"&&(Pe(s.x)||La(s.x))&&(Pe(s.y)||La(s.y))?_t({x:l+xr(s.x,x),y:o+xr(s.y,d),textAnchor:"end",verticalAnchor:"end"},D):_t({x:v,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},D)},kK={angle:0,offset:5,zIndex:Dt.label,position:"middle",textBreakAll:!1};function os(e){var t=$t(e,kK),{viewBox:r,position:n,value:s,children:i,content:l,className:o="",textBreakAll:c,labelRef:u}=t,d=vK(),m=V3(),p=n==="center"?m:d??m,g,x,v;if(r==null?g=p:ux(r)?g=r:g=cP(r),!g||pt(s)&&pt(i)&&!f.isValidElement(l)&&typeof l!="function")return null;var h=_t(_t({},t),{},{viewBox:g});if(f.isValidElement(l)){var{labelRef:y}=h,b=x2(h,uK);return f.cloneElement(l,b)}if(typeof l=="function"){var{content:j}=h,P=x2(h,mK);if(x=f.createElement(l,P),f.isValidElement(x))return x}else x=bK(t);var _=_r(t);if(ux(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return wK(t,n,x,_,g);v=NK(g,t.offset,t.position)}else v=SK(t,g);return f.createElement(Hr,{zIndex:t.zIndex},f.createElement(Wp,Na({ref:u,className:Ge("recharts-label",o)},_,v,{textAnchor:iK(_.textAnchor)?_.textAnchor:v.textAnchor,breakAll:c}),x))}os.displayName="Label";var _K=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?f.createElement(os,Na({key:"label-implicit"},n)):ua(e)?f.createElement(os,Na({key:"label-implicit",value:e},n)):f.isValidElement(e)?e.type===os?f.cloneElement(e,_t({key:"label-implicit"},n)):f.createElement(os,Na({key:"label-implicit",content:e},n)):xb(e)?f.createElement(os,Na({key:"label-implicit",content:e},n)):e&&typeof e=="object"?f.createElement(os,Na({},e,{key:"label-implicit"},n)):null};function PK(e){var{label:t,labelRef:r}=e,n=V3();return _K(t,n,r)||null}var G3={},Y3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Y3);var Q3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Q3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y3,r=Q3,n=rp;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(G3);var CK=G3.last;const OK=Wa(CK);var EK=["valueAccessor"],AK=["dataKey","clockWise","id","textBreakAll","zIndex"];function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(null,arguments)}function v2(e,t){if(e==null)return{};var r,n,s=TK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function TK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DK=e=>Array.isArray(e.value)?OK(e.value):e.value,X3=f.createContext(void 0),Z3=X3.Provider,J3=f.createContext(void 0),IK=J3.Provider;function MK(){return f.useContext(X3)}function $K(){return f.useContext(J3)}function am(e){var{valueAccessor:t=DK}=e,r=v2(e,EK),{dataKey:n,clockWise:s,id:i,textBreakAll:l,zIndex:o}=r,c=v2(r,AK),u=MK(),d=$K(),m=u||d;return!m||!m.length?null:f.createElement(Hr,{zIndex:o??Dt.label},f.createElement(Jt,{className:"recharts-label-list"},m.map((p,g)=>{var x,v=pt(n)?t(p,g):Je(p&&p.payload,n),h=pt(i)?{}:{id:"".concat(i,"-").concat(g)};return f.createElement(os,yf({key:"label-".concat(g)},_r(p),c,h,{fill:(x=r.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:l,viewBox:p.viewBox,index:g,zIndex:0}))})))}am.displayName="LabelList";function yb(e){var{label:t}=e;return t?t===!0?f.createElement(am,{key:"labelList-implicit"}):f.isValidElement(t)||xb(t)?f.createElement(am,{key:"labelList-implicit",content:t}):typeof t=="object"?f.createElement(am,yf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mx.apply(null,arguments)}var eO=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=Ge("recharts-dot",s);return Pe(t)&&Pe(r)&&Pe(n)?f.createElement("circle",mx({},en(e),Iy(e),{className:i,cx:t,cy:r,r:n})):null},tO=e=>e.graphicalItems.polarItems,LK=Y([ht,ld],zv),Kp=Y([tO,jt,LK],Bv),RK=Y([Kp],Uv),qp=Y([RK,Ap],Hv),FK=Y([qp,jt,Kp],Kv);Y([qp,jt,Kp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,l=Je(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Je(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var b2=()=>{},zK=Y([qp,jt,Kp,Fp,ht],Yv),BK=Y([jt,Vv,Gv,b2,zK,b2,He,ht],Qv),rO=Y([jt,He,qp,FK,id,ht,BK],Xv),UK=Y([rO,jt,Zl],eb);Y([jt,rO,UK,ht],rb);var HK={radiusAxis:{},angleAxis:{}},nO=Ur({name:"polarAxis",initialState:HK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uJ,removeRadiusAxis:mJ,addAngleAxis:fJ,removeAngleAxis:pJ}=nO.actions,WK=nO.reducer;function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function w2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=qK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GK=(e,t)=>t,vb=Y([tO,GK],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),YK=[],bb=(e,t,r)=>(r==null?void 0:r.length)===0?YK:r,aO=Y([Ap,vb,bb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>w2(w2({},t.presentationProps),i.props))),s!=null)return s}}),QK=Y([aO,vb,bb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,l=Je(n,t.nameKey,t.name),o;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Kl(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),XK=Y([aO,vb,bb,Bt],(e,t,r,n)=>{if(!(t==null||e==null))return Xq({offset:n,pieSettings:t,displayedData:e,cells:r})}),sO={exports:{}},tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb=Symbol.for("react.transitional.element"),wb=Symbol.for("react.portal"),Vp=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Yp=Symbol.for("react.profiler"),Qp=Symbol.for("react.consumer"),Xp=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),eh=Symbol.for("react.suspense_list"),th=Symbol.for("react.memo"),rh=Symbol.for("react.lazy"),ZK=Symbol.for("react.view_transition"),JK=Symbol.for("react.client.reference");function wn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jb:switch(e=e.type,e){case Vp:case Yp:case Gp:case Jp:case eh:case ZK:return e;default:switch(e=e&&e.$$typeof,e){case Xp:case Zp:case rh:case th:return e;case Qp:return e;default:return t}}case wb:return t}}}tt.ContextConsumer=Qp;tt.ContextProvider=Xp;tt.Element=jb;tt.ForwardRef=Zp;tt.Fragment=Vp;tt.Lazy=rh;tt.Memo=th;tt.Portal=wb;tt.Profiler=Yp;tt.StrictMode=Gp;tt.Suspense=Jp;tt.SuspenseList=eh;tt.isContextConsumer=function(e){return wn(e)===Qp};tt.isContextProvider=function(e){return wn(e)===Xp};tt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jb};tt.isForwardRef=function(e){return wn(e)===Zp};tt.isFragment=function(e){return wn(e)===Vp};tt.isLazy=function(e){return wn(e)===rh};tt.isMemo=function(e){return wn(e)===th};tt.isPortal=function(e){return wn(e)===wb};tt.isProfiler=function(e){return wn(e)===Yp};tt.isStrictMode=function(e){return wn(e)===Gp};tt.isSuspense=function(e){return wn(e)===Jp};tt.isSuspenseList=function(e){return wn(e)===eh};tt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vp||e===Yp||e===Gp||e===Jp||e===eh||typeof e=="object"&&e!==null&&(e.$$typeof===rh||e.$$typeof===th||e.$$typeof===Xp||e.$$typeof===Qp||e.$$typeof===Zp||e.$$typeof===JK||e.getModuleId!==void 0)};tt.typeOf=wn;sO.exports=tt;var eq=sO.exports,N2=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",S2=null,dg=null,iO=e=>{if(e===S2&&Array.isArray(dg))return dg;var t=[];return f.Children.forEach(e,r=>{pt(r)||(eq.isFragment(r)?t=t.concat(iO(r.props.children)):t.push(r))}),dg=t,S2=e,t};function Nb(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>N2(s)):n=[N2(t)],iO(e).forEach(s=>{var i=ki(s,"type.displayName")||ki(s,"type.name");i&&n.indexOf(i)!==-1&&r.push(s)}),r}var lO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,oO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(oO);var tq=oO.isPlainObject;const rq=Wa(tq);var k2,_2,P2,C2,O2;function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function A2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(null,arguments)}function Eo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var T2=(e,t,r,n,s)=>{var i=r-n,l;return l=Nt(k2||(k2=Eo(["M ",",",""])),e,t),l+=Nt(_2||(_2=Eo(["L ",",",""])),e+r,t),l+=Nt(P2||(P2=Eo(["L ",",",""])),e+r-i/2,t+s),l+=Nt(C2||(C2=Eo(["L ",",",""])),e+r-i/2-n,t+s),l+=Nt(O2||(O2=Eo(["L ",","," Z"])),e,t),l},iq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lq=e=>{var t=$t(e,iq),{x:r,y:n,upperWidth:s,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:m}=t,p=f.useRef(null),[g,x]=f.useState(-1),v=f.useRef(s),h=f.useRef(i),y=f.useRef(l),b=f.useRef(r),j=f.useRef(n),P=td(e,"trapezoid-");if(f.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var L=p.current.getTotalLength();L&&x(L)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||l!==+l||s===0&&i===0||l===0)return null;var _=Ge("recharts-trapezoid",o);if(!m)return f.createElement("g",null,f.createElement("path",vf({},_r(t),{className:_,d:T2(r,n,s,i,l)})));var C=v.current,O=h.current,E=y.current,k=b.current,T=j.current,A="0px ".concat(g===-1?1:g,"px"),D="".concat(g,"px 0px"),S=wP(["strokeDasharray"],u,c);return f.createElement(ed,{animationId:P,key:P,canBegin:g>0,duration:u,easing:c,isActive:m,begin:d},L=>{var F=ut(C,s,L),X=ut(O,i,L),Q=ut(E,l,L),I=ut(k,r,L),M=ut(T,n,L);p.current&&(v.current=F,h.current=X,y.current=Q,b.current=I,j.current=M);var W=L>0?{transition:S,strokeDasharray:D}:{strokeDasharray:A};return f.createElement("path",vf({},_r(t),{className:_,d:T2(I,M,F,X,Q),ref:p,style:A2(A2({},W),t.style)}))})},oq=["option","shapeType","activeClassName"];function cq(e,t){if(e==null)return{};var r,n,s=dq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e,t){return bf(bf({},t),e)}function hq(e,t){return e==="symbols"}function I2(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return f.createElement(_P,r);case"trapezoid":return f.createElement(lq,r);case"sector":return f.createElement(EP,r);case"symbols":if(hq(t))return f.createElement(Dy,r);break;case"curve":return f.createElement(sv,r);default:return null}}function gq(e){return f.isValidElement(e)?e.props:e}function Sb(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,s=cq(e,oq),i;if(f.isValidElement(t))i=f.cloneElement(t,bf(bf({},s),gq(t)));else if(typeof t=="function")i=t(s,s.index);else if(rq(t)&&typeof t!="boolean"){var l=pq(t,s);i=f.createElement(I2,{shapeType:r,elementProps:l})}else{var o=s;i=f.createElement(I2,{shapeType:r,elementProps:o})}return s.isActive?f.createElement(Jt,{className:n},i):i}var kb=(e,t,r)=>{var n=st();return(s,i)=>l=>{e==null||e(s,i,l),n(p3({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},_b=e=>{var t=st();return(r,n)=>s=>{e==null||e(r,n,s),t(EU())}},Pb=(e,t,r)=>{var n=st();return(s,i)=>l=>{e==null||e(s,i,l),n(AU({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function Cb(e){var{tooltipEntrySettings:t}=e,r=st(),n=vr(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(_U(t)):s.current!==t&&r(PU({prev:s.current,next:t})),s.current=t)},[t,r,n]),f.useLayoutEffect(()=>()=>{s.current&&(r(CU(s.current)),s.current=null)},[r]),null}function cO(e){var{legendPayload:t}=e,r=st(),n=vr(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(yP(t)):s.current!==t&&r(vP({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(bP(s.current)),s.current=null)},[r]),null}function xq(e){var{legendPayload:t}=e,r=st(),n=Ce(He),s=f.useRef(null);return f.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(s.current===null?r(yP(t)):s.current!==t&&r(vP({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(bP(s.current)),s.current=null)},[r]),null}var ug,yq=()=>{var[e]=f.useState(()=>jc("uid-"));return e},vq=(ug=yS.useId)!==null&&ug!==void 0?ug:yq;function bq(e,t){var r=vq();return t||(e?"".concat(e,"-").concat(r):r)}var jq=f.createContext(void 0),Ob=e=>{var{id:t,type:r,children:n}=e,s=bq("recharts-".concat(r),t);return f.createElement(jq.Provider,{value:s},n(s))},wq={cartesianItems:[],polarItems:[]},dO=Ur({name:"graphicalItems",initialState:wq,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:dt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Fn(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:dt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Fn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:dt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:dt()},removePolarGraphicalItem:{reducer(e,t){var r=Fn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:dt()}}}),{addCartesianGraphicalItem:Nq,replaceCartesianGraphicalItem:Sq,removeCartesianGraphicalItem:kq,addPolarGraphicalItem:_q,removePolarGraphicalItem:Pq}=dO.actions,Cq=dO.reducer,Oq=e=>{var t=st(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(Nq(e)):r.current!==e&&t(Sq({prev:r.current,next:e})),r.current=e},[t,e]),f.useLayoutEffect(()=>()=>{r.current&&(t(kq(r.current)),r.current=null)},[t]),null},uO=f.memo(Oq);function Eq(e){var t=st();return f.useLayoutEffect(()=>(t(_q(e)),()=>{t(Pq(e))}),[t,e]),null}var Aq=["key"],Tq=["onMouseEnter","onClick","onMouseLeave"],Dq=["id"],Iq=["id"];function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){Mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mq(e,t,r){return(t=$q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=Lq(e,"string");return typeof t=="symbol"?t:t+""}function Lq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(null,arguments)}function nh(e,t){if(e==null)return{};var r,n,s=Rq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Rq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fq(e){var t=f.useMemo(()=>Nb(e.children,hd),[e.children]),r=Ce(n=>QK(n,e.id,t));return r==null?null:f.createElement(xq,{legendPayload:r})}var zq=f.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:l,name:o,hide:c,tooltipType:u,id:d}=e,m={dataDefinedOnItem:n.map(p=>p.tooltipPayload),positions:n.map(p=>p.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:Kl(o,t),hide:c,type:u,color:l,unit:"",graphicalItemId:d}};return f.createElement(Cb,{tooltipEntrySettings:m})}),Bq=(e,t)=>e>t?"start":e<t?"end":"middle",Uq=(e,t,r)=>xr(typeof t=="function"?t(e):t,r,r*.8),Hq=(e,t,r)=>{var{top:n,left:s,width:i,height:l}=t,o=PP(i,l),c=s+xr(e.cx,i,i/2),u=n+xr(e.cy,l,l/2),d=xr(e.innerRadius,o,0),m=Uq(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:m,maxRadius:p}},Wq=(e,t)=>{var r=Xt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Kq(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var qq=(e,t)=>{if(f.isValidElement(e))return f.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ge("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,s=nh(t,Aq);return f.createElement(sv,Is({},s,{type:"linear",className:r}))},Vq=(e,t,r)=>{if(f.isValidElement(e))return f.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),f.isValidElement(n)))return n;var s=Ge("recharts-pie-label-text",Kq(e));return f.createElement(Wp,Is({},t,{alignmentBaseline:"middle",className:s}),n)};function Gq(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:l}=r;if(!n||!s||!t)return null;var o=en(r),c=Ni(s),u=Ni(i),d=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,m=t.map((p,g)=>{var x=(p.startAngle+p.endAngle)/2,v=Tt(p.cx,p.cy,p.outerRadius+d,x),h=kt(kt(kt(kt({},o),p),{},{stroke:"none"},c),{},{index:g,textAnchor:Bq(v.x,p.cx)},v),y=kt(kt(kt(kt({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:g,points:[Tt(p.cx,p.cy,p.outerRadius,x),v],key:"line"});return f.createElement(Hr,{zIndex:Dt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},f.createElement(Jt,null,i&&qq(i,y),Vq(s,h,Je(p,l))))});return f.createElement(Jt,{className:"recharts-pie-labels"},m)}function Yq(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?f.createElement(yb,{label:s}):f.createElement(Gq,{sectors:t,props:r,showLabels:n})}function Qq(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,shape:i,id:l}=e,o=Ce(Ds),c=Ce(ub),u=Ce(gH),{onMouseEnter:d,onClick:m,onMouseLeave:p}=s,g=nh(s,Tq),x=kb(d,s.dataKey,l),v=_b(p),h=Pb(m,s.dataKey,l);return t==null||t.length===0?null:f.createElement(f.Fragment,null,t.map((y,b)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var j=u==null||u===l,P=String(b)===o&&(c==null||s.dataKey===c)&&j,_=o?n:null,C=r&&P?r:_,O=kt(kt({},y),{},{stroke:y.stroke,tabIndex:-1,[tP]:b,[rP]:l});return f.createElement(Jt,Is({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Gc(g,y,b),{onMouseEnter:x(y,b),onMouseLeave:v(y,b),onClick:h(y,b)}),f.createElement(Sb,Is({option:i??C,index:b,shapeType:"sector",isActive:P},O)))}))}function Xq(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:m}=r,p=Math.abs(r.minAngle),g=Wq(o,c),x=Math.abs(g),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,h=n.filter(C=>Je(C,u,0)!==0).length,y=(x>=360?h:h-1)*v,b=x-h*p-y,j=n.reduce((C,O)=>{var E=Je(O,u,0);return C+(Pe(E)?E:0)},0),P;if(j>0){var _;P=n.map((C,O)=>{var E=Je(C,u,0),k=Je(C,d,O),T=Hq(r,i,C),A=(Pe(E)?E:0)/j,D,S=kt(kt({},C),s&&s[O]&&s[O].props);O?D=_.endAngle+Xt(g)*v*(E!==0?1:0):D=o;var L=D+Xt(g)*((E!==0?p:0)+A*b),F=(D+L)/2,X=(T.innerRadius+T.outerRadius)/2,Q=[{name:k,value:E,payload:S,dataKey:u,type:m,graphicalItemId:r.id}],I=Tt(T.cx,T.cy,X,F);return _=kt(kt(kt(kt({},r.presentationProps),{},{percent:A,cornerRadius:typeof l=="string"?parseFloat(l):l,name:k,tooltipPayload:Q,midAngle:F,middleRadius:X,tooltipPosition:I},S),T),{},{value:E,dataKey:u,startAngle:D,endAngle:L,payload:S,paddingAngle:Xt(g)*v}),_})}return P}function Zq(e){var{showLabels:t,sectors:r,children:n}=e,s=f.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return f.createElement(IK,{value:t?s:void 0},n)}function Jq(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:s,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:m,onAnimationEnd:p}=t,g=td(t,"recharts-pie-"),x=r.current,[v,h]=f.useState(!1),y=f.useCallback(()=>{typeof p=="function"&&p(),h(!1)},[p]),b=f.useCallback(()=>{typeof m=="function"&&m(),h(!0)},[m]);return f.createElement(Zq,{showLabels:!v,sectors:s},f.createElement(ed,{animationId:g,begin:l,duration:o,isActive:i,easing:c,onAnimationStart:b,onAnimationEnd:y,key:g},j=>{var P=[],_=s&&s[0],C=_==null?void 0:_.startAngle;return s==null||s.forEach((O,E)=>{var k=x&&x[E],T=E>0?ki(O,"paddingAngle",0):0;if(k){var A=ut(k.endAngle-k.startAngle,O.endAngle-O.startAngle,j),D=kt(kt({},O),{},{startAngle:C+T,endAngle:C+A+T});P.push(D),C=D.endAngle}else{var{endAngle:S,startAngle:L}=O,F=ut(0,S-L,j),X=kt(kt({},O),{},{startAngle:C+T,endAngle:C+F+T});P.push(X),C=X.endAngle}}),r.current=P,f.createElement(Jt,null,f.createElement(Qq,{sectors:P,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),f.createElement(Yq,{showLabels:!v,sectors:s,props:t}),t.children)}var eV={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Dt.area};function tV(e){var{id:t}=e,r=nh(e,Dq),{hide:n,className:s,rootTabIndex:i}=e,l=f.useMemo(()=>Nb(e.children,hd),[e.children]),o=Ce(d=>XK(d,t,l)),c=f.useRef(null),u=Ge("recharts-pie",s);return n||o==null?(c.current=null,f.createElement(Jt,{tabIndex:i,className:u})):f.createElement(Hr,{zIndex:e.zIndex},f.createElement(zq,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),f.createElement(Jt,{tabIndex:i,className:u},f.createElement(Jq,{props:kt(kt({},r),{},{sectors:o}),previousSectorsRef:c,id:t})))}function mO(e){var t=$t(e,eV),{id:r}=t,n=nh(t,Iq),s=en(n);return f.createElement(Ob,{id:r,type:"pie"},i=>f.createElement(f.Fragment,null,f.createElement(Eq,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),f.createElement(Fq,Is({},n,{id:i})),f.createElement(tV,Is({},n,{id:i}))))}mO.displayName="Pie";var rV=["points"];function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){nV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nV(e,t,r){return(t=aV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}function iV(e,t){if(e==null)return{};var r,n,s=lV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oV(e){var{option:t,dotProps:r,className:n}=e;if(f.isValidElement(t))return f.cloneElement(t,r);if(typeof t=="function")return t(r);var s=Ge(n,typeof t!="boolean"?t.className:""),i=r??{},{points:l}=i,o=iV(i,rV);return f.createElement(eO,jf({},o,{className:s}))}function cV(e,t){return e==null?!1:t?!0:e.length===1}function dV(e){var{points:t,dot:r,className:n,dotClassName:s,dataKey:i,baseProps:l,needClip:o,clipPathId:c,zIndex:u=Dt.scatter}=e;if(!cV(t,r))return null;var d=lO(r),m=e$(r),p=t.map((x,v)=>{var h,y,b=mg(mg(mg({r:3},l),m),{},{index:v,cx:(h=x.x)!==null&&h!==void 0?h:void 0,cy:(y=x.y)!==null&&y!==void 0?y:void 0,dataKey:i,value:x.value,payload:x.payload,points:t});return f.createElement(oV,{key:"dot-".concat(v),option:r,dotProps:b,className:s})}),g={};return o&&c!=null&&(g.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),f.createElement(Hr,{zIndex:u},f.createElement(Jt,jf({className:n},g),p))}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function R2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){uV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uV(e,t,r){return(t=mV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=fV(e,"string");return typeof t=="symbol"?t:t+""}function fV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fO=0,pV={xAxis:{},yAxis:{},zAxis:{}},pO=Ur({name:"cartesianAxis",initialState:pV,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:dt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:dt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:dt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:dt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:dt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:dt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:dt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:dt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:dt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==s.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);e.yAxis[r]=R2(R2({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:hV,replaceXAxis:gV,removeXAxis:xV,addYAxis:yV,replaceYAxis:vV,removeYAxis:bV,addZAxis:hJ,replaceZAxis:gJ,removeZAxis:xJ,updateYAxisWidth:jV}=pO.actions,wV=pO.reducer,NV=Y([Bt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),SV=Y([NV,Ga,Ya],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Eb=()=>Ce(SV),kV=()=>Ce(jH);function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){_V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _V(e,t,r){return(t=PV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PV(e){var t=CV(e,"string");return typeof t=="symbol"?t:t+""}function CV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OV=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i,clipPath:l}=e;if(s===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=fg(fg(fg({},o),Ni(s)),Iy(s)),u;return f.isValidElement(s)?u=f.cloneElement(s,c):typeof s=="function"?u=s(c):u=f.createElement(eO,c),f.createElement(Jt,{className:"recharts-active-dot",clipPath:l},u)};function EV(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s,clipPath:i,zIndex:l=Dt.activeDot}=e,o=Ce(Ds),c=kV();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return pt(u)?null:f.createElement(Hr,{zIndex:l},f.createElement(OV,{point:u,childIndex:Number(o),mainColor:r,dataKey:s,activeDot:n,clipPath:i}))}var z2=(e,t,r)=>{var n=r??e;if(!pt(n))return xr(n,t,0)},AV=(e,t,r)=>{var n={},s=e.filter(Ip),i=e.filter(u=>u.stackId==null),l=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(l).map(u=>{var[d,m]=u,p=m.map(x=>x.dataKey),g=z2(t,r,m[0].barSize);return{stackId:d,dataKeys:p,barSize:g}}),c=i.map(u=>{var d=[u.dataKey].filter(p=>p!=null),m=z2(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:m}});return[...o,...c]};function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){TV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TV(e,t,r){return(t=DV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DV(e){var t=IV(e,"string");return typeof t=="symbol"?t:t+""}function IV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MV(e,t,r,n,s){var i=n.length;if(!(i<1)){var l=xr(e,r,0,!0),o,c=[];if(bt(n[0].barSize)){var u=!1,d=r/i,m=n.reduce((y,b)=>y+(b.barSize||0),0);m+=(i-1)*l,m>=r&&(m-=(i-1)*l,l=0),m>=r&&d>0&&(u=!0,d*=.9,m=i*d);var p=(r-m)/2>>0,g={offset:p-l,size:0};o=n.reduce((y,b)=>{var j,P={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g.offset+g.size+l,size:u?d:(j=b.barSize)!==null&&j!==void 0?j:0}},_=[...y,P];return g=_[_.length-1].position,_},c)}else{var x=xr(t,r,0,!0);r-2*x-(i-1)*l<=0&&(l=0);var v=(r-2*x-(i-1)*l)/i;v>1&&(v>>=0);var h=bt(s)?Math.min(v,s):v;o=n.reduce((y,b,j)=>[...y,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:x+(v+l)*j+(v-h)/2,size:h}}],c)}return o}}var $V=(e,t,r,n,s,i,l)=>{var o=pt(l)?t:l,c=MV(r,n,s!==i?s:i,e,o);return s!==i&&c!=null&&(c=c.map(u=>Lu(Lu({},u),{},{position:Lu(Lu({},u.position),{},{offset:u.position.offset-s/2})}))),c},LV=(e,t)=>{var r=Rv(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(l=>l.key===r)}}}};function RV(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&bt(e.zIndex)?e.zIndex:t}var hO=e=>{var{chartData:t}=e,r=st(),n=vr();return f.useEffect(()=>n?()=>{}:(r(r2(t)),()=>{r(r2(void 0))}),[t,r,n]),null},U2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gO=Ur({name:"brush",initialState:U2,reducers:{setBrushSettings(e,t){return t.payload==null?U2:t.payload}}}),{setBrushSettings:yJ}=gO.actions,FV=gO.reducer;function zV(e,t,r){return(t=BV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ab{static create(t){return new Ab(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}zV(Ab,"EPS",1e-4);function HV(e){return(e%180+180)%180}var WV=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=HV(s),l=i*Math.PI/180,o=Math.atan(n/r),c=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(c)},KV={dots:[],areas:[],lines:[]},xO=Ur({name:"referenceElements",initialState:KV,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Fn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Fn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Fn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:vJ,removeDot:bJ,addArea:jJ,removeArea:wJ,addLine:NJ,removeLine:SJ}=xO.actions,qV=xO.reducer,VV=f.createContext(void 0),GV=e=>{var{children:t}=e,[r]=f.useState("".concat(jc("recharts"),"-clip")),n=Eb();if(n==null)return null;var{x:s,y:i,width:l,height:o}=n;return f.createElement(VV.Provider,{value:r},f.createElement("defs",null,f.createElement("clipPath",{id:r},f.createElement("rect",{x:s,y:i,height:o,width:l}))),t)};function yO(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var s=e[n];s!==void 0&&r.push(s)}return r}function YV(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return WV(n,r)}function QV(e,t,r){var n=r==="width",{x:s,y:i,width:l,height:o}=e;return t===1?{start:n?s:i,end:n?s+l:i+o}:{start:n?s+l:i+o,end:n?s:i}}function Mc(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function XV(e,t){return yO(e,t+1)}function ZV(e,t,r,n,s){for(var i=(n||[]).slice(),{start:l,end:o}=t,c=0,u=1,d=l,m=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:yO(n,u)};var v=c,h,y=()=>(h===void 0&&(h=r(x,v)),h),b=x.coordinate,j=c===0||Mc(e,b,y,d,o);j||(c=0,d=l,u+=1),j&&(d=b+e*(y()/2+s),c+=u)},p;u<=i.length;)if(p=m(),p)return p.v;return[]}function JV(e,t,r,n,s){var i=(n||[]).slice(),l=i.length;if(l===0)return[];for(var{start:o,end:c}=t,u=1;u<=l;u++){for(var d=(l-1)%u,m=o,p=!0,g=function(){var b=n[x],j=x,P,_=()=>(P===void 0&&(P=r(b,j)),P),C=b.coordinate,O=x===d||Mc(e,C,_,m,c);if(!O)return p=!1,1;O&&(m=C+e*(_()/2+s))},x=d;x<l&&!g();x+=u);if(p){for(var v=[],h=d;h<l;h+=u)v.push(n[h]);return v}}return[]}function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return(t=tG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nG(e,t,r,n,s){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,u=function(p){var g=i[p],x,v=()=>(x===void 0&&(x=r(g,p)),x);if(p===l-1){var h=e*(g.coordinate+e*v()/2-c);i[p]=g=mr(mr({},g),{},{tickCoord:h>0?g.coordinate-h*e:g.coordinate})}else i[p]=g=mr(mr({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var y=Mc(e,g.tickCoord,v,o,c);y&&(c=g.tickCoord-e*(v()/2+s),i[p]=mr(mr({},g),{},{isShow:!0}))}},d=l-1;d>=0;d--)u(d);return i}function aG(e,t,r,n,s,i){var l=(n||[]).slice(),o=l.length,{start:c,end:u}=t;if(i){var d=n[o-1],m=r(d,o-1),p=e*(d.coordinate+e*m/2-u);if(l[o-1]=d=mr(mr({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var g=Mc(e,d.tickCoord,()=>m,c,u);g&&(u=d.tickCoord-e*(m/2+s),l[o-1]=mr(mr({},d),{},{isShow:!0}))}}for(var x=i?o-1:o,v=function(b){var j=l[b],P,_=()=>(P===void 0&&(P=r(j,b)),P);if(b===0){var C=e*(j.coordinate-e*_()/2-c);l[b]=j=mr(mr({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else l[b]=j=mr(mr({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var O=Mc(e,j.tickCoord,_,c,u);O&&(c=j.tickCoord+e*(_()/2+s),l[b]=mr(mr({},j),{},{isShow:!0}))}},h=0;h<x;h++)v(h);return l}function Tb(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:u,unit:d,angle:m}=e;if(!s||!s.length||!n)return[];if(Pe(c)||Sp.isSsr){var p;return(p=XV(s,Pe(c)?c:0))!==null&&p!==void 0?p:[]}var g=[],x=o==="top"||o==="bottom"?"width":"height",v=d&&x==="width"?ec(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=(j,P)=>{var _=typeof u=="function"?u(j.value,P):j.value;return x==="width"?YV(ec(_,{fontSize:t,letterSpacing:r}),v,m):ec(_,{fontSize:t,letterSpacing:r})[x]},y=s.length>=2?Xt(s[1].coordinate-s[0].coordinate):1,b=QV(i,y,x);return c==="equidistantPreserveStart"?ZV(y,b,h,s,l):c==="equidistantPreserveEnd"?JV(y,b,h,s,l):(c==="preserveStart"||c==="preserveStartEnd"?g=aG(y,b,h,s,l,c==="preserveStartEnd"):g=nG(y,b,h,s,l),g.filter(j=>j.isShow))}var sG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=r?r.getBoundingClientRect().width:0,c=s+i,u=l+c+o+(r?n:0);return Math.round(u)}return 0},iG=["axisLine","width","height","className","hide","ticks","axisType"];function lG(e,t){if(e==null)return{};var r,n,s=oG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(null,arguments)}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t,r){return(t=dG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=uG(e,"string");return typeof t=="symbol"?t:t+""}function uG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Dt.axis};function mG(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=Ot(Ot(Ot({},c),en(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!l||i==="bottom"&&l);u=Ot(Ot({},u),{},{x1:t,y1:r+d*s,x2:t+n,y2:r+d*s})}else{var m=+(i==="left"&&!l||i==="right"&&l);u=Ot(Ot({},u),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return f.createElement("line",Ei({},u,{className:Ge("recharts-cartesian-axis-line",ki(o,"className"))}))}function fG(e,t,r,n,s,i,l,o,c){var u,d,m,p,g,x,v=o?-1:1,h=e.tickSize||l,y=Pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,p=r+ +!o*s,m=p-v*h,x=m-v*c,g=y;break;case"left":m=p=e.coordinate,d=t+ +!o*n,u=d-v*h,g=u-v*c,x=y;break;case"right":m=p=e.coordinate,d=t+ +o*n,u=d+v*h,g=u+v*c,x=y;break;default:u=d=e.coordinate,p=r+ +o*s,m=p+v*h,x=m+v*c,g=y;break}return{line:{x1:u,y1:m,x2:d,y2:p},tick:{x:g,y:x}}}function pG(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function hG(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function gG(e){var{option:t,tickProps:r,value:n}=e,s,i=Ge(r.className,"recharts-cartesian-axis-tick-value");if(f.isValidElement(t))s=f.cloneElement(t,Ot(Ot({},r),{},{className:i}));else if(typeof t=="function")s=t(Ot(Ot({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ge(l,t==null?void 0:t.className)),s=f.createElement(Wp,Ei({},r,{className:l}),n)}return s}var xG=f.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:i,tickFormatter:l,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:m,x:p,y:g,width:x,height:v,tickSize:h,tickMargin:y,fontSize:b,letterSpacing:j,getTicksConfig:P,events:_,axisType:C}=e,O=Tb(Ot(Ot({},P),{},{ticks:r}),b,j),E=pG(d,m),k=hG(d,m),T=en(P),A=Ni(n),D={};typeof s=="object"&&(D=s);var S=Ot(Ot({},T),{},{fill:"none"},D),L=O.map(Q=>Ot({entry:Q},fG(Q,p,g,x,v,d,h,m,y))),F=L.map(Q=>{var{entry:I,line:M}=Q;return f.createElement(Jt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},s&&f.createElement("line",Ei({},S,M,{className:Ge("recharts-cartesian-axis-tick-line",ki(s,"className"))})))}),X=L.map((Q,I)=>{var{entry:M,tick:W}=Q,B=Ot(Ot(Ot(Ot({textAnchor:E,verticalAnchor:k},T),{},{stroke:"none",fill:i},A),W),{},{index:I,payload:M,visibleTicksCount:O.length,tickFormatter:l,padding:c},u);return f.createElement(Jt,Ei({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Gc(_,M,I)),n&&f.createElement(gG,{option:n,tickProps:B,value:"".concat(typeof l=="function"?l(M.value,I):M.value).concat(o||"")}))});return f.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},X.length>0&&f.createElement(Hr,{zIndex:Dt.label},f.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},X)),F.length>0&&f.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},F))}),yG=f.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:l,ticks:o,axisType:c}=e,u=lG(e,iG),[d,m]=f.useState(""),[p,g]=f.useState(""),x=f.useRef(null);f.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var h;return sG({ticks:x.current,label:(h=e.labelRef)===null||h===void 0?void 0:h.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=f.useCallback(h=>{if(h){var y=h.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=y;var b=y[0];if(b){var j=window.getComputedStyle(b),P=j.fontSize,_=j.letterSpacing;(P!==d||_!==p)&&(m(P),g(_))}}},[d,p]);return l||n!=null&&n<=0||s!=null&&s<=0?null:f.createElement(Hr,{zIndex:e.zIndex},f.createElement(Jt,{className:Ge("recharts-cartesian-axis",i)},f.createElement(mG,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:en(e)}),f.createElement(xG,{ref:v,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),f.createElement(xK,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},f.createElement(PK,{label:e.label,labelRef:e.labelRef}),e.children)))}),Db=f.forwardRef((e,t)=>{var r=$t(e,Aa);return f.createElement(yG,Ei({},r,{ref:t}))});Db.displayName="CartesianAxis";var vG=["x1","y1","x2","y2","key"],bG=["offset"],jG=["xAxisId","yAxisId"],wG=["xAxisId","yAxisId"];function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){NG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NG(e,t,r){return(t=SG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(null,arguments)}function wf(e,t){if(e==null)return{};var r,n,s=_G(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _G(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PG=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:l,ry:o}=e;return f.createElement("rect",{x:n,y:s,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function vO(e){var{option:t,lineItemProps:r}=e,n;if(f.isValidElement(t))n=f.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var s,{x1:i,y1:l,x2:o,y2:c,key:u}=r,d=wf(r,vG),m=(s=en(d))!==null&&s!==void 0?s:{},{offset:p}=m,g=wf(m,bG);n=f.createElement("line",oi({},g,{x1:i,y1:l,x2:o,y2:c,fill:"none",key:u}))}return n}function CG(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=e,o=wf(e,jG),c=s.map((u,d)=>{var m=hr(hr({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return f.createElement(vO,{key:"line-".concat(d),option:n,lineItemProps:m})});return f.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function OG(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=e,o=wf(e,wG),c=s.map((u,d)=>{var m=hr(hr({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return f.createElement(vO,{option:n,lineItemProps:m,key:"line-".concat(d)})});return f.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function EG(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==u[0]&&u.unshift(0);var d=u.map((m,p)=>{var g=!u[p+1],x=g?s+l-m:u[p+1]-m;if(x<=0)return null;var v=p%t.length;return f.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:x,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function AG(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==u[0]&&u.unshift(0);var d=u.map((m,p)=>{var g=!u[p+1],x=g?s+l-m:u[p+1]-m;if(x<=0)return null;var v=p%r.length;return f.createElement("rect",{key:"react-".concat(p),x:m,y:i,width:x,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var TG=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return Z4(Tb(hr(hr(hr({},Aa),r),{},{ticks:J4(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},DG=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return Z4(Tb(hr(hr(hr({},Aa),r),{},{ticks:J4(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},IG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Dt.grid};function ah(e){var t=tv(),r=rv(),n=dP(),s=hr(hr({},$t(e,IG)),{},{x:Pe(e.x)?e.x:n.left,y:Pe(e.y)?e.y:n.top,width:Pe(e.width)?e.width:n.width,height:Pe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:u,height:d,syncWithTicks:m,horizontalValues:p,verticalValues:g}=s,x=vr(),v=Ce(k=>KN(k,"xAxis",i,x)),h=Ce(k=>KN(k,"yAxis",l,x));if(!ma(u)||!ma(d)||!Pe(o)||!Pe(c))return null;var y=s.verticalCoordinatesGenerator||TG,b=s.horizontalCoordinatesGenerator||DG,{horizontalPoints:j,verticalPoints:P}=s;if((!j||!j.length)&&typeof b=="function"){var _=p&&p.length,C=b({yAxis:h?hr(hr({},h),{},{ticks:_?p:h.ticks}):void 0,width:t??u,height:r??d,offset:n},_?!0:m);Ym(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(j=C)}if((!P||!P.length)&&typeof y=="function"){var O=g&&g.length,E=y({xAxis:v?hr(hr({},v),{},{ticks:O?g:v.ticks}):void 0,width:t??u,height:r??d,offset:n},O?!0:m);Ym(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(P=E)}return f.createElement(Hr,{zIndex:s.zIndex},f.createElement("g",{className:"recharts-cartesian-grid"},f.createElement(PG,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),f.createElement(EG,oi({},s,{horizontalPoints:j})),f.createElement(AG,oi({},s,{verticalPoints:P})),f.createElement(CG,oi({},s,{offset:n,horizontalPoints:j,xAxis:v,yAxis:h})),f.createElement(OG,oi({},s,{offset:n,verticalPoints:P,xAxis:v,yAxis:h}))))}ah.displayName="CartesianGrid";var MG={},bO=Ur({name:"errorBars",initialState:MG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:kJ,replaceErrorBar:_J,removeErrorBar:PJ}=bO.actions,$G=bO.reducer,LG=["children"];function RG(e,t){if(e==null)return{};var r,n,s=FG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function FG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},BG=f.createContext(zG);function jO(e){var{children:t}=e,r=RG(e,LG);return f.createElement(BG.Provider,{value:r},t)}function Ib(e,t){var r,n,s=Ce(u=>Za(u,e)),i=Ce(u=>Ja(u,t)),l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:qt.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Vt.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function wO(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Eb(),{needClipX:i,needClipY:l,needClip:o}=Ib(t,r);if(!o||!s)return null;var{x:c,y:u,width:d,height:m}=s;return f.createElement("clipPath",{id:"clipPath-".concat(n)},f.createElement("rect",{x:i?c:c-d/2,y:l?u:u-m/2,width:i?d:d*2,height:l?m:m*2}))}var NO=(e,t,r,n)=>Ts(e,"xAxis",t,n),SO=(e,t,r,n)=>As(e,"xAxis",t,n),kO=(e,t,r,n)=>Ts(e,"yAxis",r,n),_O=(e,t,r,n)=>As(e,"yAxis",r,n),UG=Y([He,NO,kO,SO,_O],(e,t,r,n,s)=>zs(e,"xAxis")?Al(t,n,!1):Al(r,s,!1)),HG=(e,t,r,n,s)=>s;function WG(e){return e.type==="line"}var KG=Y([Lp,HG],(e,t)=>e.filter(WG).find(r=>r.id===t)),qG=Y([He,NO,kO,SO,_O,KG,UG,Ov],(e,t,r,n,s,i,l,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:p}=i,g;if(p!=null&&p.length>0?g=p:g=c==null?void 0:c.slice(u,d+1),g!=null)return LY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:l,displayedData:g})}});function VG(e){var t=Ni(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:i}=t,l=Number(s),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(o)||o<0)&&(o=n),{r:l,strokeWidth:o}}return{r,strokeWidth:n}}var GG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=f;function YG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QG=typeof Object.is=="function"?Object.is:YG,XG=gd.useSyncExternalStore,ZG=gd.useRef,JG=gd.useEffect,eY=gd.useMemo,tY=gd.useDebugValue;GG.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=ZG(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=eY(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),s!==void 0&&l.hasValue){var x=l.value;if(s(x,g))return m=x}return m=g}if(x=m,QG(d,g))return x;var v=n(g);return s!==void 0&&s(x,v)?(d=g,x):(d=g,m=v)}var u=!1,d,m,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,s]);var o=XG(e,i[0],i[1]);return JG(function(){l.hasValue=!0,l.value=o},[o]),tY(o),o};function rY(e){e()}function nY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){rY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var q2={notify(){},get:()=>[]};function aY(e,t){let r,n=q2,s=0,i=!1;function l(v){d();const h=n.subscribe(v);let y=!1;return()=>{y||(y=!0,h(),m())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),n=nY())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=q2)}function p(){i||(i=!0,d())}function g(){i&&(i=!1,m())}const x={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>n};return x}var sY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iY=sY(),lY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oY=lY(),cY=()=>iY||oY?f.useLayoutEffect:f.useEffect,dY=cY();function V2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function uY(e,t){if(V2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!V2(e[r[s]],t[r[s]]))return!1;return!0}var pg=Symbol.for("react-redux-context"),hg=typeof globalThis<"u"?globalThis:{};function mY(){if(!f.createContext)return{};const e=hg[pg]??(hg[pg]=new Map);let t=e.get(f.createContext);return t||(t=f.createContext(null),e.set(f.createContext,t)),t}var fY=mY();function pY(e){const{children:t,context:r,serverState:n,store:s}=e,i=f.useMemo(()=>{const c=aY(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),l=f.useMemo(()=>s.getState(),[s]);dY(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=r||fY;return f.createElement(o.Provider,{value:i},t)}var hY=pY,gY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function xY(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function sh(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(gY.has(n)){if(e[n]==null&&t[n]==null)continue;if(!uY(e[n],t[n]))return!1}else if(!xY(e[n],t[n]))return!1;return!0}var yY=["id"],vY=["type","layout","connectNulls","needClip","shape"],bY=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(null,arguments)}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){jY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jY(e,t,r){return(t=wY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=NY(e,"string");return typeof t=="symbol"?t:t+""}function NY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mb(e,t){if(e==null)return{};var r,n,s=SY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kY=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Kl(r,t),payload:e}]},_Y=f.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:l,hide:o,unit:c,tooltipType:u,id:d}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Kl(l,t),hide:o,type:u,color:n,unit:c,graphicalItemId:d}};return f.createElement(Cb,{tooltipEntrySettings:m})}),PO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function PY(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var CY=(e,t,r)=>{var n=r.reduce((m,p)=>m+p);if(!n)return PO(t,e);for(var s=Math.floor(e/n),i=e%n,l=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var d=o.length%2===0?[0,l]:[l];return[...PY(r,s),...o,...d].map(m=>"".concat(m,"px")).join(", ")};function OY(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:l}=n,{id:o}=n,c=Mb(n,yY),u=en(c);return f.createElement(dV,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:l,clipPathId:t})}function EY(e){var{showLabels:t,children:r,points:n}=e,s=f.useMemo(()=>n==null?void 0:n.map(i=>{var l,o,c={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ra(ra({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return f.createElement(Z3,{value:t?s:void 0},r)}function Y2(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:u,shape:d}=i,m=Mb(i,vY),p=ra(ra({},_r(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:o,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return f.createElement(f.Fragment,null,(n==null?void 0:n.length)>1&&f.createElement(Sb,$c({shapeType:"curve",option:d},p,{pathRef:r})),f.createElement(OY,{points:n,clipPathId:t,props:i}))}function AY(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function TY(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:m,animateNewValues:p,width:g,height:x,onAnimationEnd:v,onAnimationStart:h}=r,y=s.current,b=td(l,"recharts-line-"),j=f.useRef(b),[P,_]=f.useState(!1),C=!P,O=f.useCallback(()=>{typeof v=="function"&&v(),_(!1)},[v]),E=f.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]),k=AY(n.current),T=f.useRef(0);j.current!==b&&(T.current=i.current,j.current=b);var A=T.current;return f.createElement(EY,{points:l,showLabels:C},r.children,f.createElement(ed,{animationId:b,begin:u,duration:d,isActive:c,easing:m,onAnimationEnd:O,onAnimationStart:E,key:b},D=>{var S=ut(A,k+A,D),L=Math.min(S,k),F;if(c)if(o){var X="".concat(o).split(/[,\s]+/gim).map(M=>parseFloat(M));F=CY(L,k,X)}else F=PO(k,L);else F=o==null?void 0:String(o);if(D>0&&k>0&&(s.current=l,i.current=Math.max(i.current,L)),y){var Q=y.length/l.length,I=D===1?l:l.map((M,W)=>{var B=Math.floor(W*Q);if(y[B]){var ae=y[B];return ra(ra({},M),{},{x:ut(ae.x,M.x,D),y:ut(ae.y,M.y,D)})}return p?ra(ra({},M),{},{x:ut(g*2,M.x,D),y:ut(x/2,M.y,D)}):ra(ra({},M),{},{x:M.x,y:M.y})});return s.current=I,f.createElement(Y2,{props:r,points:I,clipPathId:t,pathRef:n,strokeDasharray:F})}return f.createElement(Y2,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:F})}),f.createElement(yb,{label:r.label}))}function DY(e){var{clipPathId:t,props:r}=e,n=f.useRef(null),s=f.useRef(0),i=f.useRef(null);return f.createElement(TY,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var IY=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Je(e.payload,t)}};class MY extends f.Component{render(){var{hide:t,dot:r,points:n,className:s,xAxisId:i,yAxisId:l,top:o,left:c,width:u,height:d,id:m,needClip:p,zIndex:g}=this.props;if(t)return null;var x=Ge("recharts-line",s),v=m,{r:h,strokeWidth:y}=VG(r),b=lO(r),j=h*2+y,P=p?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return f.createElement(Hr,{zIndex:g},f.createElement(Jt,{className:x},p&&f.createElement("defs",null,f.createElement(wO,{clipPathId:v,xAxisId:i,yAxisId:l}),!b&&f.createElement("clipPath",{id:"clipPath-dots-".concat(v)},f.createElement("rect",{x:c-j/2,y:o-j/2,width:u+j,height:d+j}))),f.createElement(jO,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:IY,errorBarOffset:0},f.createElement(DY,{props:this.props,clipPathId:v}))),f.createElement(EV,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:P}))}}var CO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Dt.line,type:"linear"};function $Y(e){var t=$t(e,CO),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:m,legendType:p,xAxisId:g,yAxisId:x,id:v}=t,h=Mb(t,bY),{needClip:y}=Ib(g,x),b=Eb(),j=ql(),P=vr(),_=Ce(T=>qG(T,g,x,P,v));if(j!=="horizontal"&&j!=="vertical"||_==null||b==null)return null;var{height:C,width:O,x:E,y:k}=b;return f.createElement(MY,$c({},h,{id:v,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:l,isAnimationActive:d,hide:u,label:m,legendType:p,xAxisId:g,yAxisId:x,points:_,layout:j,height:C,width:O,left:E,top:k,needClip:y}))}function LY(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var m=Je(u,l);if(t==="horizontal"){var p=t1({axis:r,ticks:s,bandSize:o,entry:u,index:d}),g=pt(m)?null:n.scale(m);return{x:p,y:g,value:m,payload:u}}var x=pt(m)?null:r.scale(m),v=t1({axis:n,ticks:i,bandSize:o,entry:u,index:d});return x==null||v==null?null:{x,y:v,value:m,payload:u}}).filter(Boolean)}function RY(e){var t=$t(e,CO),r=vr();return f.createElement(Ob,{id:t.id,type:"line"},n=>f.createElement(f.Fragment,null,f.createElement(cO,{legendPayload:kY(t)}),f.createElement(_Y,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),f.createElement(uO,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),f.createElement($Y,$c({},t,{id:n}))))}var OO=f.memo(RY,sh);OO.displayName="Line";function $i(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:fO}function Li(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:fO}var FY="Invariant failed";function zY(e,t){throw new Error(FY)}function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fx.apply(null,arguments)}function Nf(e){return f.createElement(Sb,fx({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var BY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Pe(t))return t;var i=Pe(n)||pt(n);return i?t(n,s):(i||zY(),r)}},UY=(e,t,r)=>r,HY=(e,t)=>t,xd=Y([Lp,HY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),WY=Y([xd],e=>e==null?void 0:e.maxBarSize),KY=(e,t,r,n)=>n,qY=Y([He,Lp,$i,Li,UY],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),VY=(e,t,r)=>{var n=He(e),s=$i(e,t),i=Li(e,t);if(!(s==null||i==null))return n==="horizontal"?sx(e,"yAxis",i,r):sx(e,"xAxis",s,r)},GY=(e,t)=>{var r=He(e),n=$i(e,t),s=Li(e,t);if(!(n==null||s==null))return r==="horizontal"?WN(e,"xAxis",n):WN(e,"yAxis",s)},YY=Y([qY,v9,GY],AV),QY=(e,t,r)=>{var n,s,i=xd(e,t);if(i!=null){var l=$i(e,t),o=Li(e,t);if(!(l==null||o==null)){var c=He(e),u=OC(e),{maxBarSize:d}=i,m=pt(d)?u:d,p,g;return c==="horizontal"?(p=Ts(e,"xAxis",l,r),g=As(e,"xAxis",l,r)):(p=Ts(e,"yAxis",o,r),g=As(e,"yAxis",o,r)),(n=(s=Al(p,g,!0))!==null&&s!==void 0?s:m)!==null&&n!==void 0?n:0}}},EO=(e,t,r)=>{var n=He(e),s=$i(e,t),i=Li(e,t);if(!(s==null||i==null)){var l,o;return n==="horizontal"?(l=Ts(e,"xAxis",s,r),o=As(e,"xAxis",s,r)):(l=Ts(e,"yAxis",i,r),o=As(e,"yAxis",i,r)),Al(l,o)}},XY=Y([YY,OC,y9,EC,QY,EO,WY],$V),ZY=(e,t,r)=>{var n=$i(e,t);if(n!=null)return Ts(e,"xAxis",n,r)},JY=(e,t,r)=>{var n=Li(e,t);if(n!=null)return Ts(e,"yAxis",n,r)},eQ=(e,t,r)=>{var n=$i(e,t);if(n!=null)return As(e,"xAxis",n,r)},tQ=(e,t,r)=>{var n=Li(e,t);if(n!=null)return As(e,"yAxis",n,r)},rQ=Y([XY,xd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),nQ=Y([VY,xd],LV),aQ=Y([Bt,Jy,ZY,JY,eQ,tQ,rQ,He,i9,EO,nQ,xd,KY],(e,t,r,n,s,i,l,o,c,u,d,m,p)=>{var{chartData:g,dataStartIndex:x,dataEndIndex:v}=c;if(!(m==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||s==null||i==null||u==null)){var{data:h}=m,y;if(h!=null&&h.length>0?y=h:y=g==null?void 0:g.slice(x,v+1),y!=null)return DQ({layout:o,barSettings:m,pos:l,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:p,dataStartIndex:x})}}),sQ=["index"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(null,arguments)}function iQ(e,t){if(e==null)return{};var r,n,s=lQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AO=f.createContext(void 0),oQ=e=>{var t=f.useContext(AO);if(t!=null)return t.stackId;if(e!=null)return o7(e)},cQ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),dQ=e=>{var t=f.useContext(AO);if(t!=null){var{stackId:r}=t;return"url(#".concat(cQ(r,e),")")}},uQ=e=>{var{index:t}=e,r=iQ(e,sQ),n=dQ(t);return f.createElement(Jt,px({className:"recharts-bar-stack-layer",clipPath:n},r))},mQ=["onMouseEnter","onMouseLeave","onClick"],fQ=["value","background","tooltipPosition"],pQ=["id"],hQ=["onMouseEnter","onClick","onMouseLeave"];function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(null,arguments)}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){gQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gQ(e,t,r){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sf(e,t){if(e==null)return{};var r,n,s=vQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function vQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bQ=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Kl(r,t),payload:e}]},jQ=f.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:l,unit:o,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Kl(i,t),hide:l,type:c,color:s,unit:o,graphicalItemId:u}};return f.createElement(Cb,{tooltipEntrySettings:d})});function wQ(e){var t=Ce(Ds),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,u=Sf(i,mQ),d=kb(l,n,i.id),m=_b(o),p=Pb(c,n,i.id);if(!s||r==null)return null;var g=Ni(s);return f.createElement(Hr,{zIndex:RV(s,Dt.barBackground)},r.map((x,v)=>{var{value:h,background:y,tooltipPosition:b}=x,j=Sf(x,fQ);if(!y)return null;var P=d(x,v),_=m(x,v),C=p(x,v),O=Nr(Nr(Nr(Nr(Nr({option:s,isActive:String(v)===t},j),{},{fill:"#eee"},y),g),Gc(u,x,v)),{},{onMouseEnter:P,onMouseLeave:_,onClick:C,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return f.createElement(Nf,Ha({key:"background-bar-".concat(v)},O))}))}function NQ(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var l={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Nr(Nr({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return f.createElement(Z3,{value:t?s:void 0},r)}function SQ(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:l}=e,o=Ce(Ds),c=Ce(ub),u=r&&String(i)===o&&(c==null||l===c),d=u?r:t;return u?f.createElement(Hr,{zIndex:Dt.activeBar},f.createElement(Nf,Ha({},n,{name:String(n.name)},s,{isActive:u,option:d,index:i,dataKey:l}))):f.createElement(Nf,Ha({},n,{name:String(n.name)},s,{isActive:u,option:d,index:i,dataKey:l}))}function kQ(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return f.createElement(Nf,Ha({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:i}))}function _Q(e){var t,{data:r,props:n}=e,s=(t=en(n))!==null&&t!==void 0?t:{},{id:i}=s,l=Sf(s,pQ),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:m,onMouseLeave:p}=n,g=Sf(n,hQ),x=kb(d,c,i),v=_b(p),h=Pb(m,c,i);return r?f.createElement(f.Fragment,null,r.map((y,b)=>f.createElement(uQ,Ha({index:b,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(b),className:"recharts-bar-rectangle"},Gc(g,y,b),{onMouseEnter:x(y,b),onMouseLeave:v(y,b),onClick:h(y,b)}),u?f.createElement(SQ,{shape:o,activeBar:u,baseProps:l,entry:y,index:b,dataKey:c}):f.createElement(kQ,{shape:o,baseProps:l,entry:y,index:b,dataKey:c})))):null}function PQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,m=r.current,p=td(t,"recharts-bar-"),[g,x]=f.useState(!1),v=!g,h=f.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),y=f.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return f.createElement(NQ,{showLabels:v,rects:n},f.createElement(ed,{animationId:p,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:h,onAnimationStart:y,key:p},b=>{var j=b===1?n:n==null?void 0:n.map((P,_)=>{var C=m&&m[_];if(C)return Nr(Nr({},P),{},{x:ut(C.x,P.x,b),y:ut(C.y,P.y,b),width:ut(C.width,P.width,b),height:ut(C.height,P.height,b)});if(s==="horizontal"){var O=ut(0,P.height,b),E=ut(P.stackedBarStart,P.y,b);return Nr(Nr({},P),{},{y:E,height:O})}var k=ut(0,P.width,b),T=ut(P.stackedBarStart,P.x,b);return Nr(Nr({},P),{},{width:k,x:T})});return b>0&&(r.current=j??null),j==null?null:f.createElement(Jt,null,f.createElement(_Q,{props:t,data:j}))}),f.createElement(yb,{label:t.label}),t.children)}function CQ(e){var t=f.useRef(null);return f.createElement(PQ,{previousRectanglesRef:t,props:e})}var TO=0,OQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Je(e,t)}};class EQ extends f.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:l,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ge("recharts-bar",s),m=u;return f.createElement(Jt,{className:d,id:u},o&&f.createElement("defs",null,f.createElement(wO,{clipPathId:m,xAxisId:i,yAxisId:l})),f.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},f.createElement(wQ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),f.createElement(CQ,this.props)))}}var AQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:TO,xAxisId:0,yAxisId:0,zIndex:Dt.bar};function TQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:m}=Ib(t,r),p=ql(),g=vr(),x=Nb(e.children,hd),v=Ce(b=>aQ(b,e.id,g,x));if(p!=="vertical"&&p!=="horizontal")return null;var h,y=v==null?void 0:v[0];return y==null||y.height==null||y.width==null?h=0:h=p==="vertical"?y.height/2:y.width/2,f.createElement(jO,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:OQ,errorBarOffset:h},f.createElement(EQ,Ha({},e,{layout:p,needClip:m,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function DQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:m,offset:p,cells:g,parentViewBox:x,dataStartIndex:v}=e,h=t==="horizontal"?o:l,y=d?h.scale.domain():null,b=c7({numericAxis:h}),j=h.scale(b);return m.map((P,_)=>{var C,O,E,k,T,A;if(d){var D=d[_+v];if(D==null)return null;C=n7(D,y)}else C=Je(P,r),Array.isArray(C)||(C=[b,C]);var S=BY(n,TO)(C[1],_);if(t==="horizontal"){var L,[F,X]=[o.scale(C[0]),o.scale(C[1])];O=r1({axis:l,ticks:c,bandSize:i,offset:s.offset,entry:P,index:_}),E=(L=X??F)!==null&&L!==void 0?L:void 0,k=s.size;var Q=F-X;if(T=Un(Q)?0:Q,A={x:O,y:p.top,width:k,height:p.height},Math.abs(S)>0&&Math.abs(T)<Math.abs(S)){var I=Xt(T||S)*(Math.abs(S)-Math.abs(T));E-=I,T+=I}}else{var[M,W]=[l.scale(C[0]),l.scale(C[1])];if(O=M,E=r1({axis:o,ticks:u,bandSize:i,offset:s.offset,entry:P,index:_}),k=W-M,T=s.size,A={x:p.left,y:E,width:p.width,height:T},Math.abs(S)>0&&Math.abs(k)<Math.abs(S)){var B=Xt(k||S)*(Math.abs(S)-Math.abs(k));k+=B}}if(O==null||E==null||k==null||T==null)return null;var ae=Nr(Nr({},P),{},{stackedBarStart:j,x:O,y:E,width:k,height:T,value:d?C:C[1],payload:P,background:A,tooltipPosition:{x:O+k/2,y:E+T/2},parentViewBox:x},g&&g[_]&&g[_].props);return ae}).filter(Boolean)}function IQ(e){var t=$t(e,AQ),r=oQ(t.stackId),n=vr();return f.createElement(Ob,{id:t.id,type:"bar"},s=>f.createElement(f.Fragment,null,f.createElement(cO,{legendPayload:bQ(t)}),f.createElement(jQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:s}),f.createElement(uO,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),f.createElement(Hr,{zIndex:t.zIndex},f.createElement(TQ,Ha({},t,{id:s})))))}var $b=f.memo(IQ,sh);$b.displayName="Bar";var MQ=["domain","range"],$Q=["domain","range"];function X2(e,t){if(e==null)return{};var r,n,s=LQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function LQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Z2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function DO(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=X2(e,MQ),{domain:i,range:l}=t,o=X2(t,$Q);return!Z2(r,i)||!Z2(n,l)?!1:sh(s,o)}var RQ=["dangerouslySetInnerHTML","ticks","scale"],FQ=["id","scale"];function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hx.apply(null,arguments)}function J2(e,t){if(e==null)return{};var r,n,s=zQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BQ(e){var t=st(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(hV(e)):r.current!==e&&t(gV({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(xV(r.current)),r.current=null)},[t]),null}var UQ=e=>{var{xAxisId:t,className:r}=e,n=Ce(Jy),s=vr(),i="xAxis",l=Ce(y=>o3(y,i,t,s)),o=Ce(y=>a3(y,t)),c=Ce(y=>gU(y,t)),u=Ce(y=>FC(y,t));if(o==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:m,scale:p}=e,g=J2(e,RQ),{id:x,scale:v}=u,h=J2(u,FQ);return f.createElement(Db,hx({},g,h,{x:c.x,y:c.y,width:o.width,height:o.height,className:Ge("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},HQ={allowDataOverflow:qt.allowDataOverflow,allowDecimals:qt.allowDecimals,allowDuplicatedCategory:qt.allowDuplicatedCategory,angle:qt.angle,axisLine:Aa.axisLine,height:qt.height,hide:!1,includeHidden:qt.includeHidden,interval:qt.interval,minTickGap:qt.minTickGap,mirror:qt.mirror,orientation:qt.orientation,padding:qt.padding,reversed:qt.reversed,scale:qt.scale,tick:qt.tick,tickCount:qt.tickCount,tickLine:Aa.tickLine,tickSize:Aa.tickSize,type:qt.type,xAxisId:0},WQ=e=>{var t=$t(e,HQ);return f.createElement(f.Fragment,null,f.createElement(BQ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),f.createElement(UQ,t))},ih=f.memo(WQ,DO);ih.displayName="XAxis";var KQ=["dangerouslySetInnerHTML","ticks","scale"],qQ=["id","scale"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function eS(e,t){if(e==null)return{};var r,n,s=VQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GQ(e){var t=st(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(yV(e)):r.current!==e&&t(vV({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(bV(r.current)),r.current=null)},[t]),null}var YQ=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=f.useRef(null),l=f.useRef(null),o=Ce(Jy),c=vr(),u=st(),d="yAxis",m=Ce(C=>s3(C,t)),p=Ce(C=>yU(C,t)),g=Ce(C=>o3(C,d,t,c)),x=Ce(C=>zC(C,t));if(f.useLayoutEffect(()=>{if(!(n!=="auto"||!m||xb(s)||f.isValidElement(s)||x==null)){var C=i.current;if(C){var O=C.getCalculatedWidth();Math.round(m.width)!==Math.round(O)&&u(jV({id:t,width:O}))}}},[g,m,u,s,t,n,x]),m==null||p==null||x==null)return null;var{dangerouslySetInnerHTML:v,ticks:h,scale:y}=e,b=eS(e,KQ),{id:j,scale:P}=x,_=eS(x,qQ);return f.createElement(Db,gx({},b,_,{ref:i,labelRef:l,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Ge("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:g,axisType:d}))},QQ={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:Vt.allowDecimals,allowDuplicatedCategory:Vt.allowDuplicatedCategory,angle:Vt.angle,axisLine:Aa.axisLine,hide:!1,includeHidden:Vt.includeHidden,interval:Vt.interval,minTickGap:Vt.minTickGap,mirror:Vt.mirror,orientation:Vt.orientation,padding:Vt.padding,reversed:Vt.reversed,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,tickLine:Aa.tickLine,tickSize:Aa.tickSize,type:Vt.type,width:Vt.width,yAxisId:0},XQ=e=>{var t=$t(e,QQ);return f.createElement(f.Fragment,null,f.createElement(GQ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),f.createElement(YQ,t))},lh=f.memo(XQ,DO);lh.displayName="YAxis";var ZQ=(e,t)=>t,Lb=Y([ZQ,He,LC,Ht,S3,es,IH,Bt],BH),Rb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},IO=vn("mouseClick"),MO=Qc();MO.startListening({actionCreator:IO,effect:(e,t)=>{var r=e.payload,n=Lb(t.getState(),Rb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(TU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xx=vn("mouseMove"),$O=Qc(),Ru=null;$O.startListening({actionCreator:xx,effect:(e,t)=>{var r=e.payload;Ru!==null&&cancelAnimationFrame(Ru);var n=Rb(r);Ru=requestAnimationFrame(()=>{var s=t.getState(),i=sb(s,s.tooltip.settings.shared);if(i==="axis"){var l=Lb(s,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(g3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(h3())}Ru=null})}});function JQ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var tS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},LO=Ur({name:"rootProps",initialState:tS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:tS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),eX=LO.reducer,{updateOptions:tX}=LO.actions,RO=Ur({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:rX}=RO.actions,nX=RO.reducer,FO=vn("keyDown"),zO=vn("focus"),Fb=Qc();Fb.startListening({actionCreator:FO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=ib(s,to(r),dd(r),fd(r)),o=l==null?-1:Number(l);if(!(!Number.isFinite(o)||o<0)){var c=es(r);if(i==="Enter"){var u=xf(r,"axis","hover",String(s.index));t.dispatch(lx({active:!s.active,activeIndex:s.index,activeCoordinate:u}));return}var d=wU(r),m=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,g=o+p*m;if(!(c==null||g>=c.length||g<0)){var x=xf(r,"axis","hover",String(g));t.dispatch(lx({active:!0,activeIndex:g.toString(),activeCoordinate:x}))}}}}}});Fb.startListening({actionCreator:zO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",l=xf(r,"axis","hover",String(i));t.dispatch(lx({active:!0,activeIndex:i,activeCoordinate:l}))}}}});var dn=vn("externalEvent"),BO=Qc(),gg=new Map;BO.startListening({actionCreator:dn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,i=gg.get(s);i!==void 0&&cancelAnimationFrame(i);var l=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:yH(o),activeDataKey:ub(o),activeIndex:Ds(o),activeLabel:P3(o),activeTooltipIndex:Ds(o),isTooltipActive:vH(o)};r(c,n)}finally{gg.delete(s)}});gg.set(s,l)}}});var aX=Y([Jl],e=>e.tooltipItemPayloads),sX=Y([aX,md,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(o=>o.settings.graphicalItemId===n);if(s!=null){var{positions:i}=s;if(i!=null){var l=t(i,r);return l}}}),UO=vn("touchMove"),HO=Qc();HO.startListening({actionCreator:UO,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=sb(n,n.tooltip.settings.shared);if(s==="axis"){var i=r.touches[0];if(i==null)return;var l=Lb(n,Rb({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(g3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(tP),m=(o=u.getAttribute(rP))!==null&&o!==void 0?o:void 0,p=eo(n).find(v=>v.id===m);if(d==null||p==null||m==null)return;var{dataKey:g}=p,x=sX(n,d,m);t.dispatch(p3({activeDataKey:g,activeIndex:d,activeCoordinate:x,activeGraphicalItemId:m}))}}}});var iX=N4({brush:FV,cartesianAxis:wV,chartData:xW,errorBars:$G,graphicalItems:Cq,layout:XL,legend:tR,options:mW,polarAxis:WK,polarOptions:nX,referenceElements:qV,rootProps:eX,tooltip:DU,zIndex:tW}),lX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return wL({reducer:iX,preloadedState:t,middleware:n=>{var s;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([MO.middleware,$O.middleware,Fb.middleware,BO.middleware,HO.middleware])},enhancers:n=>{var s=n;return typeof n=="function"&&(s=n()),s.concat(R4({type:"raf"}))},devTools:{serialize:{replacer:JQ},name:"recharts-".concat(r)}})};function WO(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=vr(),i=f.useRef(null);if(s)return r;i.current==null&&(i.current=lX(t,n));var l=Wy;return f.createElement(hY,{context:l,store:i.current},r)}function oX(e){var{layout:t,margin:r}=e,n=st(),s=vr();return f.useEffect(()=>{s||(n(GL(t)),n(VL(r)))},[n,s,t,r]),null}var KO=f.memo(oX,sh);function qO(e){var t=st();return f.useEffect(()=>{t(tX(e))},[t,e]),null}function rS(e){var{zIndex:t,isPanorama:r}=e,n=f.useRef(null),s=st();return f.useLayoutEffect(()=>(n.current&&s(JH({zIndex:t,element:n.current,isPanorama:r})),()=>{s(eW({zIndex:t,isPanorama:r}))}),[s,t,r]),f.createElement("g",{tabIndex:-1,ref:n})}function nS(e){var{children:t,isPanorama:r}=e,n=Ce(HH);if(!n||n.length===0)return t;var s=n.filter(l=>l<0),i=n.filter(l=>l>0);return f.createElement(f.Fragment,null,s.map(l=>f.createElement(rS,{key:l,zIndex:l,isPanorama:r})),t,i.map(l=>f.createElement(rS,{key:l,zIndex:l,isPanorama:r})))}var cX=["children"];function dX(e,t){if(e==null)return{};var r,n,s=uX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(null,arguments)}var mX={width:"100%",height:"100%",display:"block"},fX=f.forwardRef((e,t)=>{var r=tv(),n=rv(),s=jP();if(!ma(r)||!ma(n))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,u,d;return l!=null&&(typeof l.tabIndex=="number"?u=l.tabIndex:u=s?0:void 0,typeof l.role=="string"?d=l.role:d=s?"application":void 0),f.createElement(Cy,kf({},l,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:mX,ref:t}),i)}),pX=e=>{var{children:t}=e,r=Ce(xp);if(!r)return null;var{width:n,height:s,y:i,x:l}=r;return f.createElement(Cy,{width:n,height:s,x:l,y:i},t)},aS=f.forwardRef((e,t)=>{var{children:r}=e,n=dX(e,cX),s=vr();return s?f.createElement(pX,null,f.createElement(nS,{isPanorama:!0},r)):f.createElement(fX,kf({ref:t},n),f.createElement(nS,{isPanorama:!1},r))});function hX(){var e=st(),[t,r]=f.useState(null),n=Ce(h7);return f.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;bt(i)&&i!==n&&e(QL(i))}},[t,e,n]),r}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){xX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xX(e,t,r){return(t=yX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(null,arguments)}var bX=()=>(_W(),null);function _f(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var jX=f.forwardRef((e,t)=>{var r,n,s=f.useRef(null),[i,l]=f.useState({containerWidth:_f((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:_f((n=e.style)===null||n===void 0?void 0:n.height)}),o=f.useCallback((u,d)=>{l(m=>{var p=Math.round(u),g=Math.round(d);return m.containerWidth===p&&m.containerHeight===g?m:{containerWidth:p,containerHeight:g}})},[]),c=f.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:m}=u.getBoundingClientRect();o(d,m);var p=x=>{var{width:v,height:h}=x[0].contentRect;o(v,h)},g=new ResizeObserver(p);g.observe(u),s.current=g}},[t,o]);return f.useEffect(()=>()=>{var u=s.current;u!=null&&u.disconnect()},[o]),f.createElement(f.Fragment,null,f.createElement(bp,{width:i.containerWidth,height:i.containerHeight}),f.createElement("div",Ai({ref:c},e)))}),wX=f.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,i]=f.useState({containerWidth:_f(r),containerHeight:_f(n)}),l=f.useCallback((c,u)=>{i(d=>{var m=Math.round(c),p=Math.round(u);return d.containerWidth===m&&d.containerHeight===p?d:{containerWidth:m,containerHeight:p}})},[]),o=f.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();l(u,d)}},[t,l]);return f.createElement(f.Fragment,null,f.createElement(bp,{width:s.containerWidth,height:s.containerHeight}),f.createElement("div",Ai({ref:o},e)))}),NX=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return f.createElement(f.Fragment,null,f.createElement(bp,{width:r,height:n}),f.createElement("div",Ai({ref:t},e)))}),SX=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return La(r)||La(n)?f.createElement(wX,Ai({},e,{ref:t})):f.createElement(NX,Ai({},e,{ref:t}))});function kX(e){return e===!0?jX:SX}var _X=f.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:m,onMouseUp:p,onTouchEnd:g,onTouchMove:x,onTouchStart:v,style:h,width:y,responsive:b,dispatchTouchEvents:j=!0}=e,P=f.useRef(null),_=st(),[C,O]=f.useState(null),[E,k]=f.useState(null),T=hX(),A=ev(),D=(A==null?void 0:A.width)>0?A.width:y,S=(A==null?void 0:A.height)>0?A.height:s,L=f.useCallback(ne=>{T(ne),typeof t=="function"&&t(ne),O(ne),k(ne),ne!=null&&(P.current=ne)},[T,t,O,k]),F=f.useCallback(ne=>{_(IO(ne)),_(dn({handler:i,reactEvent:ne}))},[_,i]),X=f.useCallback(ne=>{_(xx(ne)),_(dn({handler:u,reactEvent:ne}))},[_,u]),Q=f.useCallback(ne=>{_(h3()),_(dn({handler:d,reactEvent:ne}))},[_,d]),I=f.useCallback(ne=>{_(xx(ne)),_(dn({handler:m,reactEvent:ne}))},[_,m]),M=f.useCallback(()=>{_(zO())},[_]),W=f.useCallback(ne=>{_(FO(ne.key))},[_]),B=f.useCallback(ne=>{_(dn({handler:l,reactEvent:ne}))},[_,l]),ae=f.useCallback(ne=>{_(dn({handler:o,reactEvent:ne}))},[_,o]),fe=f.useCallback(ne=>{_(dn({handler:c,reactEvent:ne}))},[_,c]),xe=f.useCallback(ne=>{_(dn({handler:p,reactEvent:ne}))},[_,p]),te=f.useCallback(ne=>{_(dn({handler:v,reactEvent:ne}))},[_,v]),me=f.useCallback(ne=>{j&&_(UO(ne)),_(dn({handler:x,reactEvent:ne}))},[_,j,x]),je=f.useCallback(ne=>{_(dn({handler:g,reactEvent:ne}))},[_,g]),Se=kX(b);return f.createElement(I3.Provider,{value:C},f.createElement(N_.Provider,{value:E},f.createElement(Se,{width:D??(h==null?void 0:h.width),height:S??(h==null?void 0:h.height),className:Ge("recharts-wrapper",n),style:gX({position:"relative",cursor:"default",width:D,height:S},h),onClick:F,onContextMenu:B,onDoubleClick:ae,onFocus:M,onKeyDown:W,onMouseDown:fe,onMouseEnter:X,onMouseLeave:Q,onMouseMove:I,onMouseUp:xe,onTouchEnd:je,onTouchMove:me,onTouchStart:te,ref:L},f.createElement(bX,null),r)))}),PX=["width","height","responsive","children","className","style","compact","title","desc"];function CX(e,t){if(e==null)return{};var r,n,s=OX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VO=f.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:i,className:l,style:o,compact:c,title:u,desc:d}=e,m=CX(e,PX),p=en(m);return c?f.createElement(f.Fragment,null,f.createElement(bp,{width:r,height:n}),f.createElement(aS,{otherAttributes:p,title:u,desc:d},i)):f.createElement(_X,{className:l,style:o,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},f.createElement(aS,{otherAttributes:p,title:u,desc:d,ref:t},f.createElement(GV,null,i)))});function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(null,arguments)}var EX={top:5,right:5,bottom:5,left:5},AX={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:EX,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},GO=f.forwardRef(function(t,r){var n,s=$t(t.categoricalChartProps,AX),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return f.createElement(WO,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},f.createElement(hO,{chartData:u.data}),f.createElement(KO,{layout:s.layout,margin:s.margin}),f.createElement(qO,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(VO,yx({},s,{ref:r})))}),TX=["axis"],DX=f.forwardRef((e,t)=>f.createElement(GO,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TX,tooltipPayloadSearcher:gb,categoricalChartProps:e,ref:t})),IX=["axis","item"],YO=f.forwardRef((e,t)=>f.createElement(GO,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:IX,tooltipPayloadSearcher:gb,categoricalChartProps:e,ref:t}));function MX(e){var t=st();return f.useEffect(()=>{t(rX(e))},[t,e]),null}var $X=["layout"];function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function LX(e,t){if(e==null)return{};var r,n,s=RX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FX={top:5,right:5,bottom:5,left:5},QO={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:FX,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zX=f.forwardRef(function(t,r){var n,s=$t(t.categoricalChartProps,QO),{layout:i}=s,l=LX(s,$X),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,m={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return f.createElement(WO,{preloadedState:{options:m},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:o},f.createElement(hO,{chartData:s.data}),f.createElement(KO,{layout:i,margin:s.margin}),f.createElement(qO,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(MX,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),f.createElement(VO,vx({},l,{ref:r})))});function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){BX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BX(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WX=["item"],KX=lS(lS({},QO),{},{layout:"centric",startAngle:0,endAngle:360}),qX=f.forwardRef((e,t)=>{var r=$t(e,KX);return f.createElement(zX,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:WX,tooltipPayloadSearcher:gb,categoricalChartProps:r,ref:t})});const VX=({data:e,bars:t=[],xAxisKey:r="month",height:n=300,title:s,colors:i=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"]})=>a.jsxs("div",{className:"w-full",children:[s&&a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:s}),a.jsx(yp,{width:"100%",height:n,children:a.jsxs(YO,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(ah,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(ih,{dataKey:r,stroke:"#6b7280",style:{fontSize:"12px"}}),a.jsx(lh,{stroke:"#6b7280",style:{fontSize:"12px"}}),a.jsx(Hp,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),a.jsx(Jc,{wrapperStyle:{paddingTop:"20px"}}),t.map((l,o)=>a.jsx($b,{dataKey:l.dataKey,name:l.name||l.dataKey,fill:l.color||i[o%i.length],radius:[4,4,0,0]},l.dataKey))]})})]}),GX=({data:e,lines:t=[],xAxisKey:r="month",height:n=300,title:s,colors:i=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"]})=>a.jsxs("div",{className:"w-full",children:[s&&a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:s}),a.jsx(yp,{width:"100%",height:n,children:a.jsxs(DX,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(ah,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(ih,{dataKey:r,stroke:"#6b7280",style:{fontSize:"12px"}}),a.jsx(lh,{stroke:"#6b7280",style:{fontSize:"12px"}}),a.jsx(Hp,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:l=>`${l.toLocaleString()}`}),a.jsx(Jc,{wrapperStyle:{paddingTop:"20px"}}),t.map((l,o)=>a.jsx(OO,{type:"monotone",dataKey:l.dataKey,name:l.name||l.dataKey,stroke:l.color||i[o%i.length],strokeWidth:2,dot:{r:4},activeDot:{r:6}},l.dataKey))]})})]}),YX=({data:e,bars:t=[],yAxisKey:r="source",height:n=300,title:s,colors:i=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"]})=>a.jsxs("div",{className:"w-full",children:[s&&a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:s}),a.jsx(yp,{width:"100%",height:n,children:a.jsxs(YO,{layout:"vertical",data:e,margin:{top:20,right:30,left:100,bottom:5},children:[a.jsx(ah,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(ih,{type:"number",stroke:"#6b7280",style:{fontSize:"12px"}}),a.jsx(lh,{type:"category",dataKey:r,stroke:"#6b7280",style:{fontSize:"12px"},width:80}),a.jsx(Hp,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),a.jsx(Jc,{wrapperStyle:{paddingTop:"20px"}}),t.map((l,o)=>a.jsx($b,{dataKey:l.dataKey,name:l.name||l.dataKey,fill:l.color||i[o%i.length],radius:[0,4,4,0]},l.dataKey))]})})]}),QX=({data:e=[],height:t=300,title:r,colors:n=["#3b82f6","#60a5fa","#ef4444","#f59e0b","#8b5cf6","#ec4899","#10b981","#6366f1"]})=>{const s=({cx:i,cy:l,midAngle:o,innerRadius:c,outerRadius:u,percent:d})=>{const m=Math.PI/180,p=c+(u-c)*.5,g=i+p*Math.cos(-o*m),x=l+p*Math.sin(-o*m);return a.jsx("text",{x:g,y:x,fill:"white",textAnchor:g>i?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:`${(d*100).toFixed(1)}%`})};return a.jsxs("div",{className:"w-full",children:[r&&a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:r}),a.jsx(yp,{width:"100%",height:t,children:a.jsxs(qX,{children:[a.jsx(mO,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:s,outerRadius:80,innerRadius:50,fill:"#8884d8",dataKey:"value",children:e.map((i,l)=>a.jsx(hd,{fill:n[l%n.length]},`cell-${l}`))}),a.jsx(Hp,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),a.jsx(Jc,{verticalAlign:"bottom",height:36,formatter:(i,l)=>a.jsx("span",{style:{color:l.color,fontSize:"12px"},children:i})})]})})]})},XX=({maxItems:e=10,showViewAll:t=!0})=>{const[r,n]=f.useState([]),[s,i]=f.useState(!0),[l,o]=f.useState("");f.useEffect(()=>{c()},[]);const c=async()=>{var m;try{const p=await mi.today();n(((m=p.data.data)==null?void 0:m.followups)||[])}catch(p){o("Failed to load followups"),console.error(p)}finally{i(!1)}},u=m=>{if(!m)return"";const p=new Date(m),g=p.toLocaleString("default",{month:"short"}),x=p.getDate(),v=p.getFullYear();return`${g}. ${x} - ${v.toString().slice(-2)}`};if(s)return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Task / Followup's"}),a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]});if(l)return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Task / Followup's"}),a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded text-sm",children:l})]});const d=r.slice(0,e);return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Task / Followup's"}),a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:d.length===0?a.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No followups today"}):d.map((m,p)=>{const g=new Date(m.reminder_date||m.created_at).toDateString()===new Date().toDateString();return a.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsxs("span",{className:"text-xs text-gray-600",children:[g?"Today!":u(m.reminder_date||m.created_at),":"]}),a.jsx("span",{className:"text-xs text-gray-800",children:m.remark||"Call after two days"})]}),a.jsx(Lo,{className:"w-4 h-4 text-green-500 flex-shrink-0"})]},m.id||p)})}),t&&a.jsx(ca,{to:"/followups",className:"mt-4 block text-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All "})]})},ZX=({title:e="Sales Reps Performance"})=>{const[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,l]=f.useState("");f.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await sa.salesRepsStats();r(c.data.data||[])}catch(c){l("Failed to load sales reps data"),console.error(c)}finally{s(!1)}};return n?a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e&&a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:e}),a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):i?a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e&&a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:e}),a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded text-sm",children:i})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e&&a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:e}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b bg-gray-50",children:[a.jsx("th",{className:"text-left py-2 px-3 text-gray-600 font-medium text-xs",children:"Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600 font-medium text-xs",children:"Total"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600 font-medium text-xs",children:"Assigned"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600 font-medium text-xs",children:"Confirmed"})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"text-center py-4 text-gray-500 text-sm",children:"No sales reps data available"})}):t.map((c,u)=>a.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-2 px-3 text-gray-800 font-medium text-xs",children:c.name}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-700 text-xs",children:c.assigned+c.confirmed}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-700 text-xs",children:c.assigned}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-700 text-xs",children:c.confirmed})]},u))})]})})]})},JX=({title:e="Top Destinations"})=>{const[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,l]=f.useState("");f.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await sa.topDestinations();r(c.data.data||[])}catch(c){l("Failed to load destinations data"),console.error(c)}finally{s(!1)}};return n?a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e&&a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:e}),a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):i?a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e&&a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:e}),a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded text-sm",children:i})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e&&a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:e}),a.jsx("div",{className:"space-y-2",children:t.length===0?a.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No destinations data available"}):t.slice(0,6).map((c,u)=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[a.jsx("span",{className:"text-sm text-gray-800",children:c.destination}),a.jsx("span",{className:"text-sm font-semibold text-gray-800",children:c.total})]},u))})]})},eZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(0),[s,i]=f.useState(!0),[l,o]=f.useState(""),c=d=>d?`Q-${String(d).padStart(4,"0")}`:"N/A";f.useEffect(()=>{u()},[]);const u=async()=>{var d;try{const p=((d=(await bc.dueToday()).data.data)==null?void 0:d.payments)||[];t(p);const g=p.reduce((x,v)=>x+(parseFloat(v.amount)||0),0);n(g)}catch(m){o("Failed to load payments"),console.error(m)}finally{i(!1)}};return s?a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Collection"}),a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):l?a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Collection"}),a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded text-sm",children:l})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Payment Collection"}),a.jsxs("span",{className:"text-lg font-bold text-gray-800",children:[r.toLocaleString("en-IN")," INR"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b bg-gray-50",children:[a.jsx("th",{className:"text-left py-2 px-3 text-gray-600 font-medium text-xs",children:"Query ID"}),a.jsx("th",{className:"text-left py-2 px-3 text-gray-600 font-medium text-xs",children:"Customer Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600 font-medium text-xs",children:"Amount"}),a.jsx("th",{className:"text-center py-2 px-3 text-gray-600 font-medium text-xs",children:"Status"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"text-center py-4 text-gray-500 text-sm",children:"No payments available"})}):e.slice(0,5).map((d,m)=>{var p;return a.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-2 px-3 text-gray-800 font-medium text-xs",children:c(d.lead_id||d.id)}),a.jsx("td",{className:"py-2 px-3 text-gray-700 text-xs",children:((p=d.lead)==null?void 0:p.client_name)||"N/A"}),a.jsxs("td",{className:"py-2 px-3 text-right text-gray-700 text-xs",children:[parseFloat(d.amount||0).toLocaleString("en-IN"),"INR"]}),a.jsx("td",{className:"py-2 px-3 text-center",children:a.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded bg-green-100 text-green-800",children:"Cleared"})})]},d.id||m)})})]})}),e.length>5&&a.jsx(ca,{to:"/payments",className:"mt-3 block text-center text-xs text-blue-600 hover:text-blue-800",children:"View All "})]})},tZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState("");f.useEffect(()=>{l()},[]);const l=async()=>{try{const o=await sa.employeePerformance();t(o.data.data||[])}catch{t([])}finally{n(!1)}};return r?a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monthly Employee Performance"}),a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monthly Employee Performance"}),a.jsx("div",{className:"space-y-2",children:e.length===0?a.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No performance data available"}):e.slice(0,6).map((o,c)=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[a.jsx("span",{className:"text-sm text-gray-800",children:o.name||`Employee ${c+1}`}),a.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:[o.performance||80,"%"]})]},c))})]})},rZ=()=>{const[e,t]=f.useState(null),[r,n]=f.useState([]),[s,i]=f.useState([]),[l,o]=f.useState([]),[c,u]=f.useState(!0),[d,m]=f.useState("");f.useEffect(()=>{p()},[]);const p=async()=>{var h,y,b,j;try{const[P,_,C,O]=await Promise.all([sa.stats(),sa.getRevenueGrowthMonthly(),sa.upcomingTours(),sa.latestLeadNotes()]);t(P.data.data),n(_.data.data||[]),i(C.data.data||[]),o(O.data.data||[])}catch(P){console.error("Dashboard error:",P);const _=((y=(h=P.response)==null?void 0:h.data)==null?void 0:y.message)||P.message||"Failed to load dashboard data";if(((b=P.response)==null?void 0:b.status)===401){localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login";return}m(_+((j=P.response)!=null&&j.status?` (Status: ${P.response.status})`:""))}finally{u(!1)}};if(c)return a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(d)return a.jsx(ve,{children:a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d})});const g=[{name:"Confirmed",value:(e==null?void 0:e.confirmed)||0},{name:"Proposal Conv.",value:(e==null?void 0:e.proposal_confirmed)||0},{name:"Cancel",value:(e==null?void 0:e.cancelled)||0},{name:"Hot Lead",value:(e==null?void 0:e.hot_leads)||0},{name:"Proposal Sent",value:(e==null?void 0:e.proposal_sent)||0},{name:"Followups",value:(e==null?void 0:e.followups)||0},{name:"Other",value:((e==null?void 0:e.total_queries)||0)-((e==null?void 0:e.confirmed)||0)-((e==null?void 0:e.proposal_confirmed)||0)-((e==null?void 0:e.cancelled)||0)-((e==null?void 0:e.hot_leads)||0)-((e==null?void 0:e.proposal_sent)||0)-((e==null?void 0:e.followups)||0)}].filter(h=>h.value>0),x=[{label:"Proposal Sent",value:"4.2%"},{label:"Hot Lead",value:"4.2%"},{label:"Cancel",value:"4.2%"},{label:"Proposal Conv.",value:"4.2%"}],v=[{name:"Today's Queries",color:"#3b82f6",dataKey:"today_queries",link:"/leads?status=new",linkText:"View All Queries"},{name:"Proposal Sent",color:"#f59e0b",dataKey:"proposal_sent",link:"/leads?status=proposal",linkText:"View All Proposal Sent"},{name:"Hot Lead",color:"#ef4444",dataKey:"hot_leads",link:"/leads?priority=hot",linkText:"View All Hot Lead"},{name:"Proposal Conv.",color:"#8b5cf6",dataKey:"proposal_confirmed",link:"/leads?status=confirmed",linkText:"View All Proposal Conv."},{name:"Cancel",color:"#ef4444",dataKey:"cancelled",link:"/leads?status=cancelled",linkText:"View All Cancel"},{name:"Follow Up",color:"#eab308",dataKey:"followups",link:"/leads?status=followup",linkText:"View All Follow Up"},{name:"Confirmed",color:"#10b981",dataKey:"confirmed",link:"/leads?status=confirmed",linkText:"View All Confirmed"},{name:"Total Queries",color:"#1e40af",dataKey:"total_queries",link:"/leads",linkText:"View All Queries"}];return a.jsx(ve,{children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"grid grid-cols-8 gap-4 items-stretch overflow-x-auto",children:v.map((h,y)=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 h-full flex flex-col min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${h.color}20`},children:a.jsx(Bn,{className:"h-5 w-5",style:{color:h.color}})}),a.jsx(d_,{className:"h-4 w-4 text-gray-400"})]}),a.jsx("h3",{className:"text-xs font-semibold text-gray-800 mb-1",children:h.name}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 mb-2",children:(e==null?void 0:e[h.dataKey])||0}),a.jsx(ca,{to:h.link,className:"text-xs text-blue-600 hover:text-blue-800 mt-auto",children:h.linkText})]},y))}),a.jsxs("div",{className:"grid grid-cols-12 gap-6 items-start",children:[a.jsxs("div",{className:"col-span-3 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 h-full",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Upcoming Tours"}),a.jsx(QX,{title:"Queries Status",data:g,height:250,colors:["#3b82f6","#60a5fa","#ef4444","#f59e0b","#8b5cf6","#ec4899","#10b981"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 h-full",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Revenue Growth"}),a.jsx("div",{className:"space-y-3",children:x.map((h,y)=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[a.jsx("span",{className:"text-sm text-gray-700",children:h.label}),a.jsx("span",{className:"text-sm font-semibold text-gray-800",children:h.value})]},y))})]}),a.jsx(ca,{to:"/reports",className:"block w-full px-4 py-3 bg-blue-600 text-white rounded-lg text-center font-medium hover:bg-blue-700 transition-colors",children:"View Full Report's"})]}),a.jsxs("div",{className:"col-span-6 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 h-full",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Revenue Growth"}),a.jsx(GX,{data:r,xAxisKey:"month",height:250,lines:[{dataKey:"amount",name:"Revenue",color:"#10b981"}]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 h-full",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"This Year Queries / Confirmed"}),a.jsx(VX,{data:(e==null?void 0:e.this_year_queries_confirmed)||[],xAxisKey:"month",height:250,bars:[{dataKey:"queries",name:"Queries",color:"#3b82f6"},{dataKey:"confirmed",name:"Confirmed",color:"#10b981"}]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 h-full",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Latest Query Notes"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:l.length===0?a.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No notes available"}):l.map((h,y)=>a.jsxs("div",{className:"border-l-4 border-purple-500 pl-3 py-2",children:[a.jsx("p",{className:"font-medium text-sm text-gray-800",children:"Travbizz Travel IT Solutions"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:h.note||"lollipop"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(h.created_at).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]},y))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 h-full",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Top Lead Source"}),a.jsx(YX,{data:(e==null?void 0:e.top_lead_sources)||[],yAxisKey:"source",height:250,bars:[{dataKey:"total",name:"Total Queries",color:"#8b5cf6"},{dataKey:"confirmed",name:"Confirmed",color:"#10b981"}]})]})]}),a.jsxs("div",{className:"col-span-3 space-y-6",children:[a.jsx(XX,{maxItems:4,showViewAll:!1}),a.jsx(eZ,{}),a.jsx(ZX,{title:"Sales Reps."}),a.jsx(JX,{}),a.jsx(tZ,{})]})]})]})})},nZ=()=>{const e=Fs(),{logout:t,user:r}=Va(),n=[{name:"Dashboard",icon:h_,path:"/super-admin"},{name:"Companies",icon:Pl,path:"/super-admin/companies"},{name:"Subscriptions",icon:Sy,path:"/super-admin/subscriptions"},{name:"Permissions",icon:kM,path:"/super-admin/permissions"}],s=async()=>{await t(),window.location.href="/login"};return a.jsxs("div",{className:"w-64 bg-gray-900 text-white min-h-screen flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800",children:[a.jsx("h1",{className:"text-xl font-bold",children:"TravelOps"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Super Admin"})]}),a.jsx("nav",{className:"flex-1 p-4",children:a.jsx("ul",{className:"space-y-2",children:n.map(i=>{const l=i.icon,o=e.pathname===i.path;return a.jsx("li",{children:a.jsxs(ca,{to:i.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${o?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[a.jsx(l,{className:"w-5 h-5"}),a.jsx("span",{children:i.name})]})},i.path)})})}),a.jsxs("div",{className:"p-4 border-t border-gray-800",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(_y,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:(r==null?void 0:r.name)||"Super Admin"}),a.jsx("p",{className:"text-xs text-gray-400",children:r==null?void 0:r.email})]})]}),a.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-2 text-gray-300 hover:bg-gray-800 hover:text-white rounded-lg transition-colors",children:[a.jsx(rM,{className:"w-5 h-5"}),a.jsx("span",{children:"Logout"})]})]})]})},Ll=({children:e})=>a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(nZ,{}),a.jsx("div",{className:"flex-1",children:e})]}),aZ=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!0),[s,i]=f.useState(""),l=Br();f.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const c=await Ft.getCompanyStats();c.data.success&&t(c.data.data)}catch(c){i("Failed to load statistics"),console.error("Stats error:",c)}finally{n(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsx(Ll,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Super Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage all companies and their subscriptions"})]}),a.jsxs("button",{onClick:()=>l("/super-admin/companies"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),"Manage Companies"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Companies"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(e==null?void 0:e.total_companies)||0})]}),a.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:a.jsx(Pl,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Companies"}),a.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:(e==null?void 0:e.active_companies)||0})]}),a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(HM,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive Companies"}),a.jsx("p",{className:"text-3xl font-bold text-gray-600 mt-2",children:(e==null?void 0:e.inactive_companies)||0})]}),a.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:a.jsx(m_,{className:"w-6 h-6 text-gray-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:(e==null?void 0:e.total_users)||0})]}),a.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:a.jsx(_y,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:(e==null?void 0:e.expiring_soon)||0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Within 7 days"})]}),a.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:a.jsx(gl,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expired"}),a.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:(e==null?void 0:e.expired_subscriptions)||0})]}),a.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:a.jsx(Ny,{className:"w-6 h-6 text-red-600"})})]})})]}),(e==null?void 0:e.recent_companies)&&e.recent_companies.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Companies"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subdomain"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.recent_companies.map(c=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["c.",c.subdomain]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:c.domain||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.status==="active"?"bg-green-100 text-green-800":c.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(c.created_at).toLocaleDateString()})]},c.id))})]})})]})]})]})})},sZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(!1),[p,g]=f.useState(!1),[x,v]=f.useState(null),[h,y]=f.useState([]),[b,j]=f.useState({name:"",subdomain:"",domain:"",email:"",phone:"",address:"",subscription_plan_id:"",subscription_start_date:"",subscription_end_date:"",notes:"",admin_name:"",admin_email:"",admin_password:"",send_credentials_email:!0});f.useEffect(()=>{_(),P()},[]);const P=async()=>{try{const S=await Ft.getSubscriptionPlans();S.data.success&&y(S.data.data)}catch(S){console.error("Subscription plans error:",S)}},_=async()=>{try{n(!0);const S=await Ft.getCompanies({search:l});S.data.success&&t(S.data.data.data||S.data.data)}catch(S){i("Failed to load companies"),console.error("Companies error:",S)}finally{n(!1)}};f.useEffect(()=>{const S=setTimeout(()=>{l!==void 0&&_()},500);return()=>clearTimeout(S)},[l]);const C=()=>{j({name:"",subdomain:"",domain:"",email:"",phone:"",address:"",subscription_plan_id:"",subscription_start_date:"",subscription_end_date:"",notes:"",admin_name:"",admin_email:"",admin_password:"",send_credentials_email:!0}),u(!0)},O=S=>{v(S),j({name:S.name,subdomain:S.subdomain,domain:S.domain||"",email:S.email||"",phone:S.phone||"",address:S.address||"",subscription_plan_id:S.subscription_plan_id||"",subscription_start_date:S.subscription_start_date||"",subscription_end_date:S.subscription_end_date||"",notes:S.notes||"",admin_name:"",admin_email:"",admin_password:"",send_credentials_email:!1}),m(!0)},E=async S=>{try{const L=await Ft.getCompany(S.id);L.data.success&&(v(L.data.data),g(!0))}catch{i("Failed to load company details")}},k=async S=>{if(window.confirm("Are you sure you want to delete this company?"))try{await Ft.deleteCompany(S),_()}catch{i("Failed to delete company")}},T=async S=>{var L,F,X,Q;S.preventDefault(),i("");try{c?(await Ft.createCompany(b),u(!1)):d&&(await Ft.updateCompany(x.id,b),m(!1)),_(),j({name:"",subdomain:"",domain:"",email:"",phone:"",address:"",subscription_plan_id:"",subscription_start_date:"",subscription_end_date:"",notes:"",admin_name:"",admin_email:"",admin_password:"",send_credentials_email:!0})}catch(I){i((F=(L=I.response)==null?void 0:L.data)!=null&&F.message||(Q=(X=I.response)==null?void 0:X.data)!=null&&Q.errors?Object.values(I.response.data.errors).flat().join(", "):"Failed to save company")}},A=S=>S.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),D=S=>{j({...b,name:S}),c&&!b.subdomain&&j({...b,name:S,subdomain:A(S)})};return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsx(Ll,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Company Management"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage all registered companies"})]}),a.jsxs("button",{onClick:C,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),"Add Company"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search companies...",value:l,onChange:S=>o(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subdomain URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Login URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:"No companies found"})}):e.map(S=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-blue-600 font-mono",children:S.crm_url?S.crm_url.replace("https://",""):`c.${S.subdomain}${S.domain?"."+S.domain.split(".").slice(-2).join("."):""}`}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Subdomain: ",S.subdomain]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:S.domain||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:S.email||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("a",{href:S.crm_url||`https://c.${S.subdomain}.${S.domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1",children:[S.crm_url?S.crm_url.replace("https://",""):`c.${S.subdomain}.${S.domain}`,a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full w-fit ${S.status==="active"?"bg-green-100 text-green-800":S.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:S.status}),S.subscription_plan&&a.jsx("span",{className:"text-xs text-gray-500",children:S.subscription_plan.name}),S.subscription_end_date&&a.jsx("div",{className:"flex items-center gap-1 text-xs",children:new Date(S.subscription_end_date)<new Date?a.jsxs(a.Fragment,{children:[a.jsx(Ny,{className:"w-3 h-3 text-red-500"}),a.jsx("span",{className:"text-red-600",children:"Expired"})]}):new Date(S.subscription_end_date)<=new Date(Date.now()+7*24*60*60*1e3)?a.jsxs(a.Fragment,{children:[a.jsx(gl,{className:"w-3 h-3 text-orange-500"}),a.jsxs("span",{className:"text-orange-600",children:["Expires ",new Date(S.subscription_end_date).toLocaleDateString()]})]}):a.jsxs("span",{className:"text-gray-500",children:["Expires ",new Date(S.subscription_end_date).toLocaleDateString()]})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>E(S),className:"text-blue-600 hover:text-blue-900",title:"View",children:a.jsx(Cl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>O(S),className:"text-indigo-600 hover:text-indigo-900",title:"Edit",children:a.jsx(At,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>k(S.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(Kn,{className:"w-4 h-4"})})]})})]},S.id))})]})})]}),(c||d)&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"px-6 py-4 border-b",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c?"Add New Company":"Edit Company"})}),a.jsxs("form",{onSubmit:T,className:"px-6 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),a.jsx("input",{type:"text",required:!0,value:b.name,onChange:S=>D(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subdomain *"}),a.jsx("input",{type:"text",required:!0,value:b.subdomain,onChange:S=>j({...b,subdomain:S.target.value.toLowerCase()}),pattern:"[a-z0-9-]+",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"gashwa"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Internal subdomain identifier"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Domain *"}),a.jsx("input",{type:"text",required:!0,value:b.domain,onChange:S=>j({...b,domain:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"gashwa.com"}),a.jsxs("p",{className:"text-xs text-blue-600 mt-1 font-semibold",children:["CRM URL will be: c.",b.domain||"domain.com"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subscription Plan *"}),a.jsxs("select",{required:!0,value:b.subscription_plan_id,onChange:S=>j({...b,subscription_plan_id:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Plan"}),h.filter(S=>S.is_active).map(S=>a.jsxs("option",{value:S.id,children:[S.name," - ",S.price,"/",S.billing_period]},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Email"}),a.jsx("input",{type:"email",value:b.email,onChange:S=>j({...b,email:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",value:b.phone,onChange:S=>j({...b,phone:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subscription Start Date"}),a.jsx("input",{type:"date",value:b.subscription_start_date,onChange:S=>j({...b,subscription_start_date:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subscription End Date"}),a.jsx("input",{type:"date",value:b.subscription_end_date,onChange:S=>j({...b,subscription_end_date:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Name *"}),a.jsx("input",{type:"text",required:c,value:b.admin_name,onChange:S=>j({...b,admin_name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Email *"}),a.jsx("input",{type:"email",required:c,value:b.admin_email,onChange:S=>j({...b,admin_email:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Password *"}),a.jsx("input",{type:"password",required:c,value:b.admin_password,onChange:S=>j({...b,admin_password:S.target.value}),minLength:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:b.send_credentials_email,onChange:S=>j({...b,send_credentials_email:S.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Send login credentials via email"})]})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{value:b.address,onChange:S=>j({...b,address:S.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:b.notes,onChange:S=>j({...b,notes:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>{u(!1),m(!1),i("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c?"Create Company":"Update Company"})]})]})]})}),p&&x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Company Details"}),a.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("div",{className:"px-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Company Name"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:x.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CRM URL"}),a.jsx("p",{className:"text-lg text-blue-600 font-mono",children:x.crm_url?x.crm_url.replace("https://",""):`c.${x.subdomain}.${x.domain}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Subdomain"}),a.jsx("p",{className:"text-lg text-gray-900",children:x.subdomain})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Domain"}),a.jsx("p",{className:"text-lg text-gray-900",children:x.domain||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),a.jsx("p",{className:"text-lg text-gray-900",children:x.email||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),a.jsx("p",{className:"text-lg text-gray-900",children:x.phone||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.status==="active"?"bg-green-100 text-green-800":x.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:x.status})]}),x.users&&x.users.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Users"}),a.jsx("ul",{className:"mt-2 space-y-1",children:x.users.map(S=>a.jsxs("li",{className:"text-gray-900",children:[S.name," (",S.email,")"]},S.id))})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})})]})]})})]})})},iZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(!1),[c,u]=f.useState(null),[d,m]=f.useState({name:"",slug:"",description:"",price:"",billing_period:"monthly",max_users:"",max_leads:"",features:[],is_active:!0,sort_order:0}),[p,g]=f.useState(""),[x,v]=f.useState(!1),[h,y]=f.useState([]),[b,j]=f.useState({}),[P,_]=f.useState(null);f.useEffect(()=>{O(),C()},[]);const C=async()=>{try{const M=await Ft.getAvailableFeatures();M.data.success&&j(M.data.data)}catch(M){console.error("Available features error:",M)}},O=async()=>{try{n(!0);const M=await Ft.getSubscriptionPlans();M.data.success&&t(M.data.data)}catch(M){i("Failed to load subscription plans"),console.error("Plans error:",M)}finally{n(!1)}},E=()=>{u(null),m({name:"",slug:"",description:"",price:"",billing_period:"monthly",max_users:"",max_leads:"",features:[],is_active:!0,sort_order:0}),o(!0)},k=M=>{u(M),m({name:M.name,slug:M.slug,description:M.description||"",price:M.price,billing_period:M.billing_period,max_users:M.max_users||"",max_leads:M.max_leads||"",features:M.features||[],is_active:M.is_active,sort_order:M.sort_order||0}),o(!0)},T=async M=>{var W,B;if(window.confirm("Are you sure you want to delete this subscription plan?"))try{await Ft.deleteSubscriptionPlan(M),O()}catch(ae){i(((B=(W=ae.response)==null?void 0:W.data)==null?void 0:B.message)||"Failed to delete plan")}},A=async M=>{_(M);try{const W=await Ft.getPlanFeatures(M.id);W.data.success&&(y(W.data.data),v(!0))}catch{i("Failed to load plan features")}},D=async()=>{var M,W,B,ae;try{await Ft.updatePlanFeatures(P.id,h),v(!1),i(""),O()}catch(fe){i((W=(M=fe.response)==null?void 0:M.data)!=null&&W.message||(ae=(B=fe.response)==null?void 0:B.data)!=null&&ae.errors?Object.values(fe.response.data.errors).flat().join(", "):"Failed to save features")}},S=M=>{const W=[...h];W[M].is_enabled=!W[M].is_enabled,y(W)},L=(M,W)=>{const B=[...h];B[M].limit_value=W?parseInt(W):null,y(B)},F=async M=>{var W,B,ae,fe;M.preventDefault(),i("");try{const xe={...d,max_users:d.max_users||null,max_leads:d.max_leads||null,price:parseFloat(d.price),sort_order:parseInt(d.sort_order)};c?await Ft.updateSubscriptionPlan(c.id,xe):await Ft.createSubscriptionPlan(xe),o(!1),O()}catch(xe){i((B=(W=xe.response)==null?void 0:W.data)!=null&&B.message||(fe=(ae=xe.response)==null?void 0:ae.data)!=null&&fe.errors?Object.values(xe.response.data.errors).flat().join(", "):"Failed to save plan")}},X=()=>{p.trim()&&(m({...d,features:[...d.features,p.trim()]}),g(""))},Q=M=>{m({...d,features:d.features.filter((W,B)=>B!==M)})},I=M=>M.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return r?a.jsx(Ll,{children:a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(Ll,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Subscription Plans"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage subscription plans and features"})]}),a.jsxs("button",{onClick:E,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),"Add Plan"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.length===0?a.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No subscription plans found. Create your first plan!"}):e.map(M=>a.jsxs("div",{className:`bg-white rounded-lg shadow p-6 border-2 ${M.is_active?"border-blue-200":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:M.name}),a.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:["",M.price,a.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["/",M.billing_period]})]})]}),a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${M.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:M.is_active?"Active":"Inactive"})]}),M.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:M.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Max Users:"}),a.jsx("span",{className:"font-medium",children:M.max_users?M.max_users:"Unlimited"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Max Leads:"}),a.jsx("span",{className:"font-medium",children:M.max_leads?M.max_leads:"Unlimited"})]})]}),M.features&&M.features.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Features:"}),a.jsx("ul",{className:"space-y-1",children:M.features.map((W,B)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(u_,{className:"w-4 h-4 text-green-500"}),W]},B))})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsxs("button",{onClick:()=>A(M),className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 text-sm flex items-center justify-center gap-2",children:[a.jsx(Tm,{className:"w-4 h-4"}),"Features"]}),a.jsx("button",{onClick:()=>k(M),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Edit"}),a.jsx("button",{onClick:()=>T(M.id),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm",children:a.jsx(Kn,{className:"w-4 h-4"})})]})]},M.id))})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"px-6 py-4 border-b",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c?"Edit Subscription Plan":"Add Subscription Plan"})}),a.jsxs("form",{onSubmit:F,className:"px-6 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan Name *"}),a.jsx("input",{type:"text",required:!0,value:d.name,onChange:M=>{m({...d,name:M.target.value,slug:c?d.slug:I(M.target.value)})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug *"}),a.jsx("input",{type:"text",required:!0,value:d.slug,onChange:M=>m({...d,slug:M.target.value.toLowerCase()}),pattern:"[a-z0-9-]+",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:d.description,onChange:M=>m({...d,description:M.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),a.jsx("input",{type:"number",required:!0,step:"0.01",min:"0",value:d.price,onChange:M=>m({...d,price:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Period *"}),a.jsxs("select",{required:!0,value:d.billing_period,onChange:M=>m({...d,billing_period:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"yearly",children:"Yearly"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Users (leave empty for unlimited)"}),a.jsx("input",{type:"number",min:"1",value:d.max_users,onChange:M=>m({...d,max_users:M.target.value||""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Leads (leave empty for unlimited)"}),a.jsx("input",{type:"number",min:"1",value:d.max_leads,onChange:M=>m({...d,max_leads:M.target.value||""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),a.jsx("input",{type:"number",value:d.sort_order,onChange:M=>m({...d,sort_order:parseInt(M.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:d.is_active,onChange:M=>m({...d,is_active:M.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:p,onChange:M=>g(M.target.value),onKeyPress:M=>{M.key==="Enter"&&(M.preventDefault(),X())},placeholder:"Add feature",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:X,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add"})]}),a.jsx("div",{className:"space-y-2",children:d.features.map((M,W)=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded",children:[a.jsx("span",{className:"text-sm",children:M}),a.jsx("button",{type:"button",onClick:()=>Q(W),className:"text-red-600 hover:text-red-800",children:a.jsx(Le,{className:"w-4 h-4"})})]},W))})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>{o(!1),i("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c?"Update Plan":"Create Plan"})]})]})]})}),x&&P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Manage Features - ",P.name]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enable or disable features for this subscription plan"})]}),a.jsxs("div",{className:"px-6 py-4",children:[a.jsx("div",{className:"space-y-4",children:h.map((M,W)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:M.is_enabled,onChange:()=>S(W),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:M.feature_name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.description})]})]}),M.has_limit&&M.is_enabled&&a.jsxs("div",{className:"mt-3 ml-8",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[M.limit_label||"Limit",":"]}),a.jsx("input",{type:"number",min:"0",value:M.limit_value||"",onChange:B=>L(W,B.target.value),placeholder:"Unlimited",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for unlimited"})]})]}),a.jsx("div",{className:"ml-4",children:M.is_enabled?a.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",children:"Enabled"}):a.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded bg-gray-100 text-gray-800",children:"Disabled"})})]})},M.feature_key))}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>{v(!1),i("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Features"})]})]})]})})]})})},lZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState({}),[s,i]=f.useState(!0),[l,o]=f.useState({}),[c,u]=f.useState(""),[d,m]=f.useState(""),[p,g]=f.useState(null);f.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0),u("");const O=await Ft.getAvailableFeatures(),E=O.data.success?O.data.data:{},k=await Ft.getSubscriptionPlans();if(k.data.success){const T=k.data.data;t(T);const A=T.map(async L=>{try{const F=L.permissions||[];console.log(` Plan ${L.id} (${L.name}) - Permission IDs from database:`,F);const X=await Ft.getPlanFeatures(L.id);if(X.data.success&&X.data.data&&Array.isArray(X.data.data)&&X.data.data.length>0){const I=X.data.data.map(W=>({...W,is_enabled:W.is_enabled===!0||W.is_enabled==="true"||W.is_enabled===1||W.is_enabled==="1"})),M=I.filter(W=>W.is_enabled===!0).length;return console.log(` Plan ${L.id} (${L.name}): ${I.length} features loaded, ${M} enabled`),{planId:L.id,features:I}}else{const Q=Object.keys(E).map(I=>({feature_key:I,feature_name:E[I].name,description:E[I].description,has_limit:E[I].has_limit||!1,limit_label:E[I].limit_label||null,is_enabled:!1,limit_value:null}));return{planId:L.id,features:Q}}}catch(F){console.error(`Failed to load features for plan ${L.id}:`,F);const X=Object.keys(E).map(Q=>({feature_key:Q,feature_name:E[Q].name,description:E[Q].description,has_limit:E[Q].has_limit||!1,limit_label:E[Q].limit_label||null,is_enabled:!1,limit_value:null}));return{planId:L.id,features:X}}}),D=await Promise.all(A),S={};D.forEach(({planId:L,features:F})=>{S[L]=F}),n(S),T.length>0&&!p&&g(T[0].id)}}catch(O){u("Failed to load subscription plans. Please refresh the page."),console.error("Plans error:",O)}finally{i(!1)}},v=(O,E)=>{const k={...r};k[O]||(k[O]=[]);const T=k[O][E].is_enabled;k[O][E].is_enabled=!(T===!0||T==="true"||T===1),n(k),console.log(` Toggled feature ${k[O][E].feature_key}: ${k[O][E].is_enabled}`)},h=(O,E,k)=>{const T={...r};T[O]||(T[O]=[]),T[O][E].limit_value=k?parseInt(k):null,n(T)},y=(O,E)=>{const k={...r};if(!k[O])return;const T=E===!0||E==="true"||E===1;k[O]=k[O].map(D=>({...D,is_enabled:T,limit_value:T?D.limit_value:null})),n(k);const A=k[O].filter(D=>D.is_enabled===!0||D.is_enabled==="true"||D.is_enabled===1).length;console.log(` Toggled all features for plan ${O}: ${A}/${k[O].length} enabled`),console.log("Sample feature after toggle:",k[O][0])},b=O=>!r[O]||r[O].length===0?!1:r[O].every(E=>E.is_enabled),j=O=>!r[O]||r[O].length===0?!1:r[O].every(E=>!E.is_enabled),P=async O=>{var E,k;if(!r[O]||r[O].length===0){u("No features available to save. Please refresh the page.");return}try{o({...l,[O]:!0}),u(""),m("");const T=r[O].map(S=>{const L=S.is_enabled===!0||S.is_enabled==="true"||S.is_enabled===1,F={feature_key:S.feature_key,is_enabled:L};return S.has_limit&&L&&S.limit_value?F.limit_value=parseInt(S.limit_value)||null:F.limit_value=null,F}),A=T.filter(S=>S.is_enabled===!0).length;console.log(` Saving features for plan ${O}: ${T.length} total, ${A} enabled`),console.log("Features data:",T);const D=await Ft.updatePlanFeatures(O,T);if(console.log("Save response:",D),D.data.success){const S=((E=e.find(L=>L.id===O))==null?void 0:E.name)||"plan";if(m(`Permissions saved successfully for ${S} plan!`),setTimeout(()=>m(""),5e3),console.log(" Full save response:",D.data),D.data.data&&Array.isArray(D.data.data)&&D.data.data.length>0){const L=D.data.data.map(Q=>({...Q,is_enabled:Q.is_enabled===!0||Q.is_enabled==="true"||Q.is_enabled===1||Q.is_enabled==="1"})),F={...r};F[O]=L,console.log(" First 3 normalized features from response:",L.slice(0,3)),n(F);const X=L.filter(Q=>Q.is_enabled===!0).length;console.log(` Save response: ${L.length} features, ${X} enabled`)}else try{const L=await Ft.getPlanFeatures(O);if(L.data.success&&L.data.data){const F={...r};F[O]=L.data.data,n(F),console.log("Features reloaded from API:",F[O])}else console.log("Reloading all plans..."),await x()}catch(L){console.error("Failed to reload features:",L),await x()}}else u(D.data.message||"Failed to save permissions")}catch(T){console.error("Save error details:",T),console.error("Error response:",T.response);let A="Failed to save permissions";if((k=T.response)!=null&&k.data){if(T.response.data.message)A=T.response.data.message;else if(T.response.data.errors){const D=T.response.data.errors;typeof D=="object"?A=Object.values(D).flat().join(", "):A=JSON.stringify(D)}}else T.message&&(A=T.message);u(A)}finally{o({...l,[O]:!1})}},_=O=>r[O]?r[O].filter(E=>E.is_enabled).length:0,C=O=>r[O]?r[O].length:0;return s?a.jsx(Ll,{children:a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(Ll,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Permissions Management"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set permissions/features for each subscription plan"})]}),a.jsxs("button",{onClick:x,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 flex items-center gap-2",children:[a.jsx(_w,{className:"w-4 h-4"}),"Refresh"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),d&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:d}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:e.map(O=>a.jsxs("button",{onClick:()=>g(O.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${p===O.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[O.name,a.jsxs("span",{className:`ml-2 text-xs px-2 py-1 rounded ${p===O.id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:[_(O.id),"/",C(O.id)," enabled"]})]},O.id))})})}),e.map(O=>p===O.id&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6 pb-4 border-b",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[O.name," Plan"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.description}),a.jsxs("p",{className:"text-xl font-semibold text-blue-600 mt-2",children:["",O.price,"/",O.billing_period]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:a.jsxs("p",{className:"text-sm font-semibold text-blue-900",children:[_(O.id)," of ",C(O.id)," features enabled"]})}),a.jsxs("div",{className:"flex gap-2 justify-end mb-3",children:[a.jsxs("button",{onClick:()=>y(O.id,!0),disabled:b(O.id)||!r[O.id]||r[O.id].length===0,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm font-medium",title:"Check All Features",children:[a.jsx(CM,{className:"w-4 h-4"}),"Check All"]}),a.jsxs("button",{onClick:()=>y(O.id,!1),disabled:j(O.id)||!r[O.id]||r[O.id].length===0,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm font-medium",title:"Uncheck All Features",children:[a.jsx(AM,{className:"w-4 h-4"}),"Uncheck All"]})]}),a.jsx("button",{onClick:()=>P(O.id),disabled:l[O.id]||!r[O.id]||r[O.id].length===0,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-semibold",children:l[O.id]?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx($a,{className:"w-5 h-5"}),"Save ",O.name," Permissions"]})})]})]}),r[O.id]&&r[O.id].length>0?a.jsxs("div",{children:[a.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"!"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-1",children:"How to Set Permissions:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[a.jsxs("li",{children:["Use ",a.jsx("strong",{children:'"Check All"'})," button (green) to enable all features at once"]}),a.jsxs("li",{children:["Use ",a.jsx("strong",{children:'"Uncheck All"'})," button (gray) to disable all features at once"]}),a.jsxs("li",{children:["Or check  individual boxes for features you want to ",a.jsx("strong",{children:"enable"})]}),a.jsx("li",{children:"Set limits (if needed) for features like WhatsApp or Campaigns"}),a.jsxs("li",{children:["Click ",a.jsxs("strong",{children:['"Save ',O.name,' Permissions"']})," button when done"]})]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r[O.id].map((E,k)=>a.jsx("div",{className:`border-2 rounded-lg p-4 transition-all cursor-pointer hover:shadow-md ${E.is_enabled===!0||E.is_enabled==="true"||E.is_enabled===1?"border-green-400 bg-green-50 shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>v(O.id,k),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("input",{type:"checkbox",checked:E.is_enabled===!0||E.is_enabled==="true"||E.is_enabled===1,onChange:()=>v(O.id,k),onClick:T=>T.stopPropagation(),className:"mt-1 w-6 h-6 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1 break-words",children:E.feature_name}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:E.description})]}),a.jsx("div",{className:"flex-shrink-0",children:E.is_enabled===!0||E.is_enabled==="true"||E.is_enabled===1?a.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 flex items-center gap-1 whitespace-nowrap",children:[a.jsx(u_,{className:"w-3 h-3"}),"ON"]}):a.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-600 flex items-center gap-1 whitespace-nowrap",children:[a.jsx(Le,{className:"w-3 h-3"}),"OFF"]})})]}),E.has_limit&&(E.is_enabled===!0||E.is_enabled==="true"||E.is_enabled===1)&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",onClick:T=>T.stopPropagation(),children:[a.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[E.limit_label||"Limit",":"]}),a.jsx("input",{type:"number",min:"0",value:E.limit_value||"",onChange:T=>h(O.id,k,T.target.value),placeholder:"Unlimited",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for unlimited"})]})]})]})},E.feature_key))})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"text-gray-500 mb-4",children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No features available"}),a.jsx("p",{className:"text-sm",children:"Loading features... Please wait or refresh the page"})]}),a.jsxs("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[a.jsx(_w,{className:"w-4 h-4"}),"Refresh Page"]})]})]},O.id))]})]})})},oZ=()=>{const e=Br(),{user:t}=Va(),[r,n]=f.useState([]),[s,i]=f.useState([]),[l,o]=f.useState([]),[c,u]=f.useState(!0),[d,m]=f.useState(!1),[p,g]=f.useState(!1),[x,v]=f.useState(!1),[h,y]=f.useState(!1),[b,j]=f.useState(!1),[P,_]=f.useState(null),[C,O]=f.useState(null),[E,k]=f.useState("total"),[T,A]=f.useState(null),[D,S]=f.useState({type:"Client",phone:"",email:"",client_title:"Mr.",client_name:"",destination:"",travel_month:"January",from_date:"",to_date:"",adult:"1",child:"0",infant:"0",source:"",priority:"General Query",assigned_to:"",service:"",remark:""});f.useEffect(()=>{L(),F(),X()},[]),f.useEffect(()=>{const U=J=>{h&&!J.target.closest(".relative")&&y(!1),T&&!J.target.closest(".relative")&&A(null)};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[h,T]);const L=async()=>{try{const U=await ta.list();n(U.data.data.leads||[])}catch(U){console.error("Failed to fetch leads:",U)}finally{u(!1)}},F=async()=>{try{const U=await $o.list(),ie=(U.data.data||U.data||[]).filter(De=>De.status==="active");i(ie)}catch(U){console.error("Failed to fetch lead sources:",U)}},X=async()=>{try{const U=await ks.list();o(U.data.data.users||[])}catch(U){console.error("Failed to fetch users:",U)}},Q=async U=>{U.preventDefault();try{const J={client_name:`${D.client_title} ${D.client_name}`.trim(),email:D.email,phone:D.phone,source:D.source,destination:D.destination,priority:D.priority==="General Query"?"warm":D.priority.toLowerCase(),assigned_to:D.assigned_to||(t?t.id:null)};await ta.create(J),m(!1),S({type:"Client",phone:"",email:"",client_title:"Mr.",client_name:"",destination:"",travel_month:"January",from_date:"",to_date:"",adult:"1",child:"0",infant:"0",source:"",priority:"General Query",assigned_to:"",service:"",remark:""}),L()}catch(J){alert("Failed to create lead"),console.error(J)}},I=async(U,J)=>{try{await ta.assign(U,parseInt(J)),L()}catch{alert("Failed to assign lead")}},M=async(U,J)=>{try{await ta.updateStatus(U,J),L()}catch{alert("Failed to update status")}},W=U=>({new:"bg-blue-100 text-blue-800",proposal:"bg-yellow-100 text-yellow-800",followup:"bg-purple-100 text-purple-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[U]||"bg-gray-100 text-gray-800",ae={total:r.length,new:r.filter(J=>J.status==="new").length,proposalSent:r.filter(J=>J.status==="proposal").length,noConnect:0,hotLead:r.filter(J=>J.priority==="hot").length,proposalConfirmed:r.filter(J=>J.status==="confirmed"&&J.priority==="hot").length,cancel:r.filter(J=>J.status==="cancelled").length,followUp:r.filter(J=>J.status==="followup").length,confirmed:r.filter(J=>J.status==="confirmed").length,postponed:0,invalid:0},xe=E==="total"?r:E==="new"?r.filter(U=>U.status==="new"):E==="proposalSent"?r.filter(U=>U.status==="proposal"):E==="noConnect"?[]:E==="hotLead"?r.filter(U=>U.priority==="hot"):E==="proposalConfirmed"?r.filter(U=>U.status==="confirmed"&&U.priority==="hot"):E==="cancel"?r.filter(U=>U.status==="cancelled"):E==="followUp"?r.filter(U=>U.status==="followup"):E==="confirmed"?r.filter(U=>U.status==="confirmed"):E==="postponed"?[]:E==="invalid"?[]:r,te=U=>{if(!U)return"";const J=new Date(U),ie=String(J.getDate()).padStart(2,"0"),De=String(J.getMonth()+1).padStart(2,"0"),Te=J.getFullYear();return`${ie}-${De}-${Te}`},me=U=>U?`Q-${String(U).padStart(4,"0")}`:"N/A",je=async()=>{try{const U=await ta.importTemplate(),J=new Blob([U.data],{type:"text/csv"}),ie=window.URL.createObjectURL(J),De=document.createElement("a");De.href=ie,De.download="lead_import_template.csv",document.body.appendChild(De),De.click(),document.body.removeChild(De),window.URL.revokeObjectURL(ie),y(!1)}catch(U){alert("Failed to download CSV template"),console.error(U)}},Se=async U=>{var J,ie;if(U.preventDefault(),!C){alert("Please select a CSV file");return}try{await ta.import(C),alert("Leads imported successfully!"),j(!1),O(null),y(!1),L()}catch(De){alert(((ie=(J=De.response)==null?void 0:J.data)==null?void 0:ie.message)||"Failed to import CSV"),console.error(De)}},ne=async()=>{try{const J=[["ID","Client Name","Email","Phone","Source","Destination","Status","Priority","Assigned To","Created At"].join(","),...r.map(Ie=>[me(Ie.id),`"${Ie.client_name||""}"`,`"${Ie.email||""}"`,`"${Ie.phone||""}"`,`"${Ie.source||""}"`,`"${Ie.destination||""}"`,`"${Ie.status||""}"`,`"${Ie.priority||""}"`,Ie.assigned_to||"",`"${te(Ie.created_at)}"`].join(","))].join(`
`),ie=new Blob([J],{type:"text/csv;charset=utf-8;"}),De=window.URL.createObjectURL(ie),Te=document.createElement("a");Te.href=De,Te.download=`leads_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),window.URL.revokeObjectURL(De),y(!1)}catch(U){alert("Failed to export data"),console.error(U)}};return c?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Queries"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{S({...D,assigned_to:(t==null?void 0:t.id)||""}),m(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:"+ Add New"}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>y(!h),className:"bg-white border border-blue-600 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-50 flex items-center gap-2",children:["Options",a.jsx(Xo,{className:"h-4 w-4"})]}),h&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[a.jsx("button",{onClick:je,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 first:rounded-t-lg",children:"Download CSV Format"}),a.jsx("button",{onClick:()=>{j(!0),y(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Import CSV"}),a.jsx("button",{onClick:ne,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 last:rounded-b-lg",children:"Export Data"})]})]}),a.jsx("button",{className:"bg-white border border-green-600 text-green-600 px-4 py-2 rounded-lg hover:bg-green-50",children:"Load Leads"}),a.jsxs("button",{className:"bg-white border border-green-600 text-green-600 px-4 py-2 rounded-lg hover:bg-green-50 flex items-center gap-2",children:[a.jsx(f_,{className:"h-4 w-4"}),"Filter",a.jsx(Xo,{className:"h-4 w-4"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-11 gap-3 mb-6 overflow-x-auto",children:[a.jsxs("div",{onClick:()=>k("total"),className:`bg-gray-800 text-white px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="total"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.total}),a.jsx("div",{className:"text-xs font-medium",children:"TOTAL"})]}),a.jsxs("div",{onClick:()=>k("new"),className:`bg-blue-200 text-blue-900 px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="new"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.new}),a.jsx("div",{className:"text-xs font-medium",children:"NEW"})]}),a.jsxs("div",{onClick:()=>k("proposalSent"),className:`bg-orange-200 text-orange-900 px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="proposalSent"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.proposalSent}),a.jsx("div",{className:"text-xs font-medium",children:"PROPOSAL SENT"})]}),a.jsxs("div",{onClick:()=>k("noConnect"),className:`bg-blue-600 text-white px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="noConnect"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.noConnect}),a.jsx("div",{className:"text-xs font-medium",children:"NO CONNECT"})]}),a.jsxs("div",{onClick:()=>k("hotLead"),className:`bg-red-500 text-white px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="hotLead"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.hotLead}),a.jsx("div",{className:"text-xs font-medium",children:"HOT LEAD"})]}),a.jsxs("div",{onClick:()=>k("proposalConfirmed"),className:`bg-purple-500 text-white px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="proposalConfirmed"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.proposalConfirmed}),a.jsx("div",{className:"text-xs font-medium",children:"PROPOSAL CON.."})]}),a.jsxs("div",{onClick:()=>k("cancel"),className:`bg-red-700 text-white px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="cancel"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.cancel}),a.jsx("div",{className:"text-xs font-medium",children:"CANCEL"})]}),a.jsxs("div",{onClick:()=>k("followUp"),className:`bg-orange-400 text-white px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="followUp"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.followUp}),a.jsx("div",{className:"text-xs font-medium",children:"FOLLOW UP"})]}),a.jsxs("div",{onClick:()=>k("confirmed"),className:`bg-green-500 text-white px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="confirmed"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.confirmed}),a.jsx("div",{className:"text-xs font-medium",children:"CONFIRMED"})]}),a.jsxs("div",{onClick:()=>k("postponed"),className:`bg-black text-white px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="postponed"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.postponed}),a.jsx("div",{className:"text-xs font-medium",children:"POSTPONED"})]}),a.jsxs("div",{onClick:()=>k("invalid"),className:`bg-red-800 text-white px-4 py-3 rounded-lg text-center min-w-[120px] cursor-pointer transition-all hover:opacity-90 ${E==="invalid"?"ring-4 ring-blue-400 ring-offset-2":""}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:ae.invalid}),a.jsx("div",{className:"text-xs font-medium",children:"INVALID"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Destination"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tour Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Package"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assign"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:xe.map(U=>(l.find(J=>J.id===U.assigned_to),a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"rounded"}),a.jsx("button",{onClick:()=>e(`/leads/${U.id}`),className:"text-blue-600 hover:text-blue-800 font-medium cursor-pointer",children:me(U.id)}),U.priority==="hot"&&a.jsx("span",{className:"px-1.5 py-0.5 text-xs font-semibold bg-red-500 text-white rounded",children:"HOT"})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[D.adult||"1"," Adult ",D.child||"0"," Child ",D.infant||"0"," Infant"]}),a.jsx("div",{className:"text-xs text-gray-500",children:te(U.created_at)})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.client_name}),a.jsx("div",{className:"text-sm text-gray-600",children:U.phone||"N/A"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Client"})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:U.destination||"N/A"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Full package"})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-700",children:[a.jsx("span",{children:""}),a.jsx("span",{children:U.travel_start_date?te(U.travel_start_date):"N/A"})]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Till ",U.travel_start_date?te(U.travel_start_date):"N/A"]})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm text-gray-700",children:"Package details"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Price info"})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("select",{className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:U.assigned_to||(t==null?void 0:t.id)||"",onChange:J=>{J.target.value&&U.id&&I(U.id,J.target.value)},children:[a.jsxs("option",{value:(t==null?void 0:t.id)||"",children:["Assign to me ",t?`(${t.id})`:""]}),l.map(J=>a.jsxs("option",{value:J.id,children:[J.name," (",J.id,")"]},J.id))]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("select",{className:`text-xs font-semibold rounded-full px-2 py-1 border-0 ${W(U.status)} focus:outline-none focus:ring-2 focus:ring-blue-500`,value:U.status,onChange:J=>{M(U.id,J.target.value)},children:[a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"proposal",children:"Proposal"}),a.jsx("option",{value:"followup",children:"Follow Up"}),a.jsx("option",{value:"confirmed",children:"Confirmed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>A(T===U.id?null:U.id),className:"p-1.5 hover:bg-gray-100 rounded transition-colors border border-gray-300",title:"Actions",children:a.jsx(RI,{className:"h-4 w-4 text-gray-700"})}),T===U.id&&a.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-300 rounded-md shadow-md z-50 py-1",children:[a.jsxs("button",{onClick:()=>{A(null),e(`/leads/${U.id}`)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[a.jsx(Cl,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"View"})]}),a.jsxs("button",{onClick:()=>{A(null),U.email?window.location.href=`mailto:${U.email}`:alert("No email address available")},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[a.jsx(Qt,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"Email"})]}),a.jsxs("button",{onClick:()=>{if(A(null),U.phone){const J=`https://wa.me/${U.phone.replace(/[^0-9]/g,"")}`;window.open(J,"_blank")}else alert("No phone number available")},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[a.jsx(x_,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"WhatsApp"})]})]})]})})]},U.id)))})]})})}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"ADD QUERY"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:Q,children:[a.jsxs("div",{className:"p-6 grid grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TYPE"}),a.jsxs("select",{value:D.type,onChange:U=>S({...D,type:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Client",children:"Client"}),a.jsx("option",{value:"Agent",children:"Agent"}),a.jsx("option",{value:"Corporate",children:"Corporate"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MOBILE *"}),a.jsx("input",{type:"text",placeholder:"Phone / Mobile",value:D.phone,onChange:U=>S({...D,phone:U.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"EMAIL"}),a.jsx("input",{type:"email",placeholder:"Email",value:D.email,onChange:U=>S({...D,email:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CLIENT NAME *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:D.client_title,onChange:U=>S({...D,client_title:U.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Mr.",children:"Mr."}),a.jsx("option",{value:"Mrs.",children:"Mrs."}),a.jsx("option",{value:"Ms.",children:"Ms."}),a.jsx("option",{value:"Dr.",children:"Dr."})]}),a.jsx("input",{type:"text",placeholder:"Name",value:D.client_name,onChange:U=>S({...D,client_name:U.target.value}),required:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DESTINATION *"}),a.jsx("input",{type:"text",placeholder:"Destination",value:D.destination,onChange:U=>S({...D,destination:U.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TRAVEL MONTH"}),a.jsxs("select",{value:D.travel_month,onChange:U=>S({...D,travel_month:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"January",children:"January"}),a.jsx("option",{value:"February",children:"February"}),a.jsx("option",{value:"March",children:"March"}),a.jsx("option",{value:"April",children:"April"}),a.jsx("option",{value:"May",children:"May"}),a.jsx("option",{value:"June",children:"June"}),a.jsx("option",{value:"July",children:"July"}),a.jsx("option",{value:"August",children:"August"}),a.jsx("option",{value:"September",children:"September"}),a.jsx("option",{value:"October",children:"October"}),a.jsx("option",{value:"November",children:"November"}),a.jsx("option",{value:"December",children:"December"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"FROM DATE *"}),a.jsx("input",{type:"date",value:D.from_date,onChange:U=>S({...D,from_date:U.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TO DATE *"}),a.jsx("input",{type:"date",value:D.to_date,onChange:U=>S({...D,to_date:U.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ADULT *"}),a.jsx("select",{value:D.adult,onChange:U=>S({...D,adult:U.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[...Array(20)].map((U,J)=>a.jsx("option",{value:String(J+1),children:J+1},J+1))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CHILD"}),a.jsx("select",{value:D.child,onChange:U=>S({...D,child:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[...Array(11)].map((U,J)=>a.jsx("option",{value:String(J),children:J},J))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"INFANT"}),a.jsx("select",{value:D.infant,onChange:U=>S({...D,infant:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[...Array(11)].map((U,J)=>a.jsx("option",{value:String(J),children:J},J))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LEAD SOURCE *"}),a.jsxs("select",{value:D.source,onChange:U=>S({...D,source:U.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Lead Source"}),s.map(U=>a.jsx("option",{value:U.name,children:U.name},U.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PRIORITY *"}),a.jsxs("select",{value:D.priority,onChange:U=>S({...D,priority:U.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"General Query",children:"General Query"}),a.jsx("option",{value:"Hot",children:"Hot"}),a.jsx("option",{value:"Warm",children:"Warm"}),a.jsx("option",{value:"Cold",children:"Cold"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ASSIGN TO *"}),a.jsxs("select",{value:D.assigned_to||(t==null?void 0:t.id)||"",onChange:U=>S({...D,assigned_to:U.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsxs("option",{value:(t==null?void 0:t.id)||"",children:["Assign to me ",t?`(${t.id})`:""]}),l.filter(U=>U.id!==(t==null?void 0:t.id)).map(U=>a.jsxs("option",{value:U.id,children:[U.name," (",U.id,")"]},U.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SERVICE"}),a.jsxs("select",{value:D.service,onChange:U=>S({...D,service:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Service"}),a.jsx("option",{value:"Full Package",children:"Full Package"}),a.jsx("option",{value:"Hotel Only",children:"Hotel Only"}),a.jsx("option",{value:"Visa Only",children:"Visa Only"}),a.jsx("option",{value:"Flight Only",children:"Flight Only"})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"REMARK"}),a.jsx("textarea",{value:D.remark,onChange:U=>S({...D,remark:U.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter remarks..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-6 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save"})]})]})]})}),p&&P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Assign Lead"}),a.jsx("p",{className:"mb-4",children:"Assign lead to user ID:"}),a.jsx("input",{type:"number",placeholder:"User ID",id:"assignUserId",className:"w-full px-4 py-2 border rounded-lg mb-4"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{const U=document.getElementById("assignUserId").value;U&&P&&I(P.id,parseInt(U))},className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Assign"}),a.jsx("button",{onClick:()=>g(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})}),x&&P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Update Status"}),a.jsx("div",{className:"space-y-2",children:["new","proposal","followup","confirmed","cancelled"].map(U=>a.jsx("button",{onClick:()=>M(P.id,U),className:"w-full text-left px-4 py-2 border rounded-lg hover:bg-gray-100 capitalize",children:U},U))}),a.jsx("button",{onClick:()=>v(!1),className:"mt-4 w-full bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400",children:"Cancel"})]})}),b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Import CSV"}),a.jsx("button",{onClick:()=>{j(!1),O(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:Se,className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:U=>O(U.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),a.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Download CSV format template first to see the required format."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{j(!1),O(null)},className:"px-6 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Import"})]})]})]})})]})})},cZ=()=>{var mo,fo;const{id:e}=P5(),t=Br(),{user:r}=Va(),[n,s]=f.useState(null),[i,l]=f.useState(!0),[o,c]=f.useState("proposals"),[u,d]=f.useState([]),[m,p]=f.useState([]),[g,x]=f.useState(""),[v,h]=f.useState(!1),[y,b]=f.useState(!1),[j,P]=f.useState(!1),[_,C]=f.useState(!1),[O,E]=f.useState([]),[k,T]=f.useState(!1),[A,D]=f.useState(""),[S,L]=f.useState([]),[F,X]=f.useState(!1),[Q,I]=f.useState(null),[M,W]=f.useState(null),[B,ae]=f.useState(null),[fe,xe]=f.useState(!1),[te,me]=f.useState({itinerary_name:"",start_date:"",end_date:"",adult:"1",child:"0",destinations:"",notes:""}),[je,Se]=f.useState([]),[ne,U]=f.useState(!1),[J,ie]=f.useState({type:"Task",description:"",reminder_date:"",reminder_time:"",set_reminder:"Yes"}),[De,Te]=f.useState(!1),[Ie,Ue]=f.useState([]),[Re,Er]=f.useState([]),[Ar,an]=f.useState([]),[lr,br]=f.useState([]),[he,ee]=f.useState(!1),[R,se]=f.useState(!1),[de,pe]=f.useState({subject:"",cc_email:"",body:""}),[we,Ae]=f.useState(!1),[Qe,ro]=f.useState([]),[Be,Vn]=f.useState({total_amount:0,total_paid:0,total_due:0}),[no,Hs]=f.useState(!1),[Ws,Ri]=f.useState(!1),[Wr,Gn]=f.useState({amount:"",paid_amount:"",due_date:""}),[pa,oh]=f.useState(!1),[ao,ch]=f.useState([]),[Nn,Fi]=f.useState(!1),[ha,Ks]=f.useState(!1),[wt,Yn]=f.useState({to_email:"",cc_email:"",subject:"",body:""}),[ts,so]=f.useState(!1),[yd,vd]=f.useState(null),[ga,bd]=f.useState(null),[xa,jd]=f.useState([]),[qs,io]=f.useState(!1);f.useEffect(()=>{Gs(),Sd(),wd(),dh(),Vs()},[e]);const Vs=async()=>{try{const w=await Fe.get();w.data.success&&bd(w.data.data)}catch(w){console.error("Failed to fetch company settings:",w)}};f.useEffect(()=>{if(n){const w=or(),$=n.query_id||n.id||e,q=`Travel Enquiry for ${n.destination||"Destination"} from (Query Id- ${$})`;pe(w?K=>({...K,subject:q,body:Od()}):K=>({...K,subject:q,body:`Dear Sir,
Kindly provide the best rates for below enquiry at the earliest`}))}},[n,S,e]),f.useEffect(()=>{(async()=>{const $=or();console.log("Confirmed Option:",$);let H=[];if($){if($.hotels&&Array.isArray($.hotels))H=$.hotels;else if($.hotelDetails&&Array.isArray($.hotelDetails))H=$.hotelDetails;else if(B&&$.optionNumber){const q=$.optionNumber.toString();B.hotelOptions&&B.hotelOptions[q]&&(H=B.hotelOptions[q])}}if(console.log("Hotels List:",H),H.length>0)try{const q=H.map(async(ue,oe)=>{const re=ue.hotel_id||ue.hotelId||ue.id,Ne=ue.hotel_name||ue.hotelName||ue.name||"Hotel",Oe=ue.room_type||ue.roomType||ue.roomName||"",it=ue.meal_plan||ue.mealPlan||"",cr=ue.day||"",Ve=ue.price||"";if(re)try{const _n=(await jr.get(re)).data.data;return{id:`hotel_${re}_${oe}`,hotel_id:re,company_name:_n.name||Ne,name:_n.contact_person||"",email:_n.email||"",type:"hotel",hotel_name:_n.name||Ne,room_type:Oe,meal_plan:it,price:Ve,day:cr}}catch(ln){return console.error(`Failed to fetch hotel ${re}:`,ln),{id:`hotel_${re||Ne}_${oe}`,hotel_id:re,company_name:Ne,name:"",email:ue.email||"",type:"hotel",hotel_name:Ne,room_type:Oe,meal_plan:it,price:Ve,day:cr}}else return{id:`hotel_${Ne}_${oe}_${Date.now()}`,hotel_id:null,company_name:Ne,name:"",email:ue.email||"",type:"hotel",hotel_name:Ne,room_type:Oe,meal_plan:it,price:Ve,day:cr}}),K=await Promise.all(q);console.log("Processed Hotels Data:",K);const le=K.filter(ue=>ue.company_name&&ue.company_name!=="Hotel");le.sort((ue,oe)=>ue.email&&!oe.email?-1:!ue.email&&oe.email?1:0),Er(le),console.log("Hotels set in state:",le)}catch(q){console.error("Failed to load hotels:",q),Er([])}else Er([])})()},[S,B]);const wd=()=>{try{const w=localStorage.getItem(`lead_${e}_proposals`);let $=[];w&&($=JSON.parse(w)),Object.keys(localStorage).filter(q=>q.startsWith("itinerary_")&&q.endsWith("_proposals")).forEach(q=>{try{JSON.parse(localStorage.getItem(q)||"[]").forEach(le=>{$.some(oe=>oe.itinerary_id===le.itinerary_id&&oe.optionNumber===le.optionNumber)||$.push(le)})}catch(K){console.error("Error loading itinerary proposals:",K)}}),L($)}catch(w){console.error("Failed to load proposals:",w)}},ya=w=>{try{localStorage.setItem(`lead_${e}_proposals`,JSON.stringify(w)),L(w)}catch($){console.error("Failed to save proposals:",$)}},Nd=async w=>{const $=S.map(q=>({...q,confirmed:q.id===w}));ya($);const H=$.find(q=>q.id===w);if(H)try{await Qn(H)}catch(q){console.error("Failed to load quotation data:",q)}alert("Option confirmed successfully! You can now share the final itinerary.")},or=()=>S.find(w=>w.confirmed===!0),Gs=async()=>{try{const $=(await ta.get(e)).data.data.lead;if(s($),$.followups){const H=$.followups.filter(q=>q.remark&&q.remark.trim()!=="").map(q=>{var K;return{content:q.remark,created_at:q.created_at,created_by:((K=q.user)==null?void 0:K.name)||"System"}});p(H),Se($.followups||[])}else Se([])}catch(w){console.error("Failed to fetch lead details:",w),alert("Failed to load lead details")}finally{l(!1)}},Sd=async()=>{try{const w=await ks.list();d(w.data.data.users||[])}catch(w){console.error("Failed to fetch users:",w)}},dh=async()=>{try{const w=await Qo.list();Ue(w.data.data||[])}catch(w){console.error("Failed to fetch suppliers:",w)}},kd=async()=>{if(e){Fi(!0);try{const w=await ta.getEmails(e);w.data.success&&ch(w.data.data.emails||[])}catch(w){console.error("Failed to fetch lead emails:",w)}finally{Fi(!1)}}},_d=async w=>{var H,q;w.preventDefault();const $=wt.to_email||(n==null?void 0:n.email);if(!$||!wt.subject||!wt.body){alert("Please fill in all required fields");return}so(!0);try{if(r!=null&&r.google_token){const K={to_email:$,cc_email:wt.cc_email,subject:wt.subject,body:wt.body,lead_id:e};(await Am.sendMail(K)).data.success&&(alert("Email sent successfully via Gmail!"),Ks(!1),Yn({to_email:(n==null?void 0:n.email)||"",cc_email:"",subject:"",body:""}),Pd())}else{const K={to_email:$,cc_email:wt.cc_email,subject:wt.subject,body:wt.body,attachment:yd};(await ta.sendEmail(e,K)).data.success&&(alert("Email sent successfully!"),Ks(!1),Yn({to_email:(n==null?void 0:n.email)||"",cc_email:"",subject:"",body:""}),vd(null),kd())}}catch(K){console.error("Failed to send email:",K),alert(((q=(H=K.response)==null?void 0:H.data)==null?void 0:q.message)||"Failed to send email")}finally{so(!1)}},Pd=async()=>{if(!(!e||!(r!=null&&r.google_token))){io(!0);try{const w=await Am.getGmailEmails(e);w.data.success&&jd(w.data.data.emails||[])}catch(w){console.error("Failed to fetch Gmail emails:",w)}finally{io(!1)}}},uh=()=>{Yn({to_email:(n==null?void 0:n.email)||"",cc_email:"",subject:"",body:""}),Ks(!0)},Cd=async()=>{if(e){Hs(!0);try{const w=await bc.getByLead(e);w.data.success&&(ro(w.data.data.payments||[]),Vn(w.data.data.summary||{total_amount:0,total_paid:0,total_due:0}))}catch(w){console.error("Failed to fetch payments:",w),ro([]),Vn({total_amount:0,total_paid:0,total_due:0})}finally{Hs(!1)}}},zi=async w=>{var q,K,le,ue;if(w.preventDefault(),!Wr.amount||parseFloat(Wr.amount)<=0){alert("Please enter a valid amount");return}const $=parseFloat(Wr.amount),H=parseFloat(Wr.paid_amount||0);if(H>$){alert("Paid amount cannot exceed total amount");return}oh(!0);try{const oe=await bc.create({lead_id:e,amount:$,paid_amount:H,due_date:Wr.due_date||null});oe.data.success?(alert("Payment added successfully!"),Ri(!1),Gn({amount:"",paid_amount:"",due_date:""}),await Cd()):alert(oe.data.message||"Failed to add payment")}catch(oe){console.error("Failed to add payment:",oe);const re=(K=(q=oe.response)==null?void 0:q.data)!=null&&K.message||(ue=(le=oe.response)==null?void 0:le.data)!=null&&ue.errors?Object.values(oe.response.data.errors).flat().join(", "):"Failed to add payment";alert(re)}finally{oh(!1)}};f.useEffect(()=>{o==="billing"&&e&&Cd()},[o,e]),f.useEffect(()=>{o==="mails"&&e&&(kd(),r!=null&&r.google_token&&Pd())},[o,e,r==null?void 0:r.google_token]);const Od=()=>{const w=or();if(!w||!n)return`Dear Sir,
Kindly provide the best rates for below enquiry at the earliest`;let $=`Dear Sir,
Kindly provide the best rates for below enquiry at the earliest

`;const H=w.hotels||[],q=n.travel_start_date?Kt(n.travel_start_date):"N/A",K=n.travel_end_date?Kt(n.travel_end_date):"N/A";let le="N/A";if(n.travel_start_date&&n.travel_end_date){const ue=new Date(n.travel_start_date),oe=new Date(n.travel_end_date),re=Math.abs(oe-ue);le=Math.ceil(re/(1e3*60*60*24)).toString()}return $+=`Enquiry Details:
`,$+=`Customer Name: ${n.client_title||"Mr."} ${n.client_name}
`,$+=`Enquiry ID: ${n.query_id||n.id||e}
`,$+=`Enquiry For: ${w.itinerary_name||"Full package"}
`,$+=`Check-In: ${q}
`,$+=`Check-Out: ${K}
`,$+=`Nights: ${le}
`,$+=`Pax: Adult: ${n.adult||1} - Child: ${n.child||0} - Infant: ${n.infant||0}

`,H.length>0&&($+=`Hotel Requirements:
`,H.forEach((ue,oe)=>{$+=`${oe+1}. ${ue.hotel_name||"Hotel"} - ${ue.room_type||"Room"} - ${ue.meal_plan||"Meal Plan"}
`,ue.price&&($+=`   Price: ${ue.price}
`)})),$},Kt=w=>{if(!w)return"N/A";const $=new Date(w),H=String($.getDate()).padStart(2,"0"),q=String($.getMonth()+1).padStart(2,"0"),K=$.getFullYear();return`${H}-${q}-${K}`},Ed=w=>{ee(w),an(w?Ie.map($=>$.id):[])},Ys=w=>{se(w),br(w?Re.map($=>$.id):[])},Ad=w=>{an($=>$.includes(w)?$.filter(H=>H!==w):[...$,w])},Td=w=>{br($=>$.includes(w)?$.filter(H=>H!==w):[...$,w])},lo=async()=>{var w,$,H,q,K,le,ue,oe;if(Ar.length===0&&lr.length===0){alert("Please select at least one supplier or hotel");return}if(!de.subject.trim()){alert("Please enter a subject");return}Ae(!0);try{const re=or(),Ne={customer_name:n?`${n.client_title||"Mr."} ${n.client_name}`:"N/A",enquiry_id:(n==null?void 0:n.query_id)||(n==null?void 0:n.id)||e,enquiry_for:(re==null?void 0:re.itinerary_name)||"Full package",check_in:n!=null&&n.travel_start_date?Kt(n.travel_start_date):"N/A",check_out:n!=null&&n.travel_end_date?Kt(n.travel_end_date):"N/A",nights:n!=null&&n.travel_start_date&&(n!=null&&n.travel_end_date)?Math.ceil(Math.abs(new Date(n.travel_end_date)-new Date(n.travel_start_date))/(1e3*60*60*24)).toString():"N/A",adult:(n==null?void 0:n.adult)||1,child:(n==null?void 0:n.child)||0,infant:(n==null?void 0:n.infant)||0,hotels:(re==null?void 0:re.hotels)||[]},Oe=Re.filter(Ve=>lr.includes(Ve.id)&&Ve.email&&Ve.email.trim()!=="").map(Ve=>({email:Ve.email.trim(),name:Ve.company_name,hotel_name:Ve.hotel_name,room_type:Ve.room_type,meal_plan:Ve.meal_plan})),it=Re.filter(Ve=>lr.includes(Ve.id)&&(!Ve.email||Ve.email.trim()==="")).map(Ve=>Ve.company_name||Ve.hotel_name);if(it.length>0&&!window.confirm(`Warning: The following hotels don't have email addresses:
${it.join(", ")}

Only hotels with valid emails will receive the mail.

Do you want to continue?`)){Ae(!1);return}if(Ar.length===0&&Oe.length===0){alert("Please select at least one supplier or hotel with valid email address"),Ae(!1);return}const cr=await Qo.sendEmail({supplier_ids:Ar,hotel_emails:Oe,subject:de.subject,cc_email:de.cc_email,body:de.body,enquiry_details:Ne,lead_id:parseInt(e)});if(cr.data.success){const Ve=cr.data.data||{},ln=Ve.sent_count||0,_n=Ve.failed_count||0,mh=Ve.errors||[];let Gd=`Email sent successfully to ${ln} recipient(s)!`;_n>0&&(Gd+=`

${_n} email(s) failed:
${mh.slice(0,5).join(`
`)}`,mh.length>5&&(Gd+=`
... and ${mh.length-5} more errors`)),it.length>0&&(Gd+=`

Note: ${it.length} hotel(s) were skipped due to missing email addresses.`),alert(Gd),ln>0&&(pe({subject:de.subject,cc_email:"",body:Od()}),an([]),br([]),ee(!1),se(!1))}else{const Ve=cr.data.message||"Failed to send email",ln=((w=cr.data.data)==null?void 0:w.errors)||[];alert(`${Ve}${ln.length>0?`

Errors:
`+ln.join(`
`):""}`)}}catch(re){console.error("Failed to send email:",re);const Ne=((H=($=re.response)==null?void 0:$.data)==null?void 0:H.message)||"Failed to send email",Oe=((le=(K=(q=re.response)==null?void 0:q.data)==null?void 0:K.data)==null?void 0:le.errors)||[],it=((oe=(ue=re.response)==null?void 0:ue.data)==null?void 0:oe.error)||"";let cr=Ne;Oe.length>0&&(cr+=`

Errors:
`+Oe.slice(0,5).join(`
`),Oe.length>5&&(cr+=`
... and ${Oe.length-5} more errors`)),it&&!Oe.length&&(cr+=`

Details: ${it}`),alert(cr)}finally{Ae(!1)}},zb=async()=>{var w,$;if(!g.trim()){alert("Please enter a note");return}b(!0);try{const q=new Date().toISOString().split("T")[0];await mi.create({lead_id:parseInt(e),remark:g.trim(),reminder_date:q,reminder_time:null}),await Gs(),x(""),h(!1)}catch(H){console.error("Failed to add note:",H),alert((($=(w=H.response)==null?void 0:w.data)==null?void 0:$.message)||"Failed to add note")}finally{b(!1)}},tr=w=>{if(!w||w.trim()==="")return null;const $=w.trim().split(" ");if($.length<2)return null;const[H,q]=$,[K,le]=H.split(":");if(!K||!le)return null;let ue=parseInt(K,10);return isNaN(ue)?null:(q==="PM"&&ue!==12?ue+=12:q==="AM"&&ue===12&&(ue=0),`${String(ue).padStart(2,"0")}:${le.padStart(2,"0")}:00`)},Dd=w=>{if(!w)return"";const[$,H]=w.split(":"),q=parseInt($,10),K=q>=12?"PM":"AM";return`${q%12||12}:${H} ${K}`},Id=()=>{const w=[];for(let $=1;$<=12;$++)w.push(`${$}:00 AM`),w.push(`${$}:30 AM`);for(let $=1;$<=12;$++)w.push(`${$}:00 PM`),w.push(`${$}:30 PM`);return w},Md=async w=>{var $,H,q,K,le,ue;if(w.preventDefault(),!J.reminder_date){alert("Please select a reminder date");return}if(J.set_reminder!=="Yes"){alert("Please enable reminder to create follow-up");return}Te(!0);try{let oe=J.reminder_date;const re=J.reminder_date.split("-");re.length===3&&re[0].length===2&&(oe=`${re[2]}-${re[1]}-${re[0]}`);const Ne=J.reminder_time?tr(J.reminder_time):null,Oe={lead_id:parseInt(e),remark:J.description.trim()||null,reminder_date:oe};Ne&&(Oe.reminder_time=Ne),await mi.create(Oe),await Gs(),ie({type:"Task",description:"",reminder_date:"",reminder_time:"",set_reminder:"Yes"}),U(!1),alert("Follow-up added successfully!")}catch(oe){console.error("Failed to add followup:",oe);const re=((H=($=oe.response)==null?void 0:$.data)==null?void 0:H.message)||((K=(q=oe.response)==null?void 0:q.data)!=null&&K.errors?Object.values(oe.response.data.errors).flat().join(", "):null)||((ue=(le=oe.response)==null?void 0:le.data)==null?void 0:ue.error)||"Failed to add follow-up. Please check all fields and try again.";alert(re)}finally{Te(!1)}},$d=()=>{var w,$;me({itinerary_name:"",start_date:n!=null&&n.travel_start_date?ce(n.travel_start_date):"",end_date:n!=null&&n.travel_end_date?ce(n.travel_end_date):"",adult:((w=n==null?void 0:n.adult)==null?void 0:w.toString())||"1",child:(($=n==null?void 0:n.child)==null?void 0:$.toString())||"0",destinations:(n==null?void 0:n.destination)||"",notes:(n==null?void 0:n.remark)||""}),P(!0)},Ld=async()=>{C(!0),T(!0);try{const H=((await Dn.list()).data.data||[]).map(q=>{if(q.image){if(q.image.startsWith("/storage")||q.image.startsWith("/")&&!q.image.startsWith("http")){let K="http://localhost:8000/api";K=K.replace("/api",""),q.image=`${K}${q.image}`}q.image.includes("localhost")&&!q.image.includes(":8000")&&(q.image=q.image.replace("localhost","localhost:8000"))}return q});E(H)}catch(w){console.error("Failed to fetch itineraries:",w),alert("Failed to load itineraries")}finally{T(!1)}},N=w=>{const $={id:Date.now(),itinerary_id:w.id,itinerary_name:w.title||w.itinerary_name||"Untitled Itinerary",destination:w.destination||w.destinations||"",duration:w.duration||0,price:w.price||0,website_cost:w.website_cost||0,image:w.image||null,notes:w.notes||"",created_at:new Date().toISOString(),inserted_at:new Date().toISOString()},H=[...S,$];ya(H),C(!1),D(""),alert(`Itinerary "${$.itinerary_name}" has been added to proposals.`)},z=O.filter(w=>{if(!w.show_on_website)return!1;const $=A.toLowerCase();return(w.title||w.itinerary_name||"").toLowerCase().includes($)||(w.destination||w.destinations||"").toLowerCase().includes($)||(w.details||w.notes||"").toLowerCase().includes($)}),ce=w=>{if(!w)return"";const $=new Date(w),H=$.getFullYear(),q=String($.getMonth()+1).padStart(2,"0"),K=String($.getDate()).padStart(2,"0");return`${H}-${q}-${K}`},G=w=>w?`Q-${String(w).padStart(4,"0")}`:"N/A",ye=async w=>{w.preventDefault(),alert("Itinerary save functionality will be implemented once API is ready"),P(!1)},Ee=w=>{if(!w)return"N/A";const $=new Date(w),H=String($.getDate()).padStart(2,"0"),q=String($.getMonth()+1).padStart(2,"0"),K=$.getFullYear();return`${H}-${q}-${K}`},rt=w=>{if(!w)return"N/A";const $=new Date(w),H=String($.getDate()).padStart(2,"0"),q=String($.getMonth()+1).padStart(2,"0"),K=$.getFullYear(),le=String($.getHours()).padStart(2,"0"),ue=String($.getMinutes()).padStart(2,"0"),oe=le>=12?"PM":"AM",re=le%12||12;return`${H}/${q}/${K} - ${re}:${ue} ${oe}`},Tr=w=>{if(!w)return"N/A";const $=new Date(w);return["January","February","March","April","May","June","July","August","September","October","November","December"][$.getMonth()]},rs=w=>{try{const $=localStorage.getItem(`itinerary_${w.itinerary_id}_events`);if(!$)return null;const H=JSON.parse($),q=w.optionNumber||1,K={hotels:[],meals:[],activities:[],transport:[],other:[]};return Object.keys(H).sort((le,ue)=>parseInt(le)-parseInt(ue)).forEach(le=>{(H[le]||[]).forEach(oe=>{oe.eventType==="accommodation"&&oe.hotelOptions?oe.hotelOptions.forEach(re=>{re.optionNumber===q&&K.hotels.push({name:re.hotelName||oe.subject||"Hotel",room:re.roomName||"Standard Room",mealPlan:re.mealPlan||"Room Only",day:parseInt(le),category:re.category?`${re.category} Star`:"3 Star",image:re.image||oe.image||null,checkIn:re.checkIn||"",checkOut:re.checkOut||"",checkInTime:re.checkInTime||"",checkOutTime:re.checkOutTime||""})}):oe.eventType==="meal"?K.meals.push({name:oe.subject||"Meal",type:oe.mealType||oe.details||"Meal",day:parseInt(le),image:oe.image||null}):oe.eventType==="activity"?K.activities.push({name:oe.subject||"Activity",details:oe.details||"",day:parseInt(le),image:oe.image||null}):oe.eventType==="transportation"||oe.eventType==="transport"?K.transport.push({name:oe.subject||"Transport",details:oe.details||oe.transferType||"",day:parseInt(le),image:oe.image||null}):oe.eventType&&!["accommodation","meal","activity","transportation","transport","day-itinerary"].includes(oe.eventType)&&K.other.push({name:oe.subject||"Service",type:oe.eventType||"other",details:oe.details||"",day:parseInt(le),image:oe.image||null})})}),K}catch($){return console.error("Error getting package details:",$),null}},Qn=async w=>{xe(!0),I(w),W(null);try{const $=localStorage.getItem(`itinerary_${w.itinerary_id}_events`),H=localStorage.getItem(`itinerary_${w.itinerary_id}_pricing`),q=localStorage.getItem(`itinerary_${w.itinerary_id}_settings`);let K={},le={},ue={};$&&(K=JSON.parse($)),H&&(le=JSON.parse(H)),q&&(ue=JSON.parse(q));const oe={};Object.keys(K).forEach(it=>{(K[it]||[]).forEach(Ve=>{Ve.eventType==="accommodation"&&Ve.hotelOptions&&Ve.hotelOptions.forEach(ln=>{const _n=ln.optionNumber||1;oe[_n]||(oe[_n]=[]),oe[_n].push({...ln,day:parseInt(it),image:ln.image||Ve.image||null})})})});const Ne=(await Dn.get(w.itinerary_id)).data.data.package||{};ae({itinerary:{...Ne,duration:w.duration||Ne.duration,destinations:w.destination||Ne.destinations},hotelOptions:oe});const Oe=Object.keys(oe).sort((it,cr)=>parseInt(it)-parseInt(cr));Oe.length>0?W(Oe[0]):w.optionNumber&&W(w.optionNumber.toString()),X(!0)}catch($){console.error("Failed to load quotation:",$),alert("Failed to load quotation data")}finally{xe(!1)}},Sn=async()=>{var w;try{const $=await Fe.getByKey("selected_email_template");return $.data.success&&((w=$.data.data)!=null&&w.value)?$.data.data.value:"template-1"}catch($){return console.error("Failed to load template:",$),"template-1"}},Bi=async()=>{var w,$,H,q,K,le;try{const[ue,oe,re,Ne,Oe,it]=await Promise.all([Fe.getByKey("remarks"),Fe.getByKey("terms_conditions"),Fe.getByKey("confirmation_policy"),Fe.getByKey("cancellation_policy"),Fe.getByKey("amendment_policy"),Fe.getByKey("thank_you_message")]);return{remarks:ue.data.success&&((w=ue.data.data)!=null&&w.value)?ue.data.data.value:"",termsConditions:oe.data.success&&(($=oe.data.data)!=null&&$.value)?oe.data.data.value:"",confirmationPolicy:re.data.success&&((H=re.data.data)!=null&&H.value)?re.data.data.value:"",cancellationPolicy:Ne.data.success&&((q=Ne.data.data)!=null&&q.value)?Ne.data.data.value:"",amendmentPolicy:Oe.data.success&&((K=Oe.data.data)!=null&&K.value)?Oe.data.data.value:"",thankYouMessage:it.data.success&&((le=it.data.data)!=null&&le.value)?it.data.data.value:""}}catch(ue){return console.error("Failed to load policies:",ue),{remarks:"",termsConditions:"",confirmationPolicy:"",cancellationPolicy:"",amendmentPolicy:"",thankYouMessage:""}}},Kr=w=>w?w.split(`
`).map($=>{const H=$.trim();return H.startsWith("-")||H.startsWith("")||H.match(/^\d+\./)?`<li style="margin: 5px 0; color: #555;">${H.replace(/^[-]\s*|\d+\.\s*/,"")}</li>`:H===""?"":`<p style="margin: 8px 0; color: #555;">${H}</p>`}).join(""):"",sn=(w,$,H={})=>{if(!$)return"";const q=Kr($),K=q.includes("<li>");return`
      <div style="background: ${H.termsBg||"#f8f9fa"}; padding: 20px; border-radius: ${H.borderRadius||"10px"}; margin-top: 20px; border: ${H.termsBorder||"1px solid #e5e7eb"}; box-shadow: ${H.termsShadow||"0 3px 10px rgba(0,0,0,0.1)"};">
        <h4 style="margin: 0 0 12px 0; font-size: ${H.termsTitleSize||"18px"}; color: ${H.termsTitleColor||"#333"}; font-weight: bold;">${w}</h4>
        <div style="color: #555; line-height: 1.7; font-size: ${H.termsTextSize||"14px"};">
          ${K?`<ul style="margin: 0; padding-left: 20px;">${q}</ul>`:q}
        </div>
      </div>
    `},kn=(w,$={})=>{let H="";return w.remarks&&(H+=sn("Remarks",w.remarks,$)),w.termsConditions&&(H+=sn("Terms & Conditions",w.termsConditions,$)),w.confirmationPolicy&&(H+=sn("Confirmation Policy",w.confirmationPolicy,$)),w.cancellationPolicy&&(H+=sn("Cancellation Policy",w.cancellationPolicy,$)),w.amendmentPolicy&&(H+=sn("Amendment Policy (Postpone & Prepone Policy)",w.amendmentPolicy,$)),H},Ui=(w,$={})=>sn("Terms & Conditions",w,$),Rd=(w,$,H,q={})=>{let K=`
      <div style="font-family: 'Arial', sans-serif; max-width: 800px; margin: 0 auto; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px 20px;">
        <div style="background: white; padding: 40px; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.3), 0 0 0 1px rgba(255,255,255,0.1);">
          <h1 style="margin: 0; font-size: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; font-weight: bold;">TravelOps</h1>
          <p style="text-align: center; color: #666; margin-top: 10px;">Delhi, India | Email: info@travelops.com | Mobile: +91-9871023004</p>
        </div>
        <div style="background: white; padding: 30px; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.2), inset 0 -5px 15px rgba(0,0,0,0.1);">
          <h2 style="margin-top: 0; font-size: 32px; color: #667eea; text-align: center;">Travel Quotation</h2>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
            <div style="padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);"><strong>Query ID:</strong> ${G(n==null?void 0:n.id)}</div>
            <div style="padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);"><strong>Destination:</strong> ${w.destinations||"N/A"}</div>
            <div style="padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);"><strong>Duration:</strong> ${w.duration||0} Nights & ${(w.duration||0)+1} Days</div>
            <div style="padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);"><strong>Adults:</strong> ${(n==null?void 0:n.adult)||1} | <strong>Children:</strong> ${(n==null?void 0:n.child)||0}</div>
          </div>
        </div>
    `;return $.forEach(le=>{const ue=H[le]||[],oe=ue.reduce((re,Ne)=>re+(parseFloat(Ne.price)||0),0);K+=`
        <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px; box-shadow: 0 25px 50px rgba(0,0,0,0.25), 0 0 0 1px rgba(102,126,234,0.1); position: relative;">
          <div style="position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 60px; height: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; box-shadow: 0 10px 20px rgba(102,126,234,0.4); display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: bold;">${le}</div>
          <div style="margin-top: 30px;">
            <h2 style="margin: 0 0 25px 0; font-size: 28px; color: #667eea; text-align: center;">Option ${le}</h2>
      `,ue.forEach(re=>{K+=`
          <div style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: inset 0 2px 10px rgba(0,0,0,0.1), 0 5px 15px rgba(0,0,0,0.1);">
            <h4 style="margin: 0 0 15px 0; color: #333; font-size: 20px;">Day ${re.day}: ${re.hotelName||"Hotel"}</h4>
            <p style="margin: 8px 0; color: #555;"><strong>Category:</strong> ${re.category?`${re.category} Star`:"N/A"}</p>
            <p style="margin: 8px 0; color: #555;"><strong>Room:</strong> ${re.roomName||"N/A"}</p>
            <p style="margin: 8px 0; color: #555;"><strong>Meal Plan:</strong> ${re.mealPlan||"N/A"}</p>
            ${re.price?`<p style="margin: 8px 0; color: #555;"><strong>Price:</strong> ${parseFloat(re.price).toLocaleString("en-IN")}</p>`:""}
          </div>
        `}),K+=`
          <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; font-size: 28px; font-weight: bold; box-shadow: 0 10px 30px rgba(102,126,234,0.4), inset 0 -5px 15px rgba(0,0,0,0.2);">
            Total Package Price: ${oe.toLocaleString("en-IN")}
          </div>
        </div>
      </div>
    `}),K+=`
        <div style="background: rgba(255,255,255,0.95); padding: 30px; border-radius: 20px; text-align: center; box-shadow: 0 15px 35px rgba(0,0,0,0.2);">
          <p style="margin: 5px 0; font-size: 18px; font-weight: bold; color: #667eea;">Thank you for choosing TravelOps!</p>
          <p style="margin: 10px 0 5px 0; color: #666;"> +91-9871023004 |  www.travelops.com</p>
        </div>
      </div>
    `,K},Fd=(w,$,H,q={})=>{let K=`
      <div style="font-family: 'Arial', sans-serif; max-width: 800px; margin: 0 auto; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); padding: 40px 20px;">
        <div style="background: white; padding: 40px; border-radius: 15px; margin-bottom: 40px; box-shadow: 0 30px 60px rgba(0,0,0,0.4), 0 0 0 3px rgba(255,255,255,0.2);">
          <h1 style="margin: 0; font-size: 48px; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; font-weight: bold;">TravelOps</h1>
          <p style="text-align: center; color: #666; margin-top: 10px;">Delhi, India | Email: info@travelops.com | Mobile: +91-9871023004</p>
        </div>
        <div style="background: white; padding: 30px; border-radius: 15px; margin-bottom: 40px; box-shadow: 0 20px 50px rgba(0,0,0,0.3), 0 0 0 2px rgba(255,255,255,0.1);">
          <h2 style="margin-top: 0; font-size: 32px; color: #1e3c72; text-align: center;">Travel Quotation</h2>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
            <div style="padding: 15px; background: #f0f4ff; border-radius: 10px; border-left: 4px solid #2a5298; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"><strong>Query ID:</strong> ${G(n==null?void 0:n.id)}</div>
            <div style="padding: 15px; background: #f0f4ff; border-radius: 10px; border-left: 4px solid #2a5298; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"><strong>Destination:</strong> ${w.destinations||"N/A"}</div>
            <div style="padding: 15px; background: #f0f4ff; border-radius: 10px; border-left: 4px solid #2a5298; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"><strong>Duration:</strong> ${w.duration||0} Nights & ${(w.duration||0)+1} Days</div>
            <div style="padding: 15px; background: #f0f4ff; border-radius: 10px; border-left: 4px solid #2a5298; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"><strong>Adults:</strong> ${(n==null?void 0:n.adult)||1} | <strong>Children:</strong> ${(n==null?void 0:n.child)||0}</div>
          </div>
        </div>
    `;return $.forEach((le,ue)=>{const oe=H[le]||[],re=oe.reduce((Oe,it)=>Oe+(parseFloat(it.price)||0),0),Ne=ue%2===0?"right: 30px;":"left: 30px;";K+=`
        <div style="background: white; padding: 35px; border-radius: 20px; margin-bottom: 40px; box-shadow: 0 35px 70px rgba(0,0,0,0.35), 0 0 0 2px rgba(42,82,152,0.2); position: relative;">
          <div style="position: absolute; top: -20px; ${Ne} width: 80px; height: 80px; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); border-radius: 15px; box-shadow: 0 15px 30px rgba(30,60,114,0.5); display: flex; align-items: center; justify-content: center; color: white; font-size: 32px; font-weight: bold;">${le}</div>
          <div style="margin-top: 20px;">
            <h2 style="margin: 0 0 25px 0; font-size: 28px; color: #1e3c72; text-align: center;">Option ${le}</h2>
      `,oe.forEach(Oe=>{K+=`
          <div style="background: linear-gradient(135deg, #e8f0ff 0%, #d0e0ff 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.15), inset 0 2px 5px rgba(255,255,255,0.5);">
            <h4 style="margin: 0 0 15px 0; color: #1e3c72; font-size: 20px;">Day ${Oe.day}: ${Oe.hotelName||"Hotel"}</h4>
            <p style="margin: 8px 0; color: #333;"><strong>Category:</strong> ${Oe.category?`${Oe.category} Star`:"N/A"}</p>
            <p style="margin: 8px 0; color: #333;"><strong>Room:</strong> ${Oe.roomName||"N/A"}</p>
            <p style="margin: 8px 0; color: #333;"><strong>Meal Plan:</strong> ${Oe.mealPlan||"N/A"}</p>
            ${Oe.price?`<p style="margin: 8px 0; color: #333;"><strong>Price:</strong> ${parseFloat(Oe.price).toLocaleString("en-IN")}</p>`:""}
          </div>
        `}),K+=`
          <div style="background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; font-size: 28px; font-weight: bold; box-shadow: 0 15px 35px rgba(30,60,114,0.5), inset 0 -5px 15px rgba(0,0,0,0.2);">
            Total Package Price: ${re.toLocaleString("en-IN")}
          </div>
        </div>
      </div>
    `}),K+=`
        ${kn(q,{termsBg:"rgba(255,255,255,0.95)",borderRadius:"15px",termsBorder:"2px solid #1e3c72",termsShadow:"0 15px 40px rgba(0,0,0,0.3)",termsTitleColor:"#1e3c72",termsTitleSize:"20px",termsTextSize:"14px"})}
        ${q.thankYouMessage?`
        <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 15px; margin-top: 30px; border: 2px solid #1e3c72; box-shadow: 0 15px 40px rgba(0,0,0,0.3);">
          <div style="color: #555; line-height: 1.8; font-size: 14px;">
            ${Kr(q.thankYouMessage)}
          </div>
        </div>
        `:""}
        <div style="background: rgba(255,255,255,0.95); padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.3); margin-top: 30px;">
          <p style="margin: 5px 0; font-size: 18px; font-weight: bold; color: #1e3c72;">Thank you for choosing TravelOps!</p>
          <p style="margin: 10px 0 5px 0; color: #666;"> +91-9871023004 |  www.travelops.com</p>
        </div>
      </div>
    `,K},zd=(w,$,H,q={})=>{let K=`
      <div style="font-family: 'Arial', sans-serif; max-width: 800px; margin: 0 auto; background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%); padding: 50px 20px;">
        <div style="position: relative; margin-bottom: 50px;">
          <div style="background: rgba(255,255,255,0.1); padding: 50px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); position: relative; z-index: 3;">
            <div style="background: rgba(255,255,255,0.15); padding: 40px; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.4); position: relative; z-index: 2;">
              <div style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); position: relative; z-index: 1;">
                <h1 style="margin: 0; font-size: 48px; background: linear-gradient(135deg, #0f2027 0%, #2c5364 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; font-weight: bold;">TravelOps</h1>
                <p style="text-align: center; color: #666; margin-top: 10px;">Delhi, India | Email: info@travelops.com | Mobile: +91-9871023004</p>
              </div>
            </div>
          </div>
        </div>
        <div style="position: relative; margin-bottom: 50px;">
          <div style="background: rgba(255,255,255,0.95); padding: 30px; border-radius: 20px; box-shadow: 0 25px 60px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.2); position: relative; z-index: 2;">
            <h2 style="margin-top: 0; font-size: 32px; color: #0f2027; text-align: center;">Travel Quotation</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
              <div style="padding: 15px; background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1), inset 0 2px 5px rgba(255,255,255,0.5);"><strong>Query ID:</strong> ${G(n==null?void 0:n.id)}</div>
              <div style="padding: 15px; background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1), inset 0 2px 5px rgba(255,255,255,0.5);"><strong>Destination:</strong> ${w.destinations||"N/A"}</div>
              <div style="padding: 15px; background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1), inset 0 2px 5px rgba(255,255,255,0.5);"><strong>Duration:</strong> ${w.duration||0} Nights & ${(w.duration||0)+1} Days</div>
              <div style="padding: 15px; background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1), inset 0 2px 5px rgba(255,255,255,0.5);"><strong>Adults:</strong> ${(n==null?void 0:n.adult)||1} | <strong>Children:</strong> ${(n==null?void 0:n.child)||0}</div>
            </div>
          </div>
        </div>
    `;return $.forEach(le=>{const ue=H[le]||[],oe=ue.reduce((re,Ne)=>re+(parseFloat(Ne.price)||0),0);K+=`
        <div style="position: relative; margin-bottom: 50px;">
          <div style="background: rgba(255,255,255,0.1); padding: 35px; border-radius: 25px; box-shadow: 0 30px 70px rgba(0,0,0,0.5); position: relative; z-index: 3;">
            <div style="background: rgba(255,255,255,0.2); padding: 30px; border-radius: 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.4); position: relative; z-index: 2;">
              <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.3); position: relative; z-index: 1;">
                <div style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); width: 70px; height: 70px; background: linear-gradient(135deg, #0f2027 0%, #2c5364 100%); border-radius: 50%; box-shadow: 0 15px 35px rgba(15,32,39,0.6); display: flex; align-items: center; justify-content: center; color: white; font-size: 28px; font-weight: bold; z-index: 4;">${le}</div>
                <div style="margin-top: 30px;">
                  <h2 style="margin: 0 0 25px 0; font-size: 28px; color: #0f2027; text-align: center;">Option ${le}</h2>
      `,ue.forEach(re=>{K+=`
          <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.15), inset 0 2px 5px rgba(255,255,255,0.5);">
            <h4 style="margin: 0 0 15px 0; color: #0f2027; font-size: 20px;">Day ${re.day}: ${re.hotelName||"Hotel"}</h4>
            <p style="margin: 8px 0; color: #333;"><strong>Category:</strong> ${re.category?`${re.category} Star`:"N/A"}</p>
            <p style="margin: 8px 0; color: #333;"><strong>Room:</strong> ${re.roomName||"N/A"}</p>
            <p style="margin: 8px 0; color: #333;"><strong>Meal Plan:</strong> ${re.mealPlan||"N/A"}</p>
            ${re.price?`<p style="margin: 8px 0; color: #333;"><strong>Price:</strong> ${parseFloat(re.price).toLocaleString("en-IN")}</p>`:""}
          </div>
        `}),K+=`
          <div style="background: linear-gradient(135deg, #0f2027 0%, #2c5364 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; font-size: 28px; font-weight: bold; box-shadow: 0 15px 35px rgba(15,32,39,0.6), inset 0 -5px 15px rgba(0,0,0,0.2);">
            Total Package Price: ${oe.toLocaleString("en-IN")}
          </div>
        </div>
      </div>
    </div>
    `}),K+=`
        ${kn(q,{termsBg:"rgba(255,255,255,0.95)",borderRadius:"20px",termsBorder:"2px solid #0f2027",termsShadow:"0 20px 50px rgba(0,0,0,0.4)",termsTitleColor:"#0f2027",termsTitleSize:"20px",termsTextSize:"14px"})}
        ${q.thankYouMessage?`
        <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 20px; margin-top: 30px; border: 2px solid #0f2027; box-shadow: 0 20px 50px rgba(0,0,0,0.4);">
          <div style="color: #555; line-height: 1.8; font-size: 14px;">
            ${Kr(q.thankYouMessage)}
          </div>
        </div>
        `:""}
        <div style="position: relative;">
          <div style="background: rgba(255,255,255,0.95); padding: 30px; border-radius: 20px; text-align: center; box-shadow: 0 25px 60px rgba(0,0,0,0.4); position: relative; z-index: 2; margin-top: 30px;">
            <p style="margin: 5px 0; font-size: 18px; font-weight: bold; color: #0f2027;">Thank you for choosing TravelOps!</p>
            <p style="margin: 10px 0 5px 0; color: #666;"> +91-9871023004 |  www.travelops.com</p>
          </div>
        </div>
      </div>
    `,K},Bd=(w,$,H,q={})=>{let K=`
      <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; background: #d1fae5;">
        <div style="background: #65a30d; padding: 40px 30px; text-align: center;">
          <h1 style="margin: 0; font-size: 48px; font-weight: bold; color: white; text-transform: uppercase; letter-spacing: 3px;">EXPLORE</h1>
          <p style="margin: 10px 0 0 0; font-size: 28px; color: white; font-style: italic;">The World</p>
          <p style="margin: 20px 0 0 0; font-size: 16px; color: white; text-transform: uppercase; letter-spacing: 2px;">ORGANIZE YOUR TRIP WITH US</p>
        </div>
        <div style="padding: 30px; background: #d1fae5;">
          <div style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 25px; border-left: 5px solid #65a30d;">
            <h2 style="margin-top: 0; color: #365314; font-size: 24px;">Travel Quotation</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
              <div><strong style="color: #365314;">Query ID:</strong> ${G(n==null?void 0:n.id)}</div>
              <div><strong style="color: #365314;">Destination:</strong> ${w.destinations||"N/A"}</div>
              <div><strong style="color: #365314;">Duration:</strong> ${w.duration||0} Nights & ${(w.duration||0)+1} Days</div>
              <div><strong style="color: #365314;">Adults:</strong> ${(n==null?void 0:n.adult)||1} | <strong>Children:</strong> ${(n==null?void 0:n.child)||0}</div>
            </div>
          </div>
    `;return $.forEach(le=>{const ue=H[le]||[],oe=ue.reduce((re,Ne)=>re+(parseFloat(Ne.price)||0),0);K+=`
        <div style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 25px; border: 2px solid #84cc16;">
          <div style="background: #65a30d; color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
            <h2 style="margin: 0; font-size: 24px;">Option ${le}</h2>
          </div>
          <div style="margin: 20px 0;">
            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
              <div style="width: 40px; height: 40px; background: #84cc16; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;"></div>
              <h3 style="margin: 0; color: #365314; font-size: 20px;">Hotels Included</h3>
            </div>
      `,ue.forEach(re=>{K+=`
          <div style="background: #f7fee7; padding: 20px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #84cc16;">
            <h4 style="margin: 0 0 10px 0; color: #365314; font-size: 18px;">Day ${re.day}: ${re.hotelName||"Hotel"}</h4>
            <p style="margin: 5px 0; color: #365314;"><strong>Category:</strong> ${re.category?`${re.category} Star`:"N/A"}</p>
            <p style="margin: 5px 0; color: #365314;"><strong>Room:</strong> ${re.roomName||"N/A"}</p>
            <p style="margin: 5px 0; color: #365314;"><strong>Meal Plan:</strong> ${re.mealPlan||"N/A"}</p>
            ${re.checkIn?`<p style="margin: 5px 0; color: #365314;"><strong>Check-in:</strong> ${re.checkIn} ${re.checkInTime||""}</p>`:""}
            ${re.checkOut?`<p style="margin: 5px 0; color: #365314;"><strong>Check-out:</strong> ${re.checkOut} ${re.checkOutTime||""}</p>`:""}
            ${re.price?`<p style="margin: 5px 0; color: #365314;"><strong>Price:</strong> ${parseFloat(re.price).toLocaleString("en-IN")}</p>`:""}
          </div>
        `}),K+=`
          <div style="background: #65a30d; color: white; padding: 20px; text-align: center; border-radius: 8px; font-size: 24px; font-weight: bold;">
            Total Package Price: ${oe.toLocaleString("en-IN")}
          </div>
        </div>
      </div>
    `}),K+=`
        </div>
        ${kn(q,{termsBg:"white",borderRadius:"8px",termsBorder:"2px solid #84cc16",termsShadow:"0 5px 15px rgba(0,0,0,0.1)",termsTitleColor:"#365314",termsTitleSize:"18px",termsTextSize:"14px"})}
        ${q.thankYouMessage?`
        <div style="background: white; padding: 25px; border-radius: 8px; margin-top: 30px; border: 2px solid #84cc16; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
          <div style="color: #365314; line-height: 1.8; font-size: 14px;">
            ${Kr(q.thankYouMessage)}
          </div>
        </div>
        `:""}
        <div style="background: #365314; color: #fef3c7; padding: 25px; text-align: center; margin-top: 30px;">
          <p style="margin: 5px 0; font-size: 18px; font-weight: bold;">BOOK NOW</p>
          <p style="margin: 10px 0 5px 0;"> Delhi, India</p>
          <p style="margin: 5px 0;"> +91-9871023004</p>
          <p style="margin: 5px 0;"> www.travelops.com</p>
        </div>
      </div>
    `,K},Ud=(w,$,H,q={})=>{let K=`
      <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; background: white;">
        <div style="background: linear-gradient(180deg, #0ea5e9 0%, #06b6d4 50%, #22d3ee 100%); padding: 50px 30px; text-align: center; position: relative; overflow: hidden;">
          <div style="position: absolute; bottom: 0; left: 0; right: 0; height: 50px; background: #fef3c7; border-radius: 50% 50% 0 0 / 100% 100% 0 0;"></div>
          <div style="position: relative; z-index: 1;">
            <h1 style="margin: 0; font-size: 42px; color: white; font-weight: bold;">Explore The World</h1>
            <p style="margin: 10px 0 0 0; font-size: 18px; color: white; text-transform: uppercase; letter-spacing: 2px;">WITH US</p>
          </div>
        </div>
        <div style="padding: 30px; background: #fef3c7;">
          <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <h2 style="margin-top: 0; color: #0891b2; font-size: 28px;">Travel Quotation</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
              <div><strong style="color: #164e63;">Query ID:</strong> ${G(n==null?void 0:n.id)}</div>
              <div><strong style="color: #164e63;">Destination:</strong> ${w.destinations||"N/A"}</div>
              <div><strong style="color: #164e63;">Duration:</strong> ${w.duration||0} Nights & ${(w.duration||0)+1} Days</div>
              <div><strong style="color: #164e63;">Adults:</strong> ${(n==null?void 0:n.adult)||1} | <strong>Children:</strong> ${(n==null?void 0:n.child)||0}</div>
            </div>
          </div>
    `;return $.forEach(le=>{const ue=H[le]||[],oe=ue.reduce((re,Ne)=>re+(parseFloat(Ne.price)||0),0);K+=`
        <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
          <div style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h2 style="margin: 0; font-size: 28px;">Option ${le}</h2>
          </div>
          <h3 style="color: #0891b2; margin-top: 0; font-size: 22px;"> Hotels Included</h3>
      `,ue.forEach(re=>{K+=`
          <div style="background: #ecfeff; padding: 20px; border-radius: 10px; margin-bottom: 15px; border: 2px solid #06b6d4;">
            <div style="display: flex; gap: 15px;">
              ${re.image?`<img src="${re.image}" alt="${re.hotelName}" style="width: 120px; height: 120px; object-fit: cover; border-radius: 50%; flex-shrink: 0;" />`:'<div style="width: 120px; height: 120px; background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: white; font-size: 40px;"></div>'}
              <div style="flex: 1;">
                <h4 style="margin: 0 0 10px 0; color: #164e63; font-size: 20px;">Day ${re.day}: ${re.hotelName||"Hotel"}</h4>
                <p style="margin: 5px 0; color: #164e63;"><strong>Category:</strong> ${re.category?`${re.category} Star`:"N/A"}</p>
                <p style="margin: 5px 0; color: #164e63;"><strong>Room:</strong> ${re.roomName||"N/A"}</p>
                <p style="margin: 5px 0; color: #164e63;"><strong>Meal Plan:</strong> ${re.mealPlan||"N/A"}</p>
                ${re.price?`<p style="margin: 5px 0; color: #164e63;"><strong>Price:</strong> ${parseFloat(re.price).toLocaleString("en-IN")}</p>`:""}
              </div>
            </div>
          </div>
        `}),K+=`
          <div style="background: #0891b2; color: white; padding: 25px; text-align: center; border-radius: 10px; font-size: 28px; font-weight: bold;">
            Total Package Price: ${oe.toLocaleString("en-IN")}
          </div>
        </div>
      `}),K+=`
        </div>
        ${kn(q,{termsBg:"white",borderRadius:"12px",termsBorder:"2px solid #06b6d4",termsShadow:"0 5px 15px rgba(0,0,0,0.1)",termsTitleColor:"#0891b2",termsTitleSize:"18px",termsTextSize:"14px"})}
        ${q.thankYouMessage?`
        <div style="background: white; padding: 25px; border-radius: 12px; margin-top: 30px; border: 2px solid #06b6d4; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
          <div style="color: #164e63; line-height: 1.8; font-size: 14px;">
            ${Kr(q.thankYouMessage)}
          </div>
        </div>
        `:""}
        <div style="background: #164e63; color: white; padding: 25px; text-align: center; margin-top: 30px;">
          <p style="margin: 5px 0; font-size: 18px; font-weight: bold;">Thank you for choosing TravelOps!</p>
          <p style="margin: 10px 0 5px 0;"> +91-9871023004 |  www.travelops.com</p>
        </div>
      </div>
    `,K},Hd=(w,$,H,q={})=>{let K=`
      <div style="font-family: 'Georgia', serif; max-width: 800px; margin: 0 auto; background: white;">
        <div style="background: #3f6212; color: #fef3c7; padding: 40px 30px; text-align: center;">
          <h1 style="margin: 0; font-size: 48px; font-style: italic; font-weight: normal;">Travel</h1>
          <p style="margin: 5px 0 0 0; font-size: 24px; letter-spacing: 3px;">Package Pricelist</p>
          <p style="margin: 20px 0 0 0; font-size: 14px; max-width: 600px; margin-left: auto; margin-right: auto;">
            Create your dream travel experience with our carefully curated packages, designed to make your journey truly unforgettable.
          </p>
        </div>
        <div style="padding: 30px; background: #f7fee7;">
          <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 25px; border: 1px solid #84cc16;">
            <h2 style="margin-top: 0; color: #365314; font-size: 24px;">Quote Details</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
              <div><strong style="color: #3f6212;">Query ID:</strong> ${G(n==null?void 0:n.id)}</div>
              <div><strong style="color: #3f6212;">Destination:</strong> ${w.destinations||"N/A"}</div>
              <div><strong style="color: #3f6212;">Duration:</strong> ${w.duration||0} Nights & ${(w.duration||0)+1} Days</div>
              <div><strong style="color: #3f6212;">Adults:</strong> ${(n==null?void 0:n.adult)||1} | <strong>Children:</strong> ${(n==null?void 0:n.child)||0}</div>
            </div>
          </div>
    `;return $.forEach(le=>{const ue=H[le]||[],oe=ue.reduce((re,Ne)=>re+(parseFloat(Ne.price)||0),0);K+=`
        <div style="background: #65a30d; padding: 25px; border-radius: 10px; margin-bottom: 25px;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h2 style="margin: 0; color: #fef3c7; font-size: 28px; font-weight: normal;">Option ${le}</h2>
            <div style="color: #fef3c7; font-size: 32px; font-weight: bold; text-decoration: underline;">${oe.toLocaleString("en-IN")}</div>
          </div>
      `,ue.forEach(re=>{K+=`
          <div style="background: #f7fee7; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
            <div style="display: flex; gap: 15px; margin-bottom: 15px;">
              ${re.image?`<img src="${re.image}" alt="${re.hotelName}" style="width: 100px; height: 100px; border-radius: 50%; flex-shrink: 0; object-fit: cover;" />`:'<div style="width: 100px; height: 100px; background: #84cc16; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: white; font-size: 40px;"></div>'}
              <div style="flex: 1;">
                <h4 style="margin: 0 0 10px 0; color: #365314; font-size: 20px;">Day ${re.day}: ${re.hotelName||"Hotel"}</h4>
                <ul style="margin: 0; padding-left: 20px; color: #365314;">
                  <li>${re.category?`${re.category} Star`:"N/A"} Category</li>
                  <li>${re.roomName||"Standard"} Room</li>
                  <li>${re.mealPlan||"Room Only"} Meal Plan</li>
                  ${re.checkIn?`<li>Check-in: ${re.checkIn} ${re.checkInTime||""}</li>`:""}
                </ul>
              </div>
            </div>
          </div>
        `}),K+="</div>"}),K+=`
        </div>
        ${Ui(termsConditions,{termsBg:"#f7fee7",borderRadius:"10px",termsBorder:"2px solid #84cc16",termsShadow:"0 5px 15px rgba(0,0,0,0.1)",termsTitleColor:"#365314",termsTitleSize:"22px",termsTextSize:"14px"})}
        <div style="background: #365314; color: #fef3c7; padding: 25px; text-align: center; margin-top: 30px;">
          <p style="margin: 5px 0;"> Delhi, India</p>
          <p style="margin: 5px 0;"> +91-9871023004 |  www.travelops.com</p>
        </div>
      </div>
    `,K},oo=async()=>{if(!B||!Q)return"";const w=await Sn(),$=await Bi(),H=B.itinerary,q=Object.keys(B.hotelOptions).sort((oe,re)=>parseInt(oe)-parseInt(re));if(w==="template-2")return Rd(H,q,B.hotelOptions,$);if(w==="template-3")return Fd(H,q,B.hotelOptions,$);if(w==="template-4")return zd(H,q,B.hotelOptions,$);if(w==="template-5")return Bd(H,q,B.hotelOptions,$);if(w==="template-6")return Ud(H,q,B.hotelOptions,$);if(w==="template-7")return Hd(H,q,B.hotelOptions,$);const K={"template-1":{headerBg:"linear-gradient(135deg, #2563eb 0%, #1e40af 100%)",optionBorder:"#2563eb",optionHeaderBg:"#2563eb",hotelCardBg:"#f0f9ff",priceBoxBg:"#dc2626",footerBg:"#1f2937"},"template-5":{headerBg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",optionBorder:"#667eea",optionHeaderBg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",hotelCardBg:"#f3f4f6",priceBoxBg:"#8b5cf6",footerBg:"#4b5563"},"template-6":{headerBg:"#ffffff",headerColor:"#1f2937",optionBorder:"#e5e7eb",optionHeaderBg:"#f9fafb",optionHeaderColor:"#1f2937",hotelCardBg:"#ffffff",priceBoxBg:"#059669",footerBg:"#f9fafb",footerColor:"#6b7280"}},le=K[w]||K["template-1"];let ue=`
      <html>
        <head>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
            .header { background: ${le.headerBg}; color: ${le.headerColor||"white"}; padding: 30px; text-align: center; }
            .header h1 { margin: 0; font-size: 32px; }
            .content { padding: 30px; max-width: 800px; margin: 0 auto; }
            .itinerary-image { width: 100%; max-width: 600px; height: 300px; object-fit: cover; border-radius: 10px; margin: 20px auto; display: block; }
            .quote-details { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
            .option-section { border: 2px solid ${le.optionBorder}; border-radius: 10px; padding: 25px; margin: 30px 0; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
            .option-header { background: ${le.optionHeaderBg}; color: ${le.optionHeaderColor||"white"}; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
            .hotel-card { background: ${le.hotelCardBg}; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid ${le.optionBorder}; }
            .hotel-image { width: 120px; height: 120px; object-fit: cover; border-radius: 8px; float: left; margin-right: 15px; }
            .price-box { background: ${le.priceBoxBg}; color: white; padding: 20px; text-align: center; border-radius: 8px; margin: 20px 0; font-size: 24px; font-weight: bold; }
            .footer { background: ${le.footerBg}; color: ${le.footerColor||"white"}; padding: 20px; text-align: center; }
            table { width: 100%; border-collapse: collapse; margin: 15px 0; }
            td { padding: 8px; border-bottom: 1px solid #e5e7eb; }
            .label { font-weight: bold; color: #4b5563; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>TravelOps</h1>
            <p>Delhi, India | Email: info@travelops.com | Mobile: +91-9871023004</p>
          </div>
          
          <div class="content">
            <h2 style="color: ${le.optionBorder}; font-size: 28px;">Travel Quotation</h2>
            
            ${H.image?`<img src="${H.image}" alt="${H.itinerary_name}" class="itinerary-image" />`:""}
            
            <div class="quote-details">
              <h3 style="margin-top: 0;">Quote Details</h3>
              <table>
                <tr><td class="label">Query ID:</td><td>${G(n==null?void 0:n.id)}</td></tr>
                <tr><td class="label">Destination:</td><td>${H.destinations||"N/A"}</td></tr>
                <tr><td class="label">Duration:</td><td>${H.duration||0} Nights & ${(H.duration||0)+1} Days</td></tr>
                <tr><td class="label">Adults:</td><td>${(n==null?void 0:n.adult)||1}</td></tr>
                <tr><td class="label">Children:</td><td>${(n==null?void 0:n.child)||0}</td></tr>
              </table>
            </div>
    `;return q.forEach(oe=>{const re=B.hotelOptions[oe]||[],Ne=re.reduce((Oe,it)=>Oe+(parseFloat(it.price)||0),0);ue+=`
        <div class="option-section">
          <div class="option-header">
            <h2 style="margin: 0; font-size: 24px;">Option ${oe}</h2>
          </div>
          
          <h3 style="color: #1e40af;"> Hotels Included:</h3>
      `,re.forEach((Oe,it)=>{ue+=`
          <div class="hotel-card">
            ${Oe.image?`<img src="${Oe.image}" alt="${Oe.hotelName}" class="hotel-image" />`:""}
            <div style="margin-left: ${Oe.image?"135px":"0"};">
              <h4 style="margin-top: 0; color: #1e40af; font-size: 18px;">Day ${Oe.day}: ${Oe.hotelName||"Hotel"}</h4>
              <p><strong>Category:</strong> ${Oe.category?`${Oe.category} Star`:"N/A"}</p>
              <p><strong>Room:</strong> ${Oe.roomName||"N/A"}</p>
              <p><strong>Meal Plan:</strong> ${Oe.mealPlan||"N/A"}</p>
              ${Oe.checkIn?`<p><strong>Check-in:</strong> ${Oe.checkIn} ${Oe.checkInTime||""}</p>`:""}
              ${Oe.checkOut?`<p><strong>Check-out:</strong> ${Oe.checkOut} ${Oe.checkOutTime||""}</p>`:""}
              ${Oe.price?`<p><strong>Price:</strong> ${parseFloat(Oe.price).toLocaleString("en-IN")}</p>`:""}
            </div>
            <div style="clear: both;"></div>
          </div>
        `}),ue+=`
          <div class="price-box">
            Total Package Price: ${Ne.toLocaleString("en-IN")}
          </div>
        </div>
      `}),ue+=`
          </div>
          
          ${kn($,{termsBg:"#f8f9fa",borderRadius:"10px",termsBorder:`2px solid ${le.optionBorder}`,termsShadow:"0 5px 15px rgba(0,0,0,0.1)",termsTitleColor:le.optionBorder,termsTitleSize:"18px",termsTextSize:"14px"})}
          ${$.thankYouMessage?`
          <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-top: 20px; border: 2px solid ${le.optionBorder}; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
            <div style="color: #555; line-height: 1.8; font-size: 14px;">
              ${Kr($.thankYouMessage)}
            </div>
          </div>
          `:""}
          
          <div class="footer">
            <p>Thank you for choosing TravelOps!</p>
            <p>For any queries, please contact us at info@travelops.com or +91-9871023004</p>
          </div>
        </body>
      </html>
    `,ue},Wd=async w=>{if(!B||!n){alert("Please load quotation first");return}const $=await oo(),H=encodeURIComponent(`Travel Quotation - ${B.itinerary.itinerary_name||"Itinerary"} - ${G(n.id)}`),q=new Blob([$],{type:"text/html"});URL.createObjectURL(q);const K=`mailto:${n.email||""}?subject=${H}&body=${encodeURIComponent("Please find the detailed travel quotation attached.")}`;navigator.clipboard.writeText($).then(()=>{window.open(K),alert("Email content copied to clipboard! Paste it in your email client. You can also print this quotation as PDF and attach it.")}).catch(()=>{const le=`Dear ${n.client_name||"Client"},

Please find below the travel quotation for your query:

${B.itinerary.itinerary_name||"Itinerary"}
Destination: ${B.itinerary.destinations||"N/A"}
Duration: ${B.itinerary.duration||0} Days

For detailed quotation with images, please use the Print option to generate PDF.

Best regards,
TravelOps Team`;window.location.href=`mailto:${n.email||""}?subject=${H}&body=${encodeURIComponent(le)}`})},Kd=w=>{var H;const $=document.querySelector(".quotation-content");if($){const q=window.open("","_blank");q.document.write(`
        <html>
          <head>
            <title>Travel Quotation - ${((H=B==null?void 0:B.itinerary)==null?void 0:H.itinerary_name)||"Itinerary"}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              .quotation-content { max-width: 800px; margin: 0 auto; }
              img { max-width: 100%; height: auto; }
              @media print {
                body { padding: 0; }
                .no-print { display: none; }
              }
            </style>
          </head>
          <body>
            ${$.innerHTML}
          </body>
        </html>
      `),q.document.close(),q.focus(),setTimeout(()=>{q.print()},250)}else window.print()},qd=w=>{var le;if(!B||!n){alert("Please load quotation first");return}const $=((le=n.phone)==null?void 0:le.replace(/[^0-9]/g,""))||"";if(!$){alert("Phone number not available");return}let H=`*Travel Quotation - ${B.itinerary.itinerary_name||"Itinerary"}*

`;H+=`Query ID: ${G(n.id)}
`,H+=`Destination: ${B.itinerary.destinations||"N/A"}
`,H+=`Duration: ${B.itinerary.duration||0} Days

`,Object.keys(B.hotelOptions).sort((ue,oe)=>parseInt(ue)-parseInt(oe)).forEach(ue=>{const oe=B.hotelOptions[ue]||[],re=oe.reduce((Ne,Oe)=>Ne+(parseFloat(Oe.price)||0),0);H+=`*Option ${ue}*
`,H+=`Hotels:
`,oe.forEach(Ne=>{H+=` Day ${Ne.day}: ${Ne.hotelName||"Hotel"} (${Ne.category||"N/A"} Star)
`,H+=`  Room: ${Ne.roomName||"N/A"} | Meal: ${Ne.mealPlan||"N/A"}
`}),H+=`Total Price: ${re.toLocaleString("en-IN")}

`}),H+=`For detailed quotation with images, please check your email or contact us.

`,H+=`Best regards,
TravelOps Team`;const K=`https://wa.me/${$}?text=${encodeURIComponent(H)}`;window.open(K,"_blank")},Vd=async(w,$,H,q,K,le)=>{const ue={"template-1":{headerBg:"linear-gradient(135deg, #2563eb 0%, #1e40af 100%)",optionBorder:"#2563eb",optionHeaderBg:"#2563eb",hotelCardBg:"#f0f9ff",priceBoxBg:"#dc2626",footerBg:"#1f2937"}},oe=ue[$]||ue["template-1"];let re=`
      <html>
        <head>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
            .header { background: ${oe.headerBg}; color: white; padding: 30px; text-align: center; }
            .header h1 { margin: 0; font-size: 32px; }
            .content { padding: 30px; max-width: 800px; margin: 0 auto; }
            .itinerary-image { width: 100%; max-width: 600px; height: 300px; object-fit: cover; border-radius: 10px; margin: 20px auto; display: block; }
            .quote-details { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
            .option-section { border: 2px solid ${oe.optionBorder}; border-radius: 10px; padding: 25px; margin: 30px 0; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
            .option-header { background: ${oe.optionHeaderBg}; color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
            .hotel-card { background: ${oe.hotelCardBg}; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid ${oe.optionBorder}; }
            .hotel-image { width: 120px; height: 120px; object-fit: cover; border-radius: 8px; float: left; margin-right: 15px; }
            .price-box { background: ${oe.priceBoxBg}; color: white; padding: 20px; text-align: center; border-radius: 8px; margin: 20px 0; font-size: 24px; font-weight: bold; }
            .footer { background: ${oe.footerBg}; color: white; padding: 20px; text-align: center; }
            table { width: 100%; border-collapse: collapse; margin: 15px 0; }
            td { padding: 8px; border-bottom: 1px solid #e5e7eb; }
            .label { font-weight: bold; color: #4b5563; }
            .confirmed-badge { background: #10b981; color: white; padding: 8px 16px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>TravelOps</h1>
            <p>Delhi, India | Email: info@travelops.com | Mobile: +91-9871023004</p>
          </div>
          
          <div class="content">
            <div class="confirmed-badge"> CONFIRMED ITINERARY</div>
            <h2 style="color: ${oe.optionBorder}; font-size: 28px;">Final Travel Itinerary</h2>
            
            ${q.image?`<img src="${q.image}" alt="${q.itinerary_name}" class="itinerary-image" />`:""}
            
            <div class="quote-details">
              <h3 style="margin-top: 0;">Quote Details</h3>
              <table>
                <tr><td class="label">Query ID:</td><td>${G(n==null?void 0:n.id)}</td></tr>
                <tr><td class="label">Destination:</td><td>${q.destinations||"N/A"}</td></tr>
                <tr><td class="label">Duration:</td><td>${q.duration||0} Nights & ${(q.duration||0)+1} Days</td></tr>
                <tr><td class="label">Adults:</td><td>${(n==null?void 0:n.adult)||1}</td></tr>
                <tr><td class="label">Children:</td><td>${(n==null?void 0:n.child)||0}</td></tr>
              </table>
            </div>
            
            <div class="option-section">
              <div class="option-header">
                <h2 style="margin: 0; font-size: 24px;">Confirmed Option ${w[0]}</h2>
              </div>
              
              <h3 style="color: #1e40af;"> Hotels Included:</h3>
    `;return K.forEach((Ne,Oe)=>{re+=`
        <div class="hotel-card">
          ${Ne.image?`<img src="${Ne.image}" alt="${Ne.hotelName}" class="hotel-image" />`:""}
          <div style="margin-left: ${Ne.image?"135px":"0"};">
            <h4 style="margin-top: 0; color: #1e40af; font-size: 18px;">Day ${Ne.day}: ${Ne.hotelName||"Hotel"}</h4>
            <p><strong>Category:</strong> ${Ne.category?`${Ne.category} Star`:"N/A"}</p>
            <p><strong>Room:</strong> ${Ne.roomName||"N/A"}</p>
            <p><strong>Meal Plan:</strong> ${Ne.mealPlan||"N/A"}</p>
            ${Ne.checkIn?`<p><strong>Check-in:</strong> ${Ne.checkIn} ${Ne.checkInTime||""}</p>`:""}
            ${Ne.checkOut?`<p><strong>Check-out:</strong> ${Ne.checkOut} ${Ne.checkOutTime||""}</p>`:""}
          </div>
          <div style="clear: both;"></div>
        </div>
      `}),re+=`
              <div class="price-box">
                Total Package Price: ${le.toLocaleString("en-IN")}
              </div>
            </div>
          </div>
          
          ${kn(H,{termsBg:"#f8f9fa",borderRadius:"10px",termsBorder:`2px solid ${oe.optionBorder}`,termsShadow:"0 5px 15px rgba(0,0,0,0.1)",termsTitleColor:oe.optionBorder,termsTitleSize:"18px",termsTextSize:"14px"})}
          
          <div class="footer">
            <p>Thank you for choosing TravelOps!</p>
            <p>For any queries, please contact us at info@travelops.com or +91-9871023004</p>
          </div>
        </body>
      </html>
    `,re},co=async()=>{const w=or();if(!w){alert("Please confirm an option first");return}if(!n||!n.email){alert("Client email not available");return}await Qn(w);const $=await Sn(),H=await Bi(),q=B.itinerary,K=w.optionNumber.toString(),le=B.hotelOptions[K]||[],ue=w.price||le.reduce((Ne,Oe)=>Ne+(parseFloat(Oe.price)||0),0),oe=await Vd([K],$,H,q,le,ue),re=encodeURIComponent(`Confirmed Travel Itinerary - ${q.itinerary_name||"Itinerary"} - ${G(n.id)}`);navigator.clipboard.writeText(oe).then(()=>{const Ne=`mailto:${n.email}?subject=${re}&body=${encodeURIComponent("Please find your confirmed travel itinerary attached.")}`;window.open(Ne),alert("Confirmed itinerary email content copied to clipboard! Paste it in your email client.")}).catch(()=>{window.location.href=`mailto:${n.email}?subject=${re}&body=${encodeURIComponent("Please find your confirmed travel itinerary attached.")}`})},uo=async()=>{const w=or();if(!w){alert("Please confirm an option first");return}if(!n||!n.phone){alert("Client phone number not available");return}await Qn(w);const $=n.phone.replace(/[^0-9]/g,""),H=w.optionNumber.toString(),q=B.hotelOptions[H]||[],K=w.price||q.reduce((oe,re)=>oe+(parseFloat(re.price)||0),0);let le=`* CONFIRMED TRAVEL ITINERARY*

`;le+=`*Travel Quotation - ${B.itinerary.itinerary_name||"Itinerary"}*

`,le+=`Query ID: ${G(n.id)}
`,le+=`Destination: ${B.itinerary.destinations||"N/A"}
`,le+=`Duration: ${B.itinerary.duration||0} Days

`,le+=`*Confirmed Option ${H}*
`,le+=`Hotels:
`,q.forEach(oe=>{le+=` Day ${oe.day}: ${oe.hotelName||"Hotel"} (${oe.category||"N/A"} Star)
`,le+=`  Room: ${oe.roomName||"N/A"} | Meal: ${oe.mealPlan||"N/A"}
`}),le+=`
*Total Package Price: ${K.toLocaleString("en-IN")}*

`,le+=`This is your confirmed itinerary. For detailed quotation with images, please check your email.

`,le+=`Best regards,
TravelOps Team`;const ue=`https://wa.me/${$}?text=${encodeURIComponent(le)}`;window.open(ue,"_blank")},ns=async w=>{try{await ta.updateStatus(e,w),Gs()}catch($){console.error("Failed to update status:",$),alert("Failed to update status")}};if(i)return a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!n)return a.jsx(ve,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"Lead not found"})})});const Hi=u.find(w=>w.id===n.assigned_to);return a.jsxs(ve,{children:[a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>t("/leads"),className:"text-gray-700 hover:text-gray-900",children:a.jsx(l_,{className:"h-5 w-5"})}),a.jsxs("h1",{className:"text-xl font-semibold text-gray-800",children:["Query ID: ",G(n.id)]}),n.priority==="hot"&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-red-500 text-white rounded",children:"HOT"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[a.jsx(Ke,{className:"h-4 w-4"}),"Shortcut"]}),a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",children:a.jsx(fr,{className:"h-5 w-5 text-gray-600"})}),a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",children:a.jsx(Qt,{className:"h-5 w-5 text-gray-600"})})]})]}),a.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Created: ",Ee(n.created_at)," | Last Updated: ",rt(n.updated_at)]}),a.jsx("div",{className:"flex gap-2 flex-wrap mb-6",children:[{key:"new",label:"New"},{key:"proposal",label:"Proposal Sent"},{key:"noConnect",label:"No Connect"},{key:"hotLead",label:"Hot Lead"},{key:"proposalConfirmed",label:"Proposal Con.."},{key:"cancel",label:"Cancel"},{key:"followup",label:"Follow Up"},{key:"confirmed",label:"Confirmed"},{key:"postponed",label:"Postponed"},{key:"invalid",label:"Invalid"}].map(({key:w,label:$})=>{const H=w==="new"&&n.status==="new"||w==="proposal"&&n.status==="proposal"||w==="followup"&&n.status==="followup"||w==="confirmed"&&n.status==="confirmed"||w==="cancel"&&n.status==="cancelled"||w==="hotLead"&&n.priority==="hot";return a.jsx("button",{onClick:()=>{w==="new"?ns("new"):w==="proposal"?ns("proposal"):w==="followup"?ns("followup"):w==="confirmed"?ns("confirmed"):w==="cancel"&&ns("cancelled")},className:`px-3 py-1.5 rounded-lg text-sm font-medium ${H?w==="new"?"bg-blue-600 text-white":"bg-green-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:$},w)})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"col-span-1 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-dashed border-blue-500",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Query Information"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Destination:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.destination||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"From Date:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.travel_start_date?Ee(n.travel_start_date):"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"To Date:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.travel_end_date?Ee(n.travel_end_date):n.travel_start_date?Ee(n.travel_start_date):"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Travel Month:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.travel_start_date?Tr(n.travel_start_date):"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Lead Source:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.source||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Services:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.service||"Activities only"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Pax:"}),a.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:["Adult: ",n.adult||"1"," - Child: ",n.child||"0"," - Infant: ",n.infant||"0"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Assign To:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:(Hi==null?void 0:Hi.name)||"N/A"})]}),n.remark&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Description:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.remark})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Related Customer"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:[n.client_title?`${n.client_title} `:"Mr. ",n.client_name]}),a.jsxs("div",{className:"text-gray-600",children:["Phone: ",n.phone||"N/A"]}),a.jsxs("div",{className:"text-gray-600",children:["Email: ",n.email||"N/A"]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Notes"}),!v&&a.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center gap-1",children:[a.jsx(Ke,{className:"h-4 w-4"}),"Add Note"]})]}),v&&a.jsxs("div",{className:"mb-4",children:[a.jsx("textarea",{value:g,onChange:w=>x(w.target.value),placeholder:"Type Note Here",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:"3"}),a.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[a.jsx("button",{onClick:()=>{h(!1),x("")},className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),a.jsx("button",{onClick:zb,disabled:y,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center gap-1 disabled:opacity-50",children:y?"Adding...":a.jsxs(a.Fragment,{children:[a.jsx(Ke,{className:"h-4 w-4"}),"Add Note"]})})]})]}),a.jsx("div",{className:"space-y-3",children:m.length===0?a.jsx("div",{className:"text-gray-500 text-sm",children:"No Notes"}):m.map((w,$)=>a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-600",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-800",children:w.content}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[rt(w.created_at)," by ",w.created_by||"System"]})]})]})},$))})]})]}),a.jsx("div",{className:"col-span-2",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("div",{className:"flex overflow-x-auto",children:[{key:"proposals",label:"Proposals"},{key:"mails",label:"Mails"},{key:"whatsapp",label:"WhatsApp"},{key:"followups",label:"Followup's"},{key:"suppComm",label:"Supp. Comm."},{key:"postSales",label:"Post Sales"},{key:"voucher",label:"Voucher"},{key:"docs",label:"Docs."},{key:"invoice",label:"Invoice"},{key:"billing",label:"Billing"},{key:"history",label:"History"}].map(({key:w,label:$})=>a.jsx("button",{onClick:()=>c(w),className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${o===w?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:$},w))})}),a.jsxs("div",{className:"p-6",children:[o==="proposals"&&a.jsxs("div",{children:[or()&&(()=>{const w=or();return a.jsx("div",{className:"mb-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-400 rounded-xl p-5 shadow-lg",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-green-500 rounded-full p-3 shadow-md",children:a.jsx(Lo,{className:"h-7 w-7 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h3",{className:"font-bold text-green-800 text-xl",children:["Option ",w.optionNumber," Confirmed"]}),a.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-bold rounded-full shadow-sm",children:" CONFIRMED"})]}),a.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Final itinerary is ready to share with the client"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:co,className:"bg-blue-600 text-white px-5 py-2.5 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-semibold shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:[a.jsx(Qt,{className:"h-5 w-5"}),"Share Email"]}),a.jsxs("button",{onClick:uo,className:"bg-green-600 text-white px-5 py-2.5 rounded-lg hover:bg-green-700 flex items-center gap-2 font-semibold shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:[a.jsx(Jo,{className:"h-5 w-5"}),"Share WhatsApp"]})]})]})})})(),a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsxs("button",{onClick:$d,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Create itinerary"]}),a.jsxs("button",{onClick:Ld,className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(wi,{className:"h-5 w-5"}),"Insert itinerary"]})]}),S.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("p",{className:"mb-2",children:"No proposals added yet"}),a.jsx("p",{className:"text-sm",children:'Click "Insert itinerary" to add an itinerary as a proposal'})]}):(()=>{const w={};return S.forEach($=>{const H=$.itinerary_id||`no-id-${$.itinerary_name}`;w[H]||(w[H]={itinerary_id:$.itinerary_id,itinerary_name:$.itinerary_name,destination:$.destination,duration:$.duration,image:$.image,inserted_at:$.inserted_at||$.created_at,options:[]}),w[H].options.push($)}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.values(w).map($=>a.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300",children:[a.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:$.image?a.jsx("img",{src:$.image,alt:$.itinerary_name,className:"w-full h-full object-cover",onError:H=>{H.target.style.display="none";const q=H.target.parentElement;if(q&&!q.querySelector(".no-photo-text")){const K=document.createElement("span");K.className="no-photo-text text-xs text-gray-400 font-medium absolute inset-0 flex items-center justify-center",K.textContent="NO PHOTO",q.appendChild(K)}}}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-400 font-medium",children:"NO PHOTO"})})}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-4 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>{$.itinerary_id&&t(`/itineraries/${$.itinerary_id}`)},children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 inline",children:$.itinerary_name}),$.destination&&a.jsxs("span",{className:"text-sm text-gray-600 ml-2 font-medium",children:[" ",$.destination]}),$.duration>0&&a.jsxs("span",{className:"text-sm text-gray-600 ml-2 font-medium",children:[" ",$.duration," Days"]})]}),a.jsxs("div",{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"text-xs font-bold text-gray-700 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded",children:"Options"}),a.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 rounded font-semibold",children:$.options.length})]}),a.jsx("div",{className:"space-y-3",children:$.options.sort((H,q)=>(H.optionNumber||0)-(q.optionNumber||0)).map(H=>{const q=rs(H);return a.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 ${H.confirmed?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-400 shadow-md":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{className:`px-3 py-1.5 text-xs font-bold rounded-lg shadow-sm ${H.confirmed?"bg-green-500 text-white border-2 border-green-600":"bg-blue-500 text-white border-2 border-blue-600"}`,children:["Option ",H.optionNumber||"N/A",H.confirmed&&a.jsx("span",{className:"ml-1.5",children:""})]}),H.confirmed&&a.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold rounded-full shadow-md flex items-center gap-1",children:[a.jsx(Lo,{className:"h-3 w-3"}),"CONFIRMED"]})]}),H.price>0&&a.jsxs("span",{className:`text-base font-bold ${H.confirmed?"text-green-700":"text-gray-800"}`,children:["",H.price.toLocaleString("en-IN")]})]}),q&&a.jsxs("div",{className:"mt-2 space-y-2 text-xs",children:[q.hotels.length>0&&a.jsxs("div",{className:`rounded-lg p-3 border ${H.confirmed?"bg-white border-green-200 shadow-sm":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("span",{className:"font-bold text-gray-800 block mb-2 flex items-center gap-1",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:"Hotels:"})]}),a.jsx("div",{className:"space-y-2",children:q.hotels.map((K,le)=>a.jsxs("div",{className:"flex gap-3 items-start p-2 bg-white rounded-lg border border-gray-100",children:[K.image&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:K.image,alt:K.name,className:"w-20 h-20 object-cover rounded-lg border-2 border-gray-200 shadow-sm",onError:ue=>{ue.target.style.display="none"}})}),a.jsxs("div",{className:"flex-1 text-gray-700 text-xs",children:[a.jsxs("div",{className:"mb-1",children:[a.jsxs("span",{className:"font-bold text-blue-600",children:["Day ",K.day,":"]})," ",a.jsx("span",{className:"font-semibold text-gray-800",children:K.name}),a.jsxs("span",{className:"text-gray-600 ml-1",children:["(",K.category,")"]})]}),a.jsxs("div",{className:"text-gray-700 mt-1 font-medium",children:[K.room,"  ",K.mealPlan]}),(K.checkIn||K.checkOut)&&a.jsxs("div",{className:"text-gray-600 text-xs mt-1.5",children:[K.checkIn&&`Check-in: ${K.checkIn} ${K.checkInTime||""}`,K.checkIn&&K.checkOut&&"  ",K.checkOut&&`Check-out: ${K.checkOut} ${K.checkOutTime||""}`]})]})]},le))})]}),q.meals.length>0&&a.jsxs("div",{className:`rounded-lg p-3 border ${H.confirmed?"bg-white border-green-200 shadow-sm":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("span",{className:"font-bold text-gray-800 block mb-1 flex items-center gap-1",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:"Meals:"})]}),a.jsx("div",{className:"space-y-1",children:q.meals.map((K,le)=>a.jsxs("div",{className:"text-gray-700 pl-2 text-xs",children:[a.jsxs("span",{className:"font-semibold text-gray-800",children:["Day ",K.day,":"]})," ",a.jsx("span",{className:"font-medium",children:K.name}),K.type&&a.jsxs("span",{className:"text-gray-600",children:["  ",K.type]})]},le))})]}),q.activities.length>0&&a.jsxs("div",{className:`rounded-lg p-3 border ${H.confirmed?"bg-white border-green-200 shadow-sm":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("span",{className:"font-bold text-gray-800 block mb-2 flex items-center gap-1",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:"Activities:"})]}),a.jsx("div",{className:"space-y-2",children:q.activities.map((K,le)=>a.jsxs("div",{className:"flex gap-3 items-start p-2 bg-white rounded-lg border border-gray-100",children:[K.image&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:K.image,alt:K.name,className:"w-20 h-20 object-cover rounded-lg border-2 border-gray-200 shadow-sm",onError:ue=>{ue.target.style.display="none"}})}),a.jsxs("div",{className:"flex-1 text-gray-700 text-xs",children:[a.jsxs("div",{className:"mb-1",children:[a.jsxs("span",{className:"font-bold text-blue-600",children:["Day ",K.day,":"]})," ",a.jsx("span",{className:"font-semibold text-gray-800",children:K.name})]}),K.details&&a.jsx("div",{className:"text-gray-600 mt-1",children:K.details})]})]},le))})]}),q.transport.length>0&&a.jsxs("div",{className:`rounded-lg p-3 border ${H.confirmed?"bg-white border-green-200 shadow-sm":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("span",{className:"font-bold text-gray-800 block mb-1 flex items-center gap-1",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:"Transport:"})]}),a.jsx("div",{className:"space-y-1",children:q.transport.map((K,le)=>a.jsxs("div",{className:"text-gray-700 pl-2 text-xs",children:[a.jsxs("span",{className:"font-semibold text-gray-800",children:["Day ",K.day,":"]})," ",a.jsx("span",{className:"font-medium",children:K.name}),K.details&&a.jsxs("span",{className:"text-gray-600",children:["  ",K.details]})]},le))})]}),q.other.length>0&&a.jsxs("div",{className:`rounded-lg p-3 border ${H.confirmed?"bg-white border-green-200 shadow-sm":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("span",{className:"font-bold text-gray-800 block mb-1 flex items-center gap-1",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:"Other Services:"})]}),a.jsx("div",{className:"space-y-1",children:q.other.map((K,le)=>a.jsxs("div",{className:"text-gray-700 pl-2 text-xs",children:[a.jsxs("span",{className:"font-semibold text-gray-800",children:["Day ",K.day,":"]})," ",a.jsx("span",{className:"font-medium",children:K.name}),K.details&&a.jsxs("span",{className:"text-gray-600",children:["  ",K.details]})]},le))})]}),q.hotels.length===0&&q.meals.length===0&&q.activities.length===0&&q.transport.length===0&&q.other.length===0&&a.jsx("div",{className:"text-gray-500 italic text-center py-2",children:"Package details not available"})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-gray-200",children:[H.confirmed?a.jsxs("div",{className:"flex gap-2 w-full",children:[a.jsxs("button",{onClick:K=>{K.stopPropagation(),co()},className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-3 py-2.5 rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center justify-center gap-2 text-xs font-bold shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",title:"Share Confirmed Itinerary via Email",children:[a.jsx(Qt,{className:"h-4 w-4"}),"Share Email"]}),a.jsxs("button",{onClick:K=>{K.stopPropagation(),uo()},className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-3 py-2.5 rounded-lg hover:from-green-700 hover:to-emerald-700 flex items-center justify-center gap-2 text-xs font-bold shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",title:"Share Confirmed Itinerary via WhatsApp",children:[a.jsx(Jo,{className:"h-4 w-4"}),"Share WhatsApp"]})]}):a.jsxs("button",{onClick:K=>{K.stopPropagation(),window.confirm(`Are you sure you want to confirm Option ${H.optionNumber}?`)&&Nd(H.id)},className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2.5 rounded-lg hover:from-green-700 hover:to-emerald-700 flex items-center justify-center gap-2 text-xs font-bold shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:[a.jsx(Lo,{className:"h-4 w-4"}),"Confirm Option"]}),a.jsxs("button",{onClick:K=>{K.stopPropagation(),Qn(H)},className:`px-4 py-2.5 rounded-lg flex items-center justify-center gap-2 text-xs font-bold shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105 ${H.confirmed?"bg-gradient-to-r from-gray-600 to-gray-700 text-white hover:from-gray-700 hover:to-gray-800":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800"}`,children:[a.jsx(Bn,{className:"h-4 w-4"}),"View"]})]})]},H.id)})})]}),a.jsxs("div",{className:"pt-4 mt-4 border-t-2 border-gray-200 flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-gray-600 font-medium",children:["Added: ",new Date($.inserted_at).toLocaleDateString("en-GB")]}),a.jsx("button",{onClick:H=>{if(H.stopPropagation(),window.confirm("Are you sure you want to remove all options from this itinerary?")){const q=S.filter(K=>!$.options.some(le=>le.id===K.id));ya(q)}},className:"text-red-600 hover:text-red-700 text-sm font-bold px-3 py-1.5 rounded-lg hover:bg-red-50 transition-colors",children:"Remove All"})]})]})]},$.itinerary_id||$.itinerary_name))})})()]}),o==="mails"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("button",{onClick:uh,className:"bg-blue-600 text-white px-5 py-2.5 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium shadow-md",children:[a.jsx(Qt,{className:"h-5 w-5"}),"Compose"]}),(n==null?void 0:n.email)&&a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:""}),a.jsx("span",{className:"text-gray-700 font-medium",children:n.email})]})]}),Nn||qs?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):ao.length===0&&xa.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx(Qt,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),a.jsx("p",{children:"No mails yet"}),a.jsx("p",{className:"text-sm mt-1",children:'Click "Compose" to send your first email to the client'})]}):a.jsxs("div",{className:"space-y-6",children:[xa.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"}),"Gmail Conversations"]}),a.jsx("div",{className:"space-y-3",children:Object.values(xa.reduce((w,$)=>(w[$.thread_id]||(w[$.thread_id]=[]),w[$.thread_id].push($),w),{})).map((w,$)=>{const H=w[0];return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:a.jsx(Qt,{className:"h-4 w-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800",children:H.subject}),a.jsxs("p",{className:"text-xs text-gray-500",children:[w.length," message",w.length>1?"s":"","  Last message ",new Date(H.created_at).toLocaleString()]})]})]})}),a.jsx("div",{className:"divide-y divide-gray-100 max-h-60 overflow-y-auto",children:w.map(q=>a.jsxs("div",{className:`p-4 ${q.direction==="inbound"?"bg-white":"bg-blue-50"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${q.direction==="inbound"?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-600"}`,children:q.direction==="inbound"?"Received":"Sent"}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(q.created_at).toLocaleString()})]}),a.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap line-clamp-3",children:q.body})]},q.id))})]},H.thread_id)})})]}),ao.length>0&&a.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[a.jsx(Bn,{className:"h-4 w-4"}),"System Logged Emails"]}),a.jsx("div",{className:"space-y-3",children:ao.map(w=>{var $;return a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx(y0,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-gray-800 truncate",children:w.to_email}),w.status==="failed"&&a.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded",children:"Failed"})]}),a.jsx("p",{className:"text-blue-600 font-medium truncate",children:w.subject}),a.jsx("div",{className:"text-sm text-gray-500 truncate mt-1",dangerouslySetInnerHTML:{__html:w.body}})]}),a.jsxs("div",{className:"flex-shrink-0 text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:new Date(w.created_at).toLocaleDateString("en-IN")}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["by ",(($=w.user)==null?void 0:$.name)||"System"]})]})]},w.id)})})]})]})]}),o==="whatsapp"&&a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No WhatsApp messages yet"}),o==="followups"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Followup's / Task"}),a.jsxs("button",{onClick:()=>{const w=new Date,$=String(w.getDate()).padStart(2,"0"),H=String(w.getMonth()+1).padStart(2,"0"),q=w.getFullYear(),K=`${$}-${H}-${q}`;ie({type:"Task",description:"",reminder_date:K,reminder_time:"1:00 PM",set_reminder:"Yes"}),U(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ke,{className:"h-4 w-4"}),"+ Add Task"]})]}),je.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No Task"}):a.jsx("div",{className:"space-y-4",children:je.sort((w,$)=>{const H=new Date(`${w.reminder_date} ${w.reminder_time||"00:00:00"}`),q=new Date(`${$.reminder_date} ${$.reminder_time||"00:00:00"}`);return H-q}).map(w=>{var K;const $=new Date(`${w.reminder_date} ${w.reminder_time||"00:00:00"}`),H=$<new Date&&!w.is_completed,q=$.toDateString()===new Date().toDateString()&&!w.is_completed;return a.jsx("div",{className:`border rounded-lg p-4 ${w.is_completed?"bg-gray-50 border-gray-200":H?"bg-red-50 border-red-200":q?"bg-yellow-50 border-yellow-200":"bg-white border-gray-200"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(fr,{className:`h-5 w-5 ${w.is_completed?"text-gray-400":H?"text-red-500":q?"text-yellow-600":"text-blue-500"}`}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-gray-800",children:new Date(w.reminder_date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}),w.reminder_time&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[a.jsx(gl,{className:"h-4 w-4"}),a.jsx("span",{children:Dd(w.reminder_time)})]})]})]}),(w.remark||w.description)&&a.jsx("p",{className:"text-gray-700 mt-2",children:w.remark||w.description}),a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-500",children:[a.jsxs("span",{children:["Created by: ",((K=w.user)==null?void 0:K.name)||"Unknown"]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(w.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[H&&!w.is_completed&&a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-semibold rounded",children:"Overdue"}),q&&!w.is_completed&&a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded",children:"Today"}),w.is_completed?a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded flex items-center gap-1",children:[a.jsx(Lo,{className:"h-3 w-3"}),"Completed"]}):a.jsx("button",{onClick:async()=>{var le,ue;try{await mi.complete(w.id),await Gs()}catch(oe){console.error("Failed to complete followup:",oe),alert(((ue=(le=oe.response)==null?void 0:le.data)==null?void 0:ue.message)||"Failed to mark as completed")}},className:"px-3 py-1 bg-green-600 text-white text-xs font-semibold rounded hover:bg-green-700 transition-colors",children:"Mark Complete"})]})]})},w.id)})})]}),o==="suppComm"&&a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Supplier Communication"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",value:de.subject,onChange:w=>pe({...de,subject:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter subject"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CC Email"}),a.jsx("input",{type:"email",value:de.cc_email,onChange:w=>pe({...de,cc_email:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter CC email (optional)"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Body"}),a.jsx("textarea",{value:de.body,onChange:w=>pe({...de,body:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"12",placeholder:"Enter email body..."})]}),n&&a.jsxs("div",{className:"mb-4 border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Enquiry Detail"}),a.jsx("table",{className:"w-full text-sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"py-2 font-medium text-gray-700",children:"Customer Name"}),a.jsxs("td",{className:"py-2 text-gray-600",children:[n.client_title||"Mr."," ",n.client_name]}),a.jsx("td",{className:"py-2 font-medium text-gray-700",children:"Enquiry ID"}),a.jsx("td",{className:"py-2 text-gray-600",children:n.query_id||n.id||e}),a.jsx("td",{className:"py-2 font-medium text-gray-700",children:"Enquiry For"}),a.jsx("td",{className:"py-2 text-gray-600",children:((mo=or())==null?void 0:mo.itinerary_name)||"Full package"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 font-medium text-gray-700",children:"Check-In"}),a.jsx("td",{className:"py-2 text-gray-600",children:n.travel_start_date?Kt(n.travel_start_date):"N/A"}),a.jsx("td",{className:"py-2 font-medium text-gray-700",children:"Check-Out"}),a.jsx("td",{className:"py-2 text-gray-600",children:n.travel_end_date?Kt(n.travel_end_date):"N/A"}),a.jsx("td",{className:"py-2 font-medium text-gray-700",children:"Nights"}),a.jsx("td",{className:"py-2 text-gray-600",children:n.travel_start_date&&n.travel_end_date?Math.ceil(Math.abs(new Date(n.travel_end_date)-new Date(n.travel_start_date))/(1e3*60*60*24)):"N/A"})]})]})}),((fo=or())==null?void 0:fo.hotels)&&or().hotels.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"Hotel Requirements:"}),a.jsx("div",{className:"space-y-2",children:or().hotels.map((w,$)=>a.jsx("div",{className:"bg-white p-2 rounded border border-gray-200",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:w.hotel_name||"Hotel"}),w.room_type&&a.jsxs("span",{children:[" - ",w.room_type]}),w.meal_plan&&a.jsxs("span",{children:[" - ",w.meal_plan]}),w.price&&a.jsxs("span",{className:"text-blue-600 ml-2",children:["",w.price]})]})},$))})]})]}),a.jsxs("button",{onClick:lo,disabled:we||Ar.length===0&&lr.length===0,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-semibold",children:[a.jsx(y0,{className:"h-5 w-5"}),we?"Sending...":`Send Mail To Selected (${Ar.length} Suppliers${lr.length>0?`, ${lr.length} Hotels`:""})`]})]}),a.jsxs("div",{className:"col-span-1 border-l border-gray-200 pl-6",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:he,onChange:w=>Ed(w.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"font-semibold text-gray-800",children:"Select Supplier"})]})}),a.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-3 mb-6 pb-4 border-b border-gray-200",children:Ie.length===0?a.jsx("div",{className:"text-gray-500 text-sm",children:"No suppliers available"}):Ie.map(w=>a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("input",{type:"checkbox",checked:Ar.includes(w.id),onChange:()=>Ad(w.id),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-800 text-sm",children:w.company_name||w.company}),a.jsxs("div",{className:"text-xs text-gray-600",children:[w.title||""," ",w.name||`${w.first_name||""} ${w.last_name||""}`.trim()]}),a.jsx("div",{className:"text-xs text-gray-500",children:w.email||"No email"})]})]},w.id))}),Re.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:R,onChange:w=>Ys(w.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),a.jsx("span",{className:"font-semibold text-gray-800",children:"Select Hotels (From Confirmed Option)"})]})}),a.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-3",children:Re.map(w=>a.jsxs("div",{className:"flex items-start gap-2 bg-green-50 p-2 rounded border border-green-200",children:[a.jsx("input",{type:"checkbox",checked:lr.includes(w.id),onChange:()=>Td(w.id),className:"mt-1 w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-800 text-sm",children:w.company_name||w.hotel_name}),w.room_type&&a.jsxs("div",{className:"text-xs text-gray-600",children:["Room: ",w.room_type," ",w.meal_plan&&`| Meal: ${w.meal_plan}`]}),w.day&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Day ",w.day]}),a.jsx("div",{className:`text-xs mt-1 ${w.email?"text-gray-500":"text-orange-600 font-medium"}`,children:w.email||" No email - Please add email in hotel master"})]})]},w.id))})]})]})]}),o==="postSales"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Post Sales"}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"Post sales management coming soon"}),a.jsx("p",{className:"text-sm mt-2",children:"Track and manage post-sale activities here"})]})]})}),o==="voucher"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vouchers"}),a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ke,{className:"h-4 w-4"}),"Create Voucher"]})}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No vouchers created yet"}),a.jsx("p",{className:"text-sm mt-2",children:"Create hotel, transport, and activity vouchers here"})]})]})}),o==="docs"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Documents"}),a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(wi,{className:"h-4 w-4"}),"Upload Document"]})}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No documents uploaded"}),a.jsx("p",{className:"text-sm mt-2",children:"Upload passports, tickets, confirmations and other documents here"})]})]})}),o==="invoice"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Invoices"}),a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ke,{className:"h-4 w-4"}),"Create Invoice"]})}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No invoices generated"}),a.jsx("p",{className:"text-sm mt-2",children:"Generate and manage client invoices here"})]})]})}),o==="billing"&&a.jsxs("div",{className:"space-y-6",children:[(()=>{var K;const w=or(),$=w==null?void 0:w.optionNumber,H=((K=B==null?void 0:B.hotelOptions)==null?void 0:K[$==null?void 0:$.toString()])||[],q=(w==null?void 0:w.price)||H.reduce((le,ue)=>le+(parseFloat(ue.price)||0),0);return w?a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Final Package Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Option Number"}),a.jsxs("p",{className:"text-base font-medium text-gray-900",children:["Option ",$]})]}),(B==null?void 0:B.itinerary)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Destination"}),a.jsx("p",{className:"text-base font-medium text-gray-900",children:B.itinerary.destinations||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),a.jsxs("p",{className:"text-base font-medium text-gray-900",children:[B.itinerary.duration||0," Nights"]})]}),(n==null?void 0:n.travel_start_date)&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Travel Dates"}),a.jsxs("p",{className:"text-base font-medium text-gray-900",children:[Kt(n.travel_start_date)," - ",n.travel_end_date?Kt(n.travel_end_date):"N/A"]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Package Price"}),a.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",q.toLocaleString("en-IN")]})]})]}),H.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hotels Included:"}),a.jsx("div",{className:"space-y-2",children:H.map((le,ue)=>a.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Day ",le.day,": ",le.hotelName||"Hotel"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[le.roomName||"N/A"," | ",le.mealPlan||"N/A"," | ",parseFloat(le.price||0).toLocaleString("en-IN")]})]},ue))})]})]}):a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-yellow-800",children:" No confirmed package found. Please confirm an option in the Proposals tab first."})})})(),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:["",Be.total_amount.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Paid Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["",Be.total_paid.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Due Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["",Be.total_due.toLocaleString("en-IN")]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{var K;const w=or(),$=w==null?void 0:w.optionNumber,H=((K=B==null?void 0:B.hotelOptions)==null?void 0:K[$==null?void 0:$.toString()])||[],q=(w==null?void 0:w.price)||H.reduce((le,ue)=>le+(parseFloat(ue.price)||0),0);Gn({amount:q>0?q.toString():"",paid_amount:"",due_date:""}),Ri(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ke,{className:"h-4 w-4"}),"Add Payment"]})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Payment History"})}),no?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading payments..."}):Qe.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No payments recorded yet"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Total Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Paid Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Due Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Due Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Added By"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Qe.map(w=>{var $;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:w.created_at?Kt(w.created_at):"N/A"}),a.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:["",parseFloat(w.amount).toLocaleString("en-IN")]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-green-600 font-medium",children:["",parseFloat(w.paid_amount).toLocaleString("en-IN")]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-red-600 font-medium",children:["",parseFloat(w.due_amount||w.amount-w.paid_amount).toLocaleString("en-IN")]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.due_date?Kt(w.due_date):"N/A"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.status==="paid"?"bg-green-100 text-green-800":w.status==="partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:w.status==="paid"?"Paid":w.status==="partial"?"Partial":"Pending"})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:(($=w.creator)==null?void 0:$.name)||"N/A"})]},w.id)})})]})})]})]}),o==="history"&&a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No history available"})]})]})})]})]}),j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Itinerary setup"}),a.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:ye,children:[a.jsxs("div",{className:"p-6 grid grid-cols-2 gap-6 max-h-[70vh] overflow-y-auto",children:[a.jsx("div",{className:"col-span-2",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Itinerary setup"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Itinerary Name"}),a.jsx("input",{type:"text",value:te.itinerary_name,onChange:w=>me({...te,itinerary_name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter itinerary name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:te.start_date,onChange:w=>me({...te,start_date:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:te.end_date,onChange:w=>me({...te,end_date:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adult"}),a.jsx("input",{type:"number",value:te.adult,onChange:w=>me({...te,adult:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Child"}),a.jsx("input",{type:"number",value:te.child,onChange:w=>me({...te,child:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinations"}),a.jsx("input",{type:"text",value:te.destinations,onChange:w=>me({...te,destinations:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter Destination"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:te.notes,onChange:w=>me({...te,notes:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Notes",rows:"3"})]})]}),a.jsxs("div",{className:"flex justify-end p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900 mr-3",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Save"})]})]})]})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Select Itinerary"}),a.jsx("button",{onClick:()=>{C(!1),D("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search itineraries...",value:A,onChange:w=>D(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),k?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):z.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:A?"No itineraries found matching your search":"No itineraries available"}):a.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3",children:z.map(w=>a.jsx("div",{onClick:()=>N(w),className:"border border-gray-200 rounded-lg p-4 hover:bg-blue-50 hover:border-blue-300 cursor-pointer transition-colors",children:a.jsxs("div",{className:"flex justify-between items-start gap-4",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200 flex-shrink-0",children:w.image?a.jsx("img",{src:w.image,alt:w.title||w.itinerary_name||"Itinerary",className:"w-full h-full object-cover",onError:$=>{$.target.style.display="none";const H=$.target.parentElement;if(H&&!H.querySelector(".no-photo-text")){const q=document.createElement("span");q.className="no-photo-text text-xs text-gray-400 font-medium",q.textContent="NO PHOTO",H.appendChild(q)}}}):a.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"NO PHOTO"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:w.title||w.itinerary_name||"Untitled Itinerary"}),(w.destination||w.destinations)&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[a.jsx("span",{className:"font-medium",children:"Destination:"})," ",w.destination||w.destinations]}),w.duration&&a.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",w.duration," Days"]}),(w.details||w.notes)&&a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:w.details||w.notes}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[w.created_by_name&&a.jsxs("span",{children:["Created by: ",w.created_by_name]}),(w.last_update||w.last_updated)&&a.jsxs("span",{children:["Last updated: ",w.last_update||w.last_updated]}),w.show_on_website!==void 0&&a.jsx("span",{className:`px-2 py-1 rounded ${w.show_on_website?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:w.show_on_website?"Active":"Inactive"})]})]}),a.jsx("button",{onClick:$=>{$.stopPropagation(),N(w)},className:"ml-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm font-medium",children:"Insert"})]})},w.id))})]}),a.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:a.jsx("button",{onClick:()=>{C(!1),D("")},className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Close"})})]})}),ne&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Add Followup / Task"}),a.jsx("button",{onClick:()=>{U(!1),ie({type:"Task",description:"",reminder_date:"",reminder_time:"",set_reminder:"Yes"})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:Md,children:[a.jsxs("div",{className:"p-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:J.type,onChange:w=>ie({...J,type:w.target.value}),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white text-gray-900 cursor-pointer",children:[a.jsx("option",{value:"Task",children:"Task"}),a.jsx("option",{value:"Followup",children:"Followup"})]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:J.description,onChange:w=>ie({...J,description:w.target.value}),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Enter description...",rows:"4"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"date",value:J.reminder_date?(()=>{const w=J.reminder_date.split("-");return w.length===3?`${w[2]}-${w[1]}-${w[0]}`:J.reminder_date})():"",onChange:w=>{if(w.target.value){const $=w.target.value.split("-"),H=`${$[2]}-${$[1]}-${$[0]}`;ie({...J,reminder_date:H})}else ie({...J,reminder_date:""})},min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:J.reminder_time,onChange:w=>ie({...J,reminder_time:w.target.value}),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white text-gray-900 cursor-pointer",children:Id().map(w=>a.jsx("option",{value:w,children:w},w))}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Reminder"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:J.set_reminder,onChange:w=>ie({...J,set_reminder:w.target.value}),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white text-gray-900 cursor-pointer",children:[a.jsx("option",{value:"Yes",children:"Yes"}),a.jsx("option",{value:"No",children:"No"})]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company/Client"}),a.jsx("input",{type:"text",value:n!=null&&n.client_name?`${n.client_title||""} ${n.client_name}`.trim():"Travbizz Travel IT Solutions",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed",disabled:!0,readOnly:!0})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[a.jsx("button",{type:"button",onClick:()=>{U(!1),ie({type:"Task",description:"",reminder_date:"",reminder_time:"",set_reminder:"Yes"})},className:"px-5 py-2.5 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors font-medium",disabled:De,children:"Cancel"}),a.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-semibold shadow-sm transition-colors",disabled:De,children:[a.jsx(Ke,{className:"h-4 w-4"}),De?"Saving...":"Save"]})]})]})]})}),F&&Q&&B&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-white",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"View Quotation"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[M&&B&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>Wd(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",title:"Send Mail (Current Option)",children:[a.jsx(Qt,{className:"h-4 w-4"}),"Send Mail"]}),a.jsxs("button",{onClick:async()=>{const w=await oo(),$=encodeURIComponent(`Complete Travel Quotation - ${B.itinerary.itinerary_name||"Itinerary"} - ${G(n.id)}`);navigator.clipboard.writeText(w).then(()=>{const H=`mailto:${n.email||""}?subject=${$}&body=${encodeURIComponent("Please find the complete travel quotation with all options attached.")}`;window.open(H),alert("Complete quotation (all options) copied to clipboard! Paste it in your email client.")}).catch(()=>{alert("Please use Print option to generate PDF with all options")})},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm font-medium",title:"Send All Options via Email",children:[a.jsx(Qt,{className:"h-4 w-4"}),"Send All Options"]}),a.jsxs("button",{onClick:()=>Kd(),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm font-medium",title:"Print",children:[a.jsx(mM,{className:"h-4 w-4"}),"Print"]}),a.jsxs("button",{onClick:()=>qd(),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium",title:"Send WhatsApp (All Options)",children:[a.jsx(Jo,{className:"h-4 w-4"}),"Send WhatsApp"]})]}),a.jsx("button",{onClick:()=>{X(!1),I(null),ae(null),W(null)},className:"text-gray-400 hover:text-gray-600 transition-colors ml-2",children:a.jsx(Le,{className:"h-6 w-6"})})]})]}),a.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:fe?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs(a.Fragment,{children:[B.hotelOptions&&Object.keys(B.hotelOptions).length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Option:"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.keys(B.hotelOptions).map(w=>a.jsxs("button",{onClick:()=>W(w),className:`px-4 py-2 rounded-lg font-medium transition-colors ${M===w?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Option ",w]},w))})]}),M&&B.hotelOptions[M]&&a.jsxs("div",{className:"quotation-content",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600 mb-2",children:"TravelOps"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("p",{children:"Delhi India"}),a.jsx("p",{children:"Email: info@travelops.com"}),a.jsx("p",{children:"Mobile: +91-9871023004"})]})]}),B.itinerary.image&&a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg overflow-hidden border border-gray-200",children:a.jsx("img",{src:B.itinerary.image,alt:B.itinerary.itinerary_name||B.itinerary.title||"Itinerary",className:"w-full h-full object-cover",onError:w=>{w.target.style.display="none";const $=w.target.parentElement;if($&&!$.querySelector(".no-photo-text")){const H=document.createElement("span");H.className="no-photo-text text-sm text-gray-400 font-medium absolute inset-0 flex items-center justify-center",H.textContent="NO PHOTO",$.appendChild(H)}}})})}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Quote Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Ref. Query ID:"})," ",G(n==null?void 0:n.id)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Query ID:"})," ",G(n==null?void 0:n.id)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Adult(s):"})," ",(n==null?void 0:n.adult)||1]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Child(s):"})," ",(n==null?void 0:n.child)||0]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Nights:"})," ",B.itinerary.duration||0," Nights & ",(B.itinerary.duration||0)+1," Days"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Destination Covered:"})," ",B.itinerary.destinations||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Start Date:"})," ",B.itinerary.start_date||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"End Date:"})," ",B.itinerary.end_date||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Query Date:"})," ",new Date(n==null?void 0:n.created_at).toLocaleDateString("en-GB")]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-3",children:["Hotel Details - Option ",M]}),B.hotelOptions[M].map((w,$)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 mb-3",children:a.jsxs("div",{className:"flex gap-4",children:[w.image&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg overflow-hidden border border-gray-200",children:a.jsx("img",{src:w.image,alt:w.hotelName||"Hotel",className:"w-full h-full object-cover",onError:H=>{H.target.style.display="none";const q=H.target.parentElement;if(q&&!q.querySelector(".no-photo-text")){const K=document.createElement("span");K.className="no-photo-text text-xs text-gray-400 font-medium absolute inset-0 flex items-center justify-center",K.textContent="NO PHOTO",q.appendChild(K)}}})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:w.hotelName||"Hotel"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Day:"})," ",w.day||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Room:"})," ",w.roomName||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Meal Plan:"})," ",w.mealPlan||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Category:"})," ",w.category?`${w.category} Star`:"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Check In:"})," ",w.checkIn||"N/A"," ",w.checkInTime||""]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Check Out:"})," ",w.checkOut||"N/A"," ",w.checkOutTime||""]}),w.single&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Single:"})," ",w.single]}),w.double&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Double:"})," ",w.double]}),w.triple&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Triple:"})," ",w.triple]}),w.quad&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Quad:"})," ",w.quad]}),w.price&&a.jsxs("p",{className:"col-span-2",children:[a.jsx("span",{className:"font-medium",children:"Price:"})," ",parseFloat(w.price).toLocaleString("en-IN")]})]})]})]})},$))]}),a.jsx("div",{className:"bg-red-600 text-white p-4 rounded-lg text-center mb-6",children:a.jsxs("p",{className:"text-2xl font-bold",children:["Total Package Price: ",B.hotelOptions[M].reduce((w,$)=>w+(parseFloat($.price)||0),0).toLocaleString("en-IN")]})}),B.itinerary.terms_conditions&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Terms and Conditions"}),a.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:B.itinerary.terms_conditions})]}),B.itinerary.refund_policy&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Refund Policy"}),a.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:B.itinerary.refund_policy})]}),B.itinerary.package_description&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Package Description"}),a.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:B.itinerary.package_description})]})]}),!M&&a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{children:"No hotel options found for this itinerary."})})]})})]})}),Ws&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Add Payment"}),a.jsx("button",{onClick:()=>{Ri(!1),Gn({amount:"",paid_amount:"",due_date:""})},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Le,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:zi,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Amount ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",step:"0.01",min:"0",required:!0,value:Wr.amount,onChange:w=>Gn({...Wr,amount:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter total amount"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paid Amount"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:Wr.paid_amount,onChange:w=>Gn({...Wr,paid_amount:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter paid amount (optional)"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave empty if no payment received yet"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),a.jsx("input",{type:"date",value:Wr.due_date,onChange:w=>Gn({...Wr,due_date:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional: Set due date for payment"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>{Ri(!1),Gn({amount:"",paid_amount:"",due_date:""})},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:pa,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:pa?"Adding...":"Add Payment"})]})]})]})}),ha&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Compose Mail"}),a.jsx("button",{onClick:()=>{Ks(!1),Yn({to_email:"",cc_email:"",subject:"",body:""}),vd(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:_d,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"text-gray-500",children:"From"})," ",a.jsx("span",{className:"text-gray-800 font-medium",children:(ga==null?void 0:ga.company_email)||"noreply@company.com"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:(n==null?void 0:n.client_name)||"Customer"}),a.jsx("div",{className:"text-sm text-gray-600",children:wt.to_email||(n==null?void 0:n.email)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"CC"}),a.jsx("input",{type:"email",value:wt.cc_email,onChange:w=>Yn({...wt,cc_email:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter CC email (optional)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Subject"}),a.jsx("input",{type:"text",value:wt.subject,onChange:w=>Yn({...wt,subject:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email subject",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Mail Body"}),a.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-1 p-2 bg-gray-50 border-b border-gray-200 flex-wrap",children:[a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"Undo",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"Redo",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6"})})}),a.jsx("span",{className:"w-px h-5 bg-gray-300 mx-1"}),a.jsxs("select",{className:"text-sm border-0 bg-transparent text-gray-600 focus:ring-0 cursor-pointer",children:[a.jsx("option",{children:"Formats"}),a.jsx("option",{children:"Paragraph"}),a.jsx("option",{children:"Heading 1"}),a.jsx("option",{children:"Heading 2"})]}),a.jsx("span",{className:"w-px h-5 bg-gray-300 mx-1"}),a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded font-bold text-gray-700",title:"Bold",children:"B"}),a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded italic text-gray-700",title:"Italic",children:"I"}),a.jsx("span",{className:"w-px h-5 bg-gray-300 mx-1"}),a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"Align Left",children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 5A.75.75 0 012.75 9h9.5a.75.75 0 010 1.5h-9.5A.75.75 0 012 9.75zm0 5A.75.75 0 012.75 14h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}),a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"Align Center",children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4.75A.75.75 0 014.75 4h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 4.75zm-2 5A.75.75 0 012.75 9h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 9.75zm2 5A.75.75 0 014.75 14h10.5a.75.75 0 010 1.5H4.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}),a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"Align Right",children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm4 5A.75.75 0 016.75 9h10.5a.75.75 0 010 1.5H6.75A.75.75 0 016 9.75zm-4 5A.75.75 0 012.75 14h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}),a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"Justify",children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 5A.75.75 0 012.75 9h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 9.75zm0 5A.75.75 0 012.75 14h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}),a.jsx("span",{className:"w-px h-5 bg-gray-300 mx-1"}),a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"Bullet List",children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 100 2 1 1 0 000-2zm4 0a1 1 0 000 2h10a1 1 0 100-2H7zm0 5a1 1 0 000 2h10a1 1 0 100-2H7zm0 5a1 1 0 000 2h10a1 1 0 100-2H7zM3 9a1 1 0 100 2 1 1 0 000-2zm0 5a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})})}),a.jsx("button",{type:"button",className:"p-1.5 hover:bg-gray-200 rounded text-gray-600",title:"Numbered List",children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]}),a.jsx("textarea",{value:wt.body,onChange:w=>Yn({...wt,body:w.target.value}),className:"w-full px-3 py-3 border-0 focus:ring-0 min-h-[200px] resize-y",placeholder:"Type your message here...",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Attachment"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("span",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors inline-block",children:"Choose File"}),a.jsx("input",{type:"file",className:"hidden",onChange:w=>vd(w.target.files[0]||null)})]}),a.jsx("span",{className:"text-sm text-gray-500",children:yd?yd.name:"No file chosen"})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx("button",{type:"submit",disabled:ts,className:"px-6 py-2.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium",children:ts?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Sending..."]}):"Send Mail"})})]})]})})]})},dZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[s,i]=f.useState("today"),[l,o]=f.useState(!0);f.useEffect(()=>{c()},[]);const c=async()=>{try{const[m,p]=await Promise.all([mi.today(),mi.overdue()]);t(m.data.data.followups||[]),n(p.data.data.followups||[])}catch(m){console.error("Failed to fetch followups:",m)}finally{o(!1)}},u=async m=>{try{await mi.complete(m),c()}catch{alert("Failed to mark as complete")}},d=s==="today"?e:r;return l?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Followups"}),a.jsxs("div",{className:"flex space-x-4 mb-6",children:[a.jsxs("button",{onClick:()=>i("today"),className:`px-6 py-2 rounded-lg ${s==="today"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Today (",e.length,")"]}),a.jsxs("button",{onClick:()=>i("overdue"),className:`px-6 py-2 rounded-lg ${s==="overdue"?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Overdue (",r.length,")"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Lead"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remark"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reminder"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(m=>{var p,g;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:((p=m.lead)==null?void 0:p.client_name)||"N/A"}),a.jsx("div",{className:"text-sm text-gray-500",children:((g=m.lead)==null?void 0:g.phone)||"N/A"})]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:m.remark||"N/A"}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[m.reminder_date," ",m.reminder_time||""]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>u(m.id),className:"text-green-600 hover:text-green-900",children:"Mark Complete"})})]},m.id)})})]}),d.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No followups found"})]})]})})},uZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[s,i]=f.useState("due-today"),[l,o]=f.useState(!0);f.useEffect(()=>{c()},[]);const c=async()=>{try{const[m,p]=await Promise.all([bc.dueToday(),bc.pending()]);t(m.data.data.payments||[]),n(p.data.data.payments||[])}catch(m){console.error("Failed to fetch payments:",m)}finally{o(!1)}},u=s==="due-today"?e:r,d=m=>({pending:"bg-yellow-100 text-yellow-800",partial:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800"})[m]||"bg-gray-100 text-gray-800";return l?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Payments"}),a.jsxs("div",{className:"flex space-x-4 mb-6",children:[a.jsxs("button",{onClick:()=>i("due-today"),className:`px-6 py-2 rounded-lg ${s==="due-today"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Due Today (",e.length,")"]}),a.jsxs("button",{onClick:()=>i("pending"),className:`px-6 py-2 rounded-lg ${s==="pending"?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Pending (",r.length,")"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Lead"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Paid"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(m=>{var p,g;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:((p=m.lead)==null?void 0:p.client_name)||"N/A"}),a.jsx("div",{className:"text-sm text-gray-500",children:((g=m.lead)==null?void 0:g.phone)||"N/A"})]}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["$",m.amount]}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["$",m.paid_amount]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:m.due_date||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${d(m.status)}`,children:m.status})})]},m.id)})})]}),u.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No payments found"})]})]})})},mZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(null),[s,i]=f.useState(""),[l,o]=f.useState(!0);f.useEffect(()=>{c()},[]),f.useEffect(()=>{e.length>0&&!r&&n(e[0])},[e]);const c=async()=>{try{const m=(await ww.inbox()).data.data.inbox||[];t(m),m.length>0&&!r&&n(m[0])}catch(d){console.error("Failed to fetch inbox:",d)}finally{o(!1)}},u=async()=>{if(!(!s.trim()||!r))try{await ww.send(r.lead_id,s),i(""),c()}catch{alert("Failed to send message")}};return l?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"h-[calc(100vh-8rem)]",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"WhatsApp Inbox"}),a.jsxs("div",{className:"flex h-full gap-4",children:[a.jsxs("div",{className:"w-1/3 bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b bg-gray-50",children:a.jsxs("h2",{className:"font-semibold",children:["Conversations (",e.length,")"]})}),a.jsx("div",{className:"overflow-y-auto h-[calc(100%-4rem)]",children:e.map(d=>a.jsxs("div",{onClick:()=>n(d),className:`p-4 border-b cursor-pointer hover:bg-gray-50 ${(r==null?void 0:r.lead_id)===d.lead_id?"bg-blue-50":""}`,children:[a.jsx("div",{className:"font-semibold text-gray-900",children:d.client_name}),a.jsx("div",{className:"text-sm text-gray-500",children:d.phone}),a.jsx("div",{className:"text-xs text-gray-400 mt-1 truncate",children:d.last_message}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(d.last_sent_at).toLocaleString()})]},d.lead_id))})]}),a.jsx("div",{className:"flex-1 bg-white rounded-lg shadow flex flex-col",children:r?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[a.jsx("h2",{className:"font-semibold text-gray-900",children:r.client_name}),a.jsx("p",{className:"text-sm text-gray-500",children:r.phone})]}),a.jsxs("div",{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm mb-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:r.last_message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(r.last_sent_at).toLocaleString()})]}),a.jsxs("p",{className:"text-xs text-center text-gray-400",children:["Total messages: ",r.total_messages]})]}),a.jsx("div",{className:"p-4 border-t",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:s,onChange:d=>i(d.target.value),onKeyPress:d=>d.key==="Enter"&&u(),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{onClick:u,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Send"})]})})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Select a conversation to start chatting"})})]})]})})},fZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(new Date().toISOString().slice(0,7)),[s,i]=f.useState(!0);f.useEffect(()=>{l()},[r]);const l=async()=>{try{const o=await sa.employeePerformance(r);t(o.data.data.employees||[])}catch(o){console.error("Failed to fetch performance:",o)}finally{i(!1)}};return s?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Employee Performance"}),a.jsx("input",{type:"month",value:r,onChange:o=>n(o.target.value),className:"px-4 py-2 border rounded-lg"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Leads"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Confirmed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Target"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Achieved"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Completion %"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(o=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.name})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.total_leads}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.confirmed_leads}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["",o.target_amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["",o.achieved_amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:a.jsx("div",{className:`h-2 rounded-full ${o.completion_percentage>=100?"bg-green-500":o.completion_percentage>=75?"bg-blue-500":o.completion_percentage>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(o.completion_percentage,100)}%`}})}),a.jsxs("span",{className:`text-sm font-semibold ${o.completion_percentage>=100?"text-green-600":o.completion_percentage>=75?"text-blue-600":o.completion_percentage>=50?"text-yellow-600":"text-red-600"}`,children:[o.completion_percentage,"%"]})]})})]},o.user_id))})]}),e.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No performance data found"})]})]})})},pZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[s,i]=f.useState(new Date().toISOString().slice(0,7)),[l,o]=f.useState("source"),[c,u]=f.useState(!0);f.useEffect(()=>{d()},[s]);const d=async()=>{try{const[p,g]=await Promise.all([sa.sourceRoi(s),sa.destinationPerformance(s)]);t(p.data.data.sources||[]),n(g.data.data.destinations||[])}catch(p){console.error("Failed to fetch analytics:",p)}finally{u(!1)}};if(c)return a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});const m=l==="source"?e:r;return a.jsx(ve,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Analytics"}),a.jsx("input",{type:"month",value:s,onChange:p=>i(p.target.value),className:"px-4 py-2 border rounded-lg"})]}),a.jsxs("div",{className:"flex space-x-4 mb-6",children:[a.jsx("button",{onClick:()=>o("source"),className:`px-6 py-2 rounded-lg ${l==="source"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Source ROI"}),a.jsx("button",{onClick:()=>o("destination"),className:`px-6 py-2 rounded-lg ${l==="destination"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Destination Performance"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:l==="source"?"Source":"Destination"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Leads"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Confirmed"}),l==="destination"&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cancelled"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Conversion Rate"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.source||p.destination}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:p.total_leads}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:p.confirmed_leads}),l==="destination"&&a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:p.cancelled_leads}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Math.min(p.conversion_rate,100)}%`}})}),a.jsxs("span",{className:"text-sm text-gray-900",children:[p.conversion_rate,"%"]})]})})]},g))})]}),m.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No analytics data found"})]})]})})},hZ=()=>{const e=Br(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,l]=f.useState("");f.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const d=await ks.list();r(d.data.data.users||[]),l("")}catch(d){l("Failed to load users"),console.error(d)}finally{s(!1)}},c=async d=>{if(window.confirm(`Are you sure you want to ${d.is_active?"deactivate":"activate"} ${d.name}?`))try{await ks.updateStatus(d.id,!d.is_active),o()}catch(m){alert("Failed to update user status"),console.error(m)}},u=d=>{alert("Edit functionality coming soon")};return n?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):i?a.jsx(ve,{children:a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:i})}):a.jsx(ve,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Users"}),a.jsx("button",{onClick:()=>e("/users/add"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"+ Add User"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No users found"})}):t.map(d=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:d.email})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:d.phone||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:d.role||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>u(),className:"text-blue-600 hover:text-blue-900 px-3 py-1 border border-blue-600 rounded hover:bg-blue-50",children:"Edit"}),a.jsx("button",{onClick:()=>c(d),className:`px-3 py-1 border rounded hover:bg-opacity-80 ${d.is_active?"text-red-600 border-red-600 hover:bg-red-50":"text-green-600 border-green-600 hover:bg-green-50"}`,children:d.is_active?"Deactivate":"Activate"})]})})]},d.id))})]})})})]})})},gZ=()=>{const e=Br(),[t,r]=f.useState({name:"",email:"",phone:"",role:"Sales",password:"",is_active:!0}),[n,s]=f.useState(!1),[i,l]=f.useState(""),[o,c]=f.useState(!1),u=async m=>{var p,g;m.preventDefault(),l(""),s(!0);try{await ks.create(t),c(!0),setTimeout(()=>{c(!1),e("/users")},3e3)}catch(x){l(((g=(p=x.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to create user"),console.error(x)}finally{s(!1)}},d=m=>{const{name:p,value:g,type:x,checked:v}=m.target;r({...t,[p]:x==="checkbox"?v:g})};return a.jsxs(ve,{children:[a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Add New User"}),a.jsx("button",{onClick:()=>e("/users"),className:"text-gray-600 hover:text-gray-800 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Users"})]}),o&&a.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg z-50 flex items-center space-x-2 animate-slide-in",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"font-semibold",children:"User created successfully!"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:i}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:t.name,onChange:d,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter user name"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",name:"email",value:t.email,onChange:d,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"text",name:"phone",value:t.phone,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Role ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"role",value:t.role,onChange:d,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Admin",children:"Admin"}),a.jsx("option",{value:"Manager",children:"Manager"}),a.jsx("option",{value:"Sales",children:"Sales"}),a.jsx("option",{value:"Accounts",children:"Accounts"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",name:"password",value:t.password,onChange:d,required:!0,minLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password (min 6 characters)"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"is_active",id:"is_active",checked:t.is_active,onChange:d,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm font-medium text-gray-700",children:"Active"})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",children:n?"Creating...":"Create User"}),a.jsx("button",{type:"button",onClick:()=>e("/users"),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})]}),a.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})},xZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[s,i]=f.useState(!0),[l,o]=f.useState(!1),[c,u]=f.useState(""),[d,m]=f.useState(""),[p,g]=f.useState({user_id:"",month:"",target_amount:""});f.useEffect(()=>{x(),v()},[]);const x=async()=>{try{const j=await ks.list();t(j.data.data.users||[])}catch(j){console.error("Failed to fetch users:",j)}},v=async()=>{try{i(!0);const _=((await ks.list()).data.data.users||[]).map(async O=>{try{const E=await ks.get(O.id);return E.data.success&&E.data.data.user.targets?E.data.data.user.targets.map(k=>({id:k.id,user_id:O.id,user_name:O.name,month:k.month,target_amount:parseFloat(k.target_amount),achieved_amount:parseFloat(k.achieved_amount||0)})):[]}catch{return[]}}),C=(await Promise.all(_)).flat();n(C)}catch(j){console.error("Failed to fetch targets:",j)}finally{i(!1)}},h=async j=>{var P,_;j.preventDefault(),u(""),m(""),o(!0);try{const C=p.month;if(!/^\d{4}-\d{2}$/.test(C)){u("Month must be in YYYY-MM format"),o(!1);return}await aI.create({user_id:parseInt(p.user_id),month:C,target_amount:parseFloat(p.target_amount)}),m("Target created successfully!"),g({user_id:"",month:"",target_amount:""}),v(),setTimeout(()=>m(""),3e3)}catch(C){u(((_=(P=C.response)==null?void 0:P.data)==null?void 0:_.message)||"Failed to create target"),console.error(C)}finally{o(!1)}},y=j=>{const{name:P,value:_}=j.target;g({...p,[P]:_})},b=(j,P)=>!j||j===0?0:(P/j*100).toFixed(2);return s&&r.length===0?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Employee Targets"}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Set Target"}),c&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),d&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:d}),a.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["User ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"user_id",value:p.user_id,onChange:y,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select User"}),e.map(j=>a.jsx("option",{value:j.id,children:j.name},j.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Month ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"month",name:"month",value:p.month,onChange:y,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"YYYY-MM"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Target Amount ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"target_amount",value:p.target_amount,onChange:y,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",children:l?"Creating...":"Create Target"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Targets Overview"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Achieved Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completion %"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No targets found. Create a target to get started."})}):r.sort((j,P)=>j.user_name!==P.user_name?j.user_name.localeCompare(P.user_name):P.month.localeCompare(j.month)).map(j=>{const P=b(j.target_amount,j.achieved_amount),_=parseFloat(P);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.user_name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:j.month})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:["",j.target_amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:["",j.achieved_amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:a.jsx("div",{className:`h-2 rounded-full ${_>=100?"bg-green-500":_>=75?"bg-blue-500":_>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(_,100)}%`}})}),a.jsxs("span",{className:`text-sm font-semibold ${_>=100?"text-green-600":_>=75?"text-blue-600":_>=50?"text-yellow-600":"text-red-600"}`,children:[P,"%"]})]})})]},`${j.user_id}-${j.month}`)})})]})})]})]})})},yZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[s,i]=f.useState(""),[l,o]=f.useState([]),[c,u]=f.useState(!0),[d,m]=f.useState(!1),[p,g]=f.useState(""),[x,v]=f.useState("");f.useEffect(()=>{h(),y()},[]),f.useEffect(()=>{s?b(s):o([])},[s]);const h=async()=>{try{const C=await fu.getRoles();t(C.data.data.roles||[]),C.data.data.roles.length>0&&!s&&i(C.data.data.roles[0].name)}catch(C){console.error("Failed to fetch roles:",C),g("Failed to load roles")}},y=async()=>{try{const C=await fu.getPermissions();n(C.data.data.permissions||[])}catch(C){console.error("Failed to fetch permissions:",C),g("Failed to load permissions")}finally{u(!1)}},b=async C=>{var O;try{u(!0);const E=await fu.getRolePermissions(C);o(E.data.data.permissions||[]),g("")}catch(E){((O=E.response)==null?void 0:O.status)===404?o([]):(g("Failed to load role permissions"),console.error(E))}finally{u(!1)}},j=C=>{o(O=>O.includes(C)?O.filter(E=>E!==C):[...O,C])},P=()=>{l.length===r.length?o([]):o(r.map(C=>C.id))},_=async()=>{var C,O;if(!s){g("Please select a role");return}g(""),v(""),m(!0);try{await fu.updateRolePermissions(s,l),v("Permissions updated successfully!"),setTimeout(()=>v(""),3e3)}catch(E){g(((O=(C=E.response)==null?void 0:C.data)==null?void 0:O.message)||"Failed to update permissions"),console.error(E)}finally{m(!1)}};return c&&e.length===0?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Manage Permissions"}),x&&a.jsx("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:x}),p&&a.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:p}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Role ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:s,onChange:C=>i(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"-- Select Role --"}),e.map(C=>a.jsx("option",{value:C.name,children:C.name},C.id))]})]}),s&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Permissions for ",s]}),a.jsx("button",{onClick:P,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:l.length===r.length?"Deselect All":"Select All"})]}),c?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No permissions found. Please create permissions first."}):a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:r.map(C=>a.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.includes(C.id),onChange:()=>j(C.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:C.name})]},C.id))}),s&&r.length>0&&a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsx("button",{onClick:_,disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",children:d?"Saving...":"Save Permissions"})})]}),!s&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"Please select a role to manage permissions"})]})})},vZ=()=>{var P;const[e,t]=f.useState(null),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState({current_password:"",new_password:"",new_password_confirmation:""}),[d,m]=f.useState({}),[p,g]=f.useState(!1);f.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0);const _=await jw.get();t(_.data.data.user),i("")}catch(_){i("Failed to load profile"),console.error(_)}finally{n(!1)}},v=_=>{const{name:C,value:O}=_.target;u(E=>({...E,[C]:O})),d[C]&&m(E=>({...E,[C]:void 0}))},h=async _=>{var C,O,E,k;_.preventDefault(),m({}),i(""),o(""),g(!0);try{await jw.updatePassword(c),o("Password updated successfully!"),u({current_password:"",new_password:"",new_password_confirmation:""}),setTimeout(()=>o(""),3e3)}catch(T){(O=(C=T.response)==null?void 0:C.data)!=null&&O.errors?m(T.response.data.errors):i(((k=(E=T.response)==null?void 0:E.data)==null?void 0:k.message)||"Failed to update password"),console.error(T)}finally{g(!1)}};if(r)return a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!e)return a.jsx(ve,{children:a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"Failed to load profile"})});const y=((P=e.target)==null?void 0:P.completion_percentage)||0,b=y>=100?"bg-green-500":y>=75?"bg-blue-500":y>=50?"bg-yellow-500":"bg-red-500",j=y>=100?"text-green-600":y>=75?"text-blue-600":y>=50?"text-yellow-600":"text-red-600";return a.jsx(ve,{children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"My Profile"}),l&&a.jsx("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:l}),s&&a.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Profile Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Name"}),a.jsx("p",{className:"text-lg text-gray-900",children:e.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email"}),a.jsx("p",{className:"text-lg text-gray-900",children:e.email}),!e.email_verified_at&&a.jsx("span",{className:"text-xs text-yellow-600",children:"Email not verified"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Phone"}),a.jsx("p",{className:"text-lg text-gray-900",children:e.phone||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Role"}),a.jsx("span",{className:"inline-block px-3 py-1 text-sm font-semibold rounded-full bg-blue-100 text-blue-800",children:e.role||"-"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Current Month Target"}),e.target?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Target Amount"}),a.jsxs("p",{className:"text-lg text-gray-900",children:["",e.target.target_amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Achieved Amount"}),a.jsxs("p",{className:"text-lg text-gray-900",children:["",e.target.achieved_amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Completion"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3 mr-3",children:a.jsx("div",{className:`${b} h-3 rounded-full transition-all duration-300`,style:{width:`${Math.min(y,100)}%`}})}),a.jsxs("span",{className:`text-sm font-semibold ${j} whitespace-nowrap`,children:[y,"%"]})]})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No target set for current month"})]})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Change Password"}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",id:"current_password",name:"current_password",value:c.current_password,onChange:v,required:!0,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.current_password?"border-red-500":"border-gray-300"}`}),d.current_password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.current_password[0]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700 mb-1",children:["New Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",id:"new_password",name:"new_password",value:c.new_password,onChange:v,required:!0,minLength:"8",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.new_password?"border-red-500":"border-gray-300"}`}),d.new_password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.new_password[0]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"new_password_confirmation",className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm New Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",id:"new_password_confirmation",name:"new_password_confirmation",value:c.new_password_confirmation,onChange:v,required:!0,minLength:"8",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.new_password_confirmation?"border-red-500":"border-gray-300"}`}),d.new_password_confirmation&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.new_password_confirmation[0]})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",children:p?"Updating Password...":"Update Password"})]})]})]})})},bZ=()=>{var _;const{user:e}=Va(),{settings:t,updateSettings:r,resetSettings:n,loading:s}=s_(),[i,l]=f.useState({sidebar_color:"#2765B0",dashboard_background_color:"#D8DEF5",header_background_color:"#D8DEF5"}),[o,c]=f.useState(!1),[u,d]=f.useState({type:"",text:""}),[m,p]=f.useState(4),[g,x]=f.useState(!1);f.useEffect(()=>{t&&l({sidebar_color:t.sidebar_color||"#2765B0",dashboard_background_color:t.dashboard_background_color||"#D8DEF5",header_background_color:t.header_background_color||"#D8DEF5"}),v()},[t]);const v=async()=>{var C;try{const O=await Fe.getMaxHotelOptions();O.data.success&&((C=O.data.data)!=null&&C.max_hotel_options)&&p(O.data.data.max_hotel_options)}catch(O){console.error("Failed to fetch max hotel options:",O)}},h=async()=>{try{x(!0),await Fe.save({key:"max_hotel_options",value:m.toString(),type:"integer",description:"Maximum number of hotel options allowed per day in itinerary"}),d({type:"success",text:"Itinerary settings saved successfully!"})}catch(C){console.error("Failed to save itinerary settings:",C),d({type:"error",text:"Failed to save itinerary settings. Please try again."})}finally{x(!1)}};if(!((e==null?void 0:e.role)==="Admin"||((_=e==null?void 0:e.roles)==null?void 0:_.some(C=>C.name==="Admin"))||!1))return a.jsx(ve,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800",children:"You do not have permission to access this page. Admin access required."})})})});const b=(C,O)=>{l(E=>({...E,[C]:O})),d({type:"",text:""})},j=async C=>{C.preventDefault(),c(!0),d({type:"",text:""});try{const O=await r(i);O.success?d({type:"success",text:"Settings updated successfully!"}):d({type:"error",text:O.message||"Failed to update settings"})}catch{d({type:"error",text:"An error occurred while updating settings"})}finally{c(!1)}},P=async()=>{if(window.confirm("Are you sure you want to reset all settings to default values?")){c(!0),d({type:"",text:""});try{const C=await n();C.success?(l({sidebar_color:"#2765B0",dashboard_background_color:"#D8DEF5",header_background_color:"#D8DEF5"}),d({type:"success",text:"Settings reset to default values!"})):d({type:"error",text:C.message||"Failed to reset settings"})}catch{d({type:"error",text:"An error occurred while resetting settings"})}finally{c(!1)}}};return s?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Tm,{className:"h-8 w-8"}),"Company Settings"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Customize your dashboard colors"})]}),u.text&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${u.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:u.text}),a.jsxs("form",{onSubmit:j,className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sidebar Color"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"color",value:i.sidebar_color,onChange:C=>b("sidebar_color",C.target.value),className:"h-12 w-24 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:i.sidebar_color,onChange:C=>b("sidebar_color",C.target.value),placeholder:"#2765B0",pattern:"^#[0-9A-Fa-f]{6}$",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("div",{className:"w-16 h-12 rounded border border-gray-300",style:{backgroundColor:i.sidebar_color}})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Default: #2765B0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dashboard Background Color"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"color",value:i.dashboard_background_color,onChange:C=>b("dashboard_background_color",C.target.value),className:"h-12 w-24 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:i.dashboard_background_color,onChange:C=>b("dashboard_background_color",C.target.value),placeholder:"#D8DEF5",pattern:"^#[0-9A-Fa-f]{6}$",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("div",{className:"w-16 h-12 rounded border border-gray-300",style:{backgroundColor:i.dashboard_background_color}})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Default: #D8DEF5"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Background Color"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"color",value:i.header_background_color,onChange:C=>b("header_background_color",C.target.value),className:"h-12 w-24 rounded border border-gray-300 cursor-pointer"}),a.jsx("input",{type:"text",value:i.header_background_color,onChange:C=>b("header_background_color",C.target.value),placeholder:"#D8DEF5",pattern:"^#[0-9A-Fa-f]{6}$",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("div",{className:"w-16 h-12 rounded border border-gray-300",style:{backgroundColor:i.header_background_color}})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Default: #D8DEF5"})]})]}),a.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[a.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx($a,{className:"h-4 w-4"}),o?"Saving...":"Save Settings"]}),a.jsxs("button",{type:"button",onClick:P,disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(xM,{className:"h-4 w-4"}),"Reset to Default"]})]})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Preview"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Sidebar"}),a.jsx("div",{className:"h-32 rounded-lg border-2 border-gray-300",style:{backgroundColor:i.sidebar_color}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Dashboard & Header"}),a.jsx("div",{className:"h-32 rounded-lg border-2 border-gray-300",style:{backgroundColor:i.dashboard_background_color}})]})]})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Email Template Settings"})]}),a.jsx("a",{href:"/email-templates",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Manage Templates "})]}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Select the email template to use when sending quotations to clients"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Email Template"}),a.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"template-1",onChange:async C=>{try{await Fe.save({key:"selected_email_template",value:C.target.value,type:"string",description:"Selected email template for sending quotations"}),d({type:"success",text:"Email template updated successfully!"})}catch{d({type:"error",text:"Failed to update email template"})}},children:[a.jsx("option",{value:"template-1",children:"Professional Classic"}),a.jsx("option",{value:"template-2",children:"3D Premium Card"}),a.jsx("option",{value:"template-3",children:"3D Floating Boxes"}),a.jsx("option",{value:"template-4",children:"3D Layered Design"}),a.jsx("option",{value:"template-5",children:"Adventure Travel"}),a.jsx("option",{value:"template-6",children:"Beach Paradise"}),a.jsx("option",{value:"template-7",children:"Elegant Package"}),a.jsx("option",{value:"template-8",children:"Modern Elegant"}),a.jsx("option",{value:"template-9",children:"Minimalist"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This template will be used when sending quotations via email"})]})})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"h-6 w-6 text-red-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Gmail Integration"})]})}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Connect your Gmail account to send and receive emails directly from the CRM."}),a.jsx("div",{className:"flex items-center gap-4",children:e!=null&&e.google_token?a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-600 animate-pulse"}),"Connected as ",e.gmail_email]}),a.jsx("button",{onClick:()=>window.location.href=Am.getConnectUrl(),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm font-medium w-fit",children:"Reconnect Account"})]}):a.jsxs("button",{onClick:()=>window.location.href=Am.getConnectUrl(),className:"flex items-center gap-2 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(Qt,{className:"h-4 w-4"}),"Connect Gmail Account"]})})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(p_,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Itinerary Settings"})]}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Configure settings for itinerary management"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Hotel Options Per Day"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Set the maximum number of hotel options that can be added per day in an itinerary."}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"number",min:"1",max:"10",value:m,onChange:C=>p(parseInt(C.target.value)||1),className:"w-32 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"option(s)"})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Current value: ",m," option(s) per day"]})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsxs("button",{onClick:h,disabled:g,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx($a,{className:"h-4 w-4"}),g?"Saving...":"Save Itinerary Settings"]})})]})]})]})})},jZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(null),[s,i]=f.useState(!1),[l,o]=f.useState(!0),[c,u]=f.useState(!1),d=[{id:"template-1",name:"Professional Classic",description:"Clean and professional design with blue theme",isDefault:!0,layout:"classic"},{id:"template-2",name:"3D Premium Card",description:"3D card effect with depth and shadows - Perfect for PDF",isDefault:!0,layout:"3d-premium"},{id:"template-3",name:"3D Floating Boxes",description:"Floating 3D boxes with modern depth effect",isDefault:!0,layout:"3d-floating"},{id:"template-4",name:"3D Layered Design",description:"Multi-layer 3D effect with impressive depth",isDefault:!0,layout:"3d-layered"},{id:"template-5",name:"Adventure Travel",description:"Rustic outdoor adventure style with earthy tones",isDefault:!0,layout:"adventure"},{id:"template-6",name:"Beach Paradise",description:"Serene beach theme with ocean blue colors",isDefault:!0,layout:"beach"},{id:"template-7",name:"Elegant Package",description:"Sophisticated package pricelist format",isDefault:!0,layout:"elegant"},{id:"template-8",name:"Modern Elegant",description:"Modern design with gradient colors",isDefault:!0,layout:"modern"},{id:"template-9",name:"Minimalist",description:"Simple and clean minimalist design",isDefault:!0,layout:"minimalist"}];f.useEffect(()=>{m(),p()},[]);const m=async()=>{var E;try{const k=await Fe.getByKey("email_templates");if(k.data.success&&((E=k.data.data)!=null&&E.value)){const T=JSON.parse(k.data.data.value);t(T.length>0?T:d)}else t(d)}catch(k){console.error("Failed to load templates:",k),t(d)}finally{o(!1)}},p=async()=>{var E;try{const k=await Fe.getByKey("selected_email_template");k.data.success&&((E=k.data.data)!=null&&E.value)?n(k.data.data.value):n("template-1")}catch(k){console.error("Failed to load selected template:",k),n("template-1")}},g=async E=>{try{u(!0),await Fe.save({key:"selected_email_template",value:E,type:"string",description:"Selected email template for sending quotations"}),n(E),alert("Template selected successfully!")}catch(k){console.error("Failed to save selected template:",k),alert("Failed to save template selection")}finally{u(!1)}},[x,v]=f.useState(null),h=()=>`
      <div style="font-family: 'Arial', sans-serif; max-width: 800px; margin: 0 auto; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px 20px;">
        <!-- Header with 3D Effect -->
        <div style="background: white; padding: 40px; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.3), 0 0 0 1px rgba(255,255,255,0.1); transform: perspective(1000px) rotateX(2deg);">
          <h1 style="margin: 0; font-size: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; font-weight: bold;">TravelOps</h1>
          <p style="text-align: center; color: #666; margin-top: 10px;">Delhi, India | Email: info@travelops.com | Mobile: +91-9871023004</p>
        </div>
        
        <!-- Quote Details Card with 3D -->
        <div style="background: white; padding: 30px; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.2), inset 0 -5px 15px rgba(0,0,0,0.1); transform: perspective(1000px) rotateY(-1deg);">
          <h2 style="margin-top: 0; font-size: 32px; color: #667eea; text-align: center;">Travel Quotation</h2>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
            <div style="padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);"><strong>Query ID:</strong> Q-0005</div>
            <div style="padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);"><strong>Destination:</strong> Shimla, Kufri</div>
            <div style="padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);"><strong>Duration:</strong> 3 Nights & 4 Days</div>
            <div style="padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 10px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);"><strong>Adults:</strong> 2 | <strong>Children:</strong> 1</div>
          </div>
        </div>
        
        <!-- Option 1 with 3D Card Effect -->
        <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px; box-shadow: 0 25px 50px rgba(0,0,0,0.25), 0 0 0 1px rgba(102,126,234,0.1); transform: perspective(1000px) rotateX(1deg) translateY(-5px); position: relative;">
          <div style="position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 60px; height: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; box-shadow: 0 10px 20px rgba(102,126,234,0.4); display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: bold;">1</div>
          <div style="margin-top: 30px;">
            <h2 style="margin: 0 0 25px 0; font-size: 28px; color: #667eea; text-align: center;">Option 1</h2>
            
            <div style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: inset 0 2px 10px rgba(0,0,0,0.1), 0 5px 15px rgba(0,0,0,0.1);">
              <h4 style="margin: 0 0 15px 0; color: #333; font-size: 20px;">Day 1: The Green Park Shimla</h4>
              <p style="margin: 8px 0; color: #555;"><strong>Category:</strong> 5 Star</p>
              <p style="margin: 8px 0; color: #555;"><strong>Room:</strong> Superior Villa</p>
              <p style="margin: 8px 0; color: #555;"><strong>Meal Plan:</strong> Room Only</p>
              <p style="margin: 8px 0; color: #555;"><strong>Price:</strong> 24,452</p>
            </div>
            
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; font-size: 28px; font-weight: bold; box-shadow: 0 10px 30px rgba(102,126,234,0.4), inset 0 -5px 15px rgba(0,0,0,0.2);">
              Total Package Price: 48,904
            </div>
          </div>
        </div>
        
        <!-- Option 2 with 3D Card Effect -->
        <div style="background: white; padding: 35px; border-radius: 25px; margin-bottom: 30px; box-shadow: 0 25px 50px rgba(0,0,0,0.25), 0 0 0 1px rgba(102,126,234,0.1); transform: perspective(1000px) rotateX(1deg) translateY(-5px); position: relative;">
          <div style="position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 60px; height: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; box-shadow: 0 10px 20px rgba(102,126,234,0.4); display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: bold;">2</div>
          <div style="margin-top: 30px;">
            <h2 style="margin: 0 0 25px 0; font-size: 28px; color: #667eea; text-align: center;">Option 2</h2>
            
            <div style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: inset 0 2px 10px rgba(0,0,0,0.1), 0 5px 15px rgba(0,0,0,0.1);">
              <h4 style="margin: 0 0 15px 0; color: #333; font-size: 20px;">Day 1: Luxury Hotel Shimla</h4>
              <p style="margin: 8px 0; color: #555;"><strong>Category:</strong> 4 Star</p>
              <p style="margin: 8px 0; color: #555;"><strong>Price:</strong> 18,500</p>
            </div>
            
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; font-size: 28px; font-weight: bold; box-shadow: 0 10px 30px rgba(102,126,234,0.4), inset 0 -5px 15px rgba(0,0,0,0.2);">
              Total Package Price: 18,500
            </div>
          </div>
        </div>
        
        <!-- Footer with 3D Effect -->
        <div style="background: rgba(255,255,255,0.95); padding: 30px; border-radius: 20px; text-align: center; box-shadow: 0 15px 35px rgba(0,0,0,0.2); transform: perspective(1000px) rotateX(-2deg);">
          <p style="margin: 5px 0; font-size: 18px; font-weight: bold; color: #667eea;">Thank you for choosing TravelOps!</p>
          <p style="margin: 10px 0 5px 0; color: #666;"> +91-9871023004 |  www.travelops.com</p>
        </div>
      </div>
    `,y=()=>`
      <div style="font-family: 'Arial', sans-serif; max-width: 800px; margin: 0 auto; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); padding: 40px 20px;">
        <!-- Header Floating Card -->
        <div style="background: white; padding: 40px; border-radius: 15px; margin-bottom: 40px; box-shadow: 0 30px 60px rgba(0,0,0,0.4), 0 0 0 3px rgba(255,255,255,0.2); transform: translateY(-10px) rotateZ(-1deg);">
          <h1 style="margin: 0; font-size: 48px; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; font-weight: bold;">TravelOps</h1>
          <p style="text-align: center; color: #666; margin-top: 10px;">Delhi, India | Email: info@travelops.com | Mobile: +91-9871023004</p>
        </div>
        
        <!-- Quote Details Floating -->
        <div style="background: white; padding: 30px; border-radius: 15px; margin-bottom: 40px; box-shadow: 0 20px 50px rgba(0,0,0,0.3), 0 0 0 2px rgba(255,255,255,0.1); transform: translateY(5px) rotateZ(1deg);">
          <h2 style="margin-top: 0; font-size: 32px; color: #1e3c72; text-align: center;">Travel Quotation</h2>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
            <div style="padding: 15px; background: #f0f4ff; border-radius: 10px; border-left: 4px solid #2a5298; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"><strong>Query ID:</strong> Q-0005</div>
            <div style="padding: 15px; background: #f0f4ff; border-radius: 10px; border-left: 4px solid #2a5298; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"><strong>Destination:</strong> Shimla, Kufri</div>
            <div style="padding: 15px; background: #f0f4ff; border-radius: 10px; border-left: 4px solid #2a5298; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"><strong>Duration:</strong> 3 Nights & 4 Days</div>
            <div style="padding: 15px; background: #f0f4ff; border-radius: 10px; border-left: 4px solid #2a5298; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"><strong>Adults:</strong> 2 | <strong>Children:</strong> 1</div>
          </div>
        </div>
        
        <!-- Option 1 Floating Box -->
        <div style="background: white; padding: 35px; border-radius: 20px; margin-bottom: 40px; box-shadow: 0 35px 70px rgba(0,0,0,0.35), 0 0 0 2px rgba(42,82,152,0.2); transform: translateY(-15px) rotateZ(-2deg); position: relative;">
          <div style="position: absolute; top: -20px; right: 30px; width: 80px; height: 80px; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); border-radius: 15px; box-shadow: 0 15px 30px rgba(30,60,114,0.5); transform: rotateZ(15deg); display: flex; align-items: center; justify-content: center; color: white; font-size: 32px; font-weight: bold;">1</div>
          <div style="margin-top: 20px;">
            <h2 style="margin: 0 0 25px 0; font-size: 28px; color: #1e3c72; text-align: center;">Option 1</h2>
            
            <div style="background: linear-gradient(135deg, #e8f0ff 0%, #d0e0ff 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.15), inset 0 2px 5px rgba(255,255,255,0.5);">
              <h4 style="margin: 0 0 15px 0; color: #1e3c72; font-size: 20px;">Day 1: The Green Park Shimla</h4>
              <p style="margin: 8px 0; color: #333;"><strong>Category:</strong> 5 Star</p>
              <p style="margin: 8px 0; color: #333;"><strong>Room:</strong> Superior Villa</p>
              <p style="margin: 8px 0; color: #333;"><strong>Meal Plan:</strong> Room Only</p>
              <p style="margin: 8px 0; color: #333;"><strong>Price:</strong> 24,452</p>
            </div>
            
            <div style="background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; font-size: 28px; font-weight: bold; box-shadow: 0 15px 35px rgba(30,60,114,0.5), inset 0 -5px 15px rgba(0,0,0,0.2);">
              Total Package Price: 48,904
            </div>
          </div>
        </div>
        
        <!-- Option 2 Floating Box -->
        <div style="background: white; padding: 35px; border-radius: 20px; margin-bottom: 40px; box-shadow: 0 35px 70px rgba(0,0,0,0.35), 0 0 0 2px rgba(42,82,152,0.2); transform: translateY(-15px) rotateZ(2deg); position: relative;">
          <div style="position: absolute; top: -20px; left: 30px; width: 80px; height: 80px; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); border-radius: 15px; box-shadow: 0 15px 30px rgba(30,60,114,0.5); transform: rotateZ(-15deg); display: flex; align-items: center; justify-content: center; color: white; font-size: 32px; font-weight: bold;">2</div>
          <div style="margin-top: 20px;">
            <h2 style="margin: 0 0 25px 0; font-size: 28px; color: #1e3c72; text-align: center;">Option 2</h2>
            
            <div style="background: linear-gradient(135deg, #e8f0ff 0%, #d0e0ff 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.15), inset 0 2px 5px rgba(255,255,255,0.5);">
              <h4 style="margin: 0 0 15px 0; color: #1e3c72; font-size: 20px;">Day 1: Luxury Hotel Shimla</h4>
              <p style="margin: 8px 0; color: #333;"><strong>Category:</strong> 4 Star</p>
              <p style="margin: 8px 0; color: #333;"><strong>Price:</strong> 18,500</p>
            </div>
            
            <div style="background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; font-size: 28px; font-weight: bold; box-shadow: 0 15px 35px rgba(30,60,114,0.5), inset 0 -5px 15px rgba(0,0,0,0.2);">
              Total Package Price: 18,500
            </div>
          </div>
        </div>
        
        <!-- Footer Floating -->
        <div style="background: rgba(255,255,255,0.95); padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.3); transform: translateY(10px) rotateZ(-1deg);">
          <p style="margin: 5px 0; font-size: 18px; font-weight: bold; color: #1e3c72;">Thank you for choosing TravelOps!</p>
          <p style="margin: 10px 0 5px 0; color: #666;"> +91-9871023004 |  www.travelops.com</p>
        </div>
      </div>
    `,b=()=>`
      <div style="font-family: 'Arial', sans-serif; max-width: 800px; margin: 0 auto; background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%); padding: 50px 20px;">
        <!-- Layered Header -->
        <div style="position: relative; margin-bottom: 50px;">
          <div style="background: rgba(255,255,255,0.1); padding: 50px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); transform: translateZ(20px); position: relative; z-index: 3;">
            <div style="background: rgba(255,255,255,0.15); padding: 40px; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.4); transform: translateZ(15px); position: relative; z-index: 2;">
              <div style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); transform: translateZ(10px); position: relative; z-index: 1;">
                <h1 style="margin: 0; font-size: 48px; background: linear-gradient(135deg, #0f2027 0%, #2c5364 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; font-weight: bold;">TravelOps</h1>
                <p style="text-align: center; color: #666; margin-top: 10px;">Delhi, India | Email: info@travelops.com | Mobile: +91-9871023004</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Layered Quote Details -->
        <div style="position: relative; margin-bottom: 50px;">
          <div style="background: rgba(255,255,255,0.95); padding: 30px; border-radius: 20px; box-shadow: 0 25px 60px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.2); transform: translateZ(25px); position: relative; z-index: 2;">
            <h2 style="margin-top: 0; font-size: 32px; color: #0f2027; text-align: center;">Travel Quotation</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
              <div style="padding: 15px; background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1), inset 0 2px 5px rgba(255,255,255,0.5);"><strong>Query ID:</strong> Q-0005</div>
              <div style="padding: 15px; background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1), inset 0 2px 5px rgba(255,255,255,0.5);"><strong>Destination:</strong> Shimla, Kufri</div>
              <div style="padding: 15px; background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1), inset 0 2px 5px rgba(255,255,255,0.5);"><strong>Duration:</strong> 3 Nights & 4 Days</div>
              <div style="padding: 15px; background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1), inset 0 2px 5px rgba(255,255,255,0.5);"><strong>Adults:</strong> 2 | <strong>Children:</strong> 1</div>
            </div>
          </div>
        </div>
        
        <!-- Option 1 Layered -->
        <div style="position: relative; margin-bottom: 50px;">
          <div style="background: rgba(255,255,255,0.1); padding: 35px; border-radius: 25px; box-shadow: 0 30px 70px rgba(0,0,0,0.5); transform: translateZ(30px); position: relative; z-index: 3;">
            <div style="background: rgba(255,255,255,0.2); padding: 30px; border-radius: 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.4); transform: translateZ(20px); position: relative; z-index: 2;">
              <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.3); transform: translateZ(10px); position: relative; z-index: 1;">
                <div style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); width: 70px; height: 70px; background: linear-gradient(135deg, #0f2027 0%, #2c5364 100%); border-radius: 50%; box-shadow: 0 15px 35px rgba(15,32,39,0.6); display: flex; align-items: center; justify-content: center; color: white; font-size: 28px; font-weight: bold; z-index: 4;">1</div>
                <div style="margin-top: 30px;">
                  <h2 style="margin: 0 0 25px 0; font-size: 28px; color: #0f2027; text-align: center;">Option 1</h2>
                  
                  <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.15), inset 0 2px 5px rgba(255,255,255,0.5);">
                    <h4 style="margin: 0 0 15px 0; color: #0f2027; font-size: 20px;">Day 1: The Green Park Shimla</h4>
                    <p style="margin: 8px 0; color: #333;"><strong>Category:</strong> 5 Star</p>
                    <p style="margin: 8px 0; color: #333;"><strong>Room:</strong> Superior Villa</p>
                    <p style="margin: 8px 0; color: #333;"><strong>Meal Plan:</strong> Room Only</p>
                    <p style="margin: 8px 0; color: #333;"><strong>Price:</strong> 24,452</p>
                  </div>
                  
                  <div style="background: linear-gradient(135deg, #0f2027 0%, #2c5364 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; font-size: 28px; font-weight: bold; box-shadow: 0 15px 35px rgba(15,32,39,0.6), inset 0 -5px 15px rgba(0,0,0,0.2);">
                    Total Package Price: 48,904
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Option 2 Layered -->
        <div style="position: relative; margin-bottom: 50px;">
          <div style="background: rgba(255,255,255,0.1); padding: 35px; border-radius: 25px; box-shadow: 0 30px 70px rgba(0,0,0,0.5); transform: translateZ(30px); position: relative; z-index: 3;">
            <div style="background: rgba(255,255,255,0.2); padding: 30px; border-radius: 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.4); transform: translateZ(20px); position: relative; z-index: 2;">
              <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.3); transform: translateZ(10px); position: relative; z-index: 1;">
                <div style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); width: 70px; height: 70px; background: linear-gradient(135deg, #0f2027 0%, #2c5364 100%); border-radius: 50%; box-shadow: 0 15px 35px rgba(15,32,39,0.6); display: flex; align-items: center; justify-content: center; color: white; font-size: 28px; font-weight: bold; z-index: 4;">2</div>
                <div style="margin-top: 30px;">
                  <h2 style="margin: 0 0 25px 0; font-size: 28px; color: #0f2027; text-align: center;">Option 2</h2>
                  
                  <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.15), inset 0 2px 5px rgba(255,255,255,0.5);">
                    <h4 style="margin: 0 0 15px 0; color: #0f2027; font-size: 20px;">Day 1: Luxury Hotel Shimla</h4>
                    <p style="margin: 8px 0; color: #333;"><strong>Category:</strong> 4 Star</p>
                    <p style="margin: 8px 0; color: #333;"><strong>Price:</strong> 18,500</p>
                  </div>
                  
                  <div style="background: linear-gradient(135deg, #0f2027 0%, #2c5364 100%); color: white; padding: 25px; border-radius: 15px; text-align: center; font-size: 28px; font-weight: bold; box-shadow: 0 15px 35px rgba(15,32,39,0.6), inset 0 -5px 15px rgba(0,0,0,0.2);">
                    Total Package Price: 18,500
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Layered Footer -->
        <div style="position: relative;">
          <div style="background: rgba(255,255,255,0.95); padding: 30px; border-radius: 20px; text-align: center; box-shadow: 0 25px 60px rgba(0,0,0,0.4); transform: translateZ(20px); position: relative; z-index: 2;">
            <p style="margin: 5px 0; font-size: 18px; font-weight: bold; color: #0f2027;">Thank you for choosing TravelOps!</p>
            <p style="margin: 10px 0 5px 0; color: #666;"> +91-9871023004 |  www.travelops.com</p>
          </div>
        </div>
      </div>
    `,j=()=>`
      <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; background: #d1fae5;">
        <!-- Header Banner -->
        <div style="background: #65a30d; padding: 40px 30px; text-align: center; position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.1; background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCAwIEwxMDAgMTAwIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==');"></div>
          <h1 style="margin: 0; font-size: 48px; font-weight: bold; color: white; text-transform: uppercase; letter-spacing: 3px;">EXPLORE</h1>
          <p style="margin: 10px 0 0 0; font-size: 28px; color: white; font-style: italic;">The World</p>
          <p style="margin: 20px 0 0 0; font-size: 16px; color: white; text-transform: uppercase; letter-spacing: 2px;">ORGANIZE YOUR TRIP WITH US</p>
        </div>
        
        <!-- Content -->
        <div style="padding: 30px; background: #d1fae5;">
          <!-- Quote Details -->
          <div style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 25px; border-left: 5px solid #65a30d;">
            <h2 style="margin-top: 0; color: #365314; font-size: 24px;">Travel Quotation</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
              <div><strong style="color: #365314;">Query ID:</strong> Q-0005</div>
              <div><strong style="color: #365314;">Destination:</strong> Shimla, Kufri</div>
              <div><strong style="color: #365314;">Duration:</strong> 3 Nights & 4 Days</div>
              <div><strong style="color: #365314;">Adults:</strong> 2 | <strong>Children:</strong> 1</div>
            </div>
          </div>
          
          <!-- Option 1 -->
          <div style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 25px; border: 2px solid #84cc16;">
            <div style="background: #65a30d; color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
              <h2 style="margin: 0; font-size: 24px;">Option 1</h2>
            </div>
            
            <div style="margin: 20px 0;">
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                <div style="width: 40px; height: 40px; background: #84cc16; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;"></div>
                <h3 style="margin: 0; color: #365314; font-size: 20px;">Hotels Included</h3>
              </div>
              
              <div style="background: #f7fee7; padding: 20px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #84cc16;">
                <h4 style="margin: 0 0 10px 0; color: #365314; font-size: 18px;">Day 1: The Green Park Shimla</h4>
                <p style="margin: 5px 0; color: #365314;"><strong>Category:</strong> 5 Star</p>
                <p style="margin: 5px 0; color: #365314;"><strong>Room:</strong> Superior Villa</p>
                <p style="margin: 5px 0; color: #365314;"><strong>Meal Plan:</strong> Room Only</p>
                <p style="margin: 5px 0; color: #365314;"><strong>Price:</strong> 24,452</p>
              </div>
              
              <div style="background: #65a30d; color: white; padding: 20px; text-align: center; border-radius: 8px; font-size: 24px; font-weight: bold;">
                Total Package Price: 48,904
              </div>
            </div>
          </div>
          
          <!-- Option 2 -->
          <div style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 25px; border: 2px solid #84cc16;">
            <div style="background: #65a30d; color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
              <h2 style="margin: 0; font-size: 24px;">Option 2</h2>
            </div>
            
            <div style="background: #f7fee7; padding: 20px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #84cc16;">
              <h4 style="margin: 0 0 10px 0; color: #365314; font-size: 18px;">Day 1: Luxury Hotel Shimla</h4>
              <p style="margin: 5px 0; color: #365314;"><strong>Category:</strong> 4 Star</p>
              <p style="margin: 5px 0; color: #365314;"><strong>Room:</strong> Deluxe Room</p>
              <p style="margin: 5px 0; color: #365314;"><strong>Price:</strong> 18,500</p>
            </div>
            
            <div style="background: #65a30d; color: white; padding: 20px; text-align: center; border-radius: 8px; font-size: 24px; font-weight: bold;">
              Total Package Price: 18,500
            </div>
          </div>
        </div>
        
        <!-- Footer -->
        <div style="background: #365314; color: #fef3c7; padding: 25px; text-align: center;">
          <p style="margin: 5px 0; font-size: 18px; font-weight: bold;">BOOK NOW</p>
          <p style="margin: 10px 0 5px 0;"> 123 Anywhere St., Any City</p>
          <p style="margin: 5px 0;"> +91-9871023004</p>
          <p style="margin: 5px 0;"> www.travelops.com</p>
        </div>
      </div>
    `,P=()=>`
      <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; background: white;">
        <!-- Header with Ocean Background -->
        <div style="background: linear-gradient(180deg, #0ea5e9 0%, #06b6d4 50%, #22d3ee 100%); padding: 50px 30px; text-align: center; position: relative; overflow: hidden;">
          <div style="position: absolute; bottom: 0; left: 0; right: 0; height: 50px; background: #fef3c7; border-radius: 50% 50% 0 0 / 100% 100% 0 0;"></div>
          <div style="position: relative; z-index: 1;">
            <h1 style="margin: 0; font-size: 42px; color: white; font-weight: bold;">Explore The World</h1>
            <p style="margin: 10px 0 0 0; font-size: 18px; color: white; text-transform: uppercase; letter-spacing: 2px;">WITH US</p>
          </div>
        </div>
        
        <!-- Content -->
        <div style="padding: 30px; background: #fef3c7;">
          <!-- Quote Details -->
          <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <h2 style="margin-top: 0; color: #0891b2; font-size: 28px;">Travel Quotation</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
              <div><strong style="color: #164e63;">Query ID:</strong> Q-0005</div>
              <div><strong style="color: #164e63;">Destination:</strong> Shimla, Kufri</div>
              <div><strong style="color: #164e63;">Duration:</strong> 3 Nights & 4 Days</div>
              <div><strong style="color: #164e63;">Adults:</strong> 2 | <strong>Children:</strong> 1</div>
            </div>
          </div>
          
          <!-- Option 1 -->
          <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <div style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
              <h2 style="margin: 0; font-size: 28px;">Option 1</h2>
            </div>
            
            <h3 style="color: #0891b2; margin-top: 0; font-size: 22px;"> Hotels Included</h3>
            
            <div style="background: #ecfeff; padding: 20px; border-radius: 10px; margin-bottom: 15px; border: 2px solid #06b6d4;">
              <div style="display: flex; gap: 15px;">
                <div style="width: 120px; height: 120px; background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: white; font-size: 40px;"></div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 10px 0; color: #164e63; font-size: 20px;">Day 1: The Green Park Shimla</h4>
                  <p style="margin: 5px 0; color: #164e63;"><strong>Category:</strong> 5 Star</p>
                  <p style="margin: 5px 0; color: #164e63;"><strong>Room:</strong> Superior Villa</p>
                  <p style="margin: 5px 0; color: #164e63;"><strong>Meal Plan:</strong> Room Only</p>
                  <p style="margin: 5px 0; color: #164e63;"><strong>Price:</strong> 24,452</p>
                </div>
              </div>
            </div>
            
            <div style="background: #0891b2; color: white; padding: 25px; text-align: center; border-radius: 10px; font-size: 28px; font-weight: bold;">
              Total Package Price: 48,904
            </div>
          </div>
          
          <!-- Option 2 -->
          <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <div style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
              <h2 style="margin: 0; font-size: 28px;">Option 2</h2>
            </div>
            
            <div style="background: #ecfeff; padding: 20px; border-radius: 10px; margin-bottom: 15px; border: 2px solid #06b6d4;">
              <h4 style="margin: 0 0 10px 0; color: #164e63; font-size: 20px;">Day 1: Luxury Hotel Shimla</h4>
              <p style="margin: 5px 0; color: #164e63;"><strong>Category:</strong> 4 Star</p>
              <p style="margin: 5px 0; color: #164e63;"><strong>Price:</strong> 18,500</p>
            </div>
            
            <div style="background: #0891b2; color: white; padding: 25px; text-align: center; border-radius: 10px; font-size: 28px; font-weight: bold;">
              Total Package Price: 18,500
            </div>
          </div>
        </div>
        
        <!-- Footer -->
        <div style="background: #164e63; color: white; padding: 25px; text-align: center;">
          <p style="margin: 5px 0; font-size: 18px; font-weight: bold;">Thank you for choosing TravelOps!</p>
          <p style="margin: 10px 0 5px 0;"> +91-9871023004 |  www.travelops.com</p>
        </div>
      </div>
    `,_=()=>`
      <div style="font-family: 'Georgia', serif; max-width: 800px; margin: 0 auto; background: white;">
        <!-- Header -->
        <div style="background: #3f6212; color: #fef3c7; padding: 40px 30px; text-align: center;">
          <h1 style="margin: 0; font-size: 48px; font-style: italic; font-weight: normal;">Travel</h1>
          <p style="margin: 5px 0 0 0; font-size: 24px; letter-spacing: 3px;">Package Pricelist</p>
          <p style="margin: 20px 0 0 0; font-size: 14px; max-width: 600px; margin-left: auto; margin-right: auto;">
            Create your dream travel experience with our carefully curated packages, designed to make your journey truly unforgettable.
          </p>
        </div>
        
        <!-- Content -->
        <div style="padding: 30px; background: #f7fee7;">
          <!-- Quote Details -->
          <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 25px; border: 1px solid #84cc16;">
            <h2 style="margin-top: 0; color: #365314; font-size: 24px;">Quote Details</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
              <div><strong style="color: #3f6212;">Query ID:</strong> Q-0005</div>
              <div><strong style="color: #3f6212;">Destination:</strong> Shimla, Kufri</div>
              <div><strong style="color: #3f6212;">Duration:</strong> 3 Nights & 4 Days</div>
              <div><strong style="color: #3f6212;">Adults:</strong> 2 | <strong>Children:</strong> 1</div>
            </div>
          </div>
          
          <!-- Option 1 -->
          <div style="background: #65a30d; padding: 25px; border-radius: 10px; margin-bottom: 25px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
              <h2 style="margin: 0; color: #fef3c7; font-size: 28px; font-weight: normal;">Option 1</h2>
              <div style="color: #fef3c7; font-size: 32px; font-weight: bold; text-decoration: underline;">48,904</div>
            </div>
            
            <div style="background: #f7fee7; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
              <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                <div style="width: 100px; height: 100px; background: #84cc16; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: white; font-size: 40px;"></div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 10px 0; color: #365314; font-size: 20px;">Day 1: The Green Park Shimla</h4>
                  <ul style="margin: 0; padding-left: 20px; color: #365314;">
                    <li>5 Star Category</li>
                    <li>Superior Villa Room</li>
                    <li>Room Only Meal Plan</li>
                    <li>Check-in: 2026-01-06 2:00 PM</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div style="background: #f7fee7; padding: 20px; border-radius: 8px;">
              <div style="display: flex; gap: 15px;">
                <div style="width: 100px; height: 100px; background: #84cc16; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: white; font-size: 40px;"></div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 10px 0; color: #365314; font-size: 20px;">Day 2: The Green Park Shimla</h4>
                  <ul style="margin: 0; padding-left: 20px; color: #365314;">
                    <li>5 Star Category</li>
                    <li>Standard Room</li>
                    <li>Room Only Meal Plan</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Option 2 -->
          <div style="background: #65a30d; padding: 25px; border-radius: 10px; margin-bottom: 25px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
              <h2 style="margin: 0; color: #fef3c7; font-size: 28px; font-weight: normal;">Option 2</h2>
              <div style="color: #fef3c7; font-size: 32px; font-weight: bold; text-decoration: underline;">18,500</div>
            </div>
            
            <div style="background: #f7fee7; padding: 20px; border-radius: 8px;">
              <h4 style="margin: 0 0 10px 0; color: #365314; font-size: 20px;">Day 1: Luxury Hotel Shimla</h4>
              <ul style="margin: 0; padding-left: 20px; color: #365314;">
                <li>4 Star Category</li>
                <li>Deluxe Room</li>
                <li>Breakfast Included</li>
              </ul>
            </div>
          </div>
        </div>
        
        <!-- Footer -->
        <div style="background: #365314; color: #fef3c7; padding: 25px; text-align: center;">
          <p style="margin: 5px 0;"> 123 Anywhere St., Any City, ST 12345</p>
          <p style="margin: 5px 0;"> +91-9871023004 |  www.travelops.com</p>
        </div>
      </div>
    `,C=E=>{const k={"template-1":{headerBg:"linear-gradient(135deg, #2563eb 0%, #1e40af 100%)",optionBorder:"#2563eb",optionHeaderBg:"#2563eb",hotelCardBg:"#f0f9ff",priceBoxBg:"#dc2626",footerBg:"#1f2937",type:"standard"},"template-5":{headerBg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",optionBorder:"#667eea",optionHeaderBg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",hotelCardBg:"#f3f4f6",priceBoxBg:"#8b5cf6",footerBg:"#4b5563",type:"modern"},"template-6":{headerBg:"#ffffff",headerColor:"#1f2937",optionBorder:"#e5e7eb",optionHeaderBg:"#f9fafb",optionHeaderColor:"#1f2937",hotelCardBg:"#ffffff",priceBoxBg:"#059669",footerBg:"#f9fafb",footerColor:"#6b7280",type:"minimalist"}},T=k[E.id]||k["template-1"];return E.id==="template-2"?h():E.id==="template-3"?y():E.id==="template-4"?b():E.id==="template-5"?j():E.id==="template-6"?P():E.id==="template-7"?_():`
      <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; background: white;">
        <!-- Header -->
        <div style="background: ${T.headerBg}; color: ${T.headerColor||"white"}; padding: 30px; text-align: center;">
          <h1 style="margin: 0; font-size: 32px;">TravelOps</h1>
          <p style="margin: 10px 0 0 0;">Delhi, India | Email: info@travelops.com | Mobile: +91-9871023004</p>
        </div>
        
        <!-- Content -->
        <div style="padding: 30px;">
          <h2 style="color: ${T.optionBorder}; font-size: 28px; margin-top: 0;">Travel Quotation</h2>
          
          <!-- Sample Image -->
          <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; margin: 20px 0; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
            Itinerary Image Preview
          </div>
          
          <!-- Quote Details -->
          <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3 style="margin-top: 0;">Quote Details</h3>
            <table style="width: 100%; border-collapse: collapse;">
              <tr><td style="padding: 8px; font-weight: bold; color: #4b5563;">Query ID:</td><td style="padding: 8px;">Q-0005</td></tr>
              <tr><td style="padding: 8px; font-weight: bold; color: #4b5563;">Destination:</td><td style="padding: 8px;">Shimla, Kufri</td></tr>
              <tr><td style="padding: 8px; font-weight: bold; color: #4b5563;">Duration:</td><td style="padding: 8px;">3 Nights & 4 Days</td></tr>
              <tr><td style="padding: 8px; font-weight: bold; color: #4b5563;">Adults:</td><td style="padding: 8px;">2</td></tr>
              <tr><td style="padding: 8px; font-weight: bold; color: #4b5563;">Children:</td><td style="padding: 8px;">1</td></tr>
            </table>
          </div>
          
          <!-- Option 1 -->
          <div style="border: 2px solid ${T.optionBorder}; border-radius: 10px; padding: 25px; margin: 30px 0; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <div style="background: ${T.optionHeaderBg}; color: ${T.optionHeaderColor||"white"}; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
              <h2 style="margin: 0; font-size: 24px;">Option 1</h2>
            </div>
            
            <h3 style="color: ${T.optionBorder}; margin-top: 0;"> Hotels Included:</h3>
            
            <!-- Hotel 1 -->
            <div style="background: ${T.hotelCardBg}; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid ${T.optionBorder};">
              <div style="display: flex; gap: 15px;">
                <div style="width: 100px; height: 100px; background: #e5e7eb; border-radius: 8px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: #9ca3af; font-size: 12px;">
                  Hotel Image
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 10px 0; color: ${T.optionBorder}; font-size: 18px;">Day 1: The Green Park Shimla</h4>
                  <p style="margin: 5px 0;"><strong>Category:</strong> 5 Star</p>
                  <p style="margin: 5px 0;"><strong>Room:</strong> Superior Villa</p>
                  <p style="margin: 5px 0;"><strong>Meal Plan:</strong> Room Only</p>
                  <p style="margin: 5px 0;"><strong>Check-in:</strong> 2026-01-06 2:00 PM</p>
                  <p style="margin: 5px 0;"><strong>Check-out:</strong> 2026-01-07 11:00</p>
                  <p style="margin: 5px 0;"><strong>Price:</strong> 24,452</p>
                </div>
              </div>
            </div>
            
            <!-- Hotel 2 -->
            <div style="background: ${T.hotelCardBg}; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid ${T.optionBorder};">
              <div style="display: flex; gap: 15px;">
                <div style="width: 100px; height: 100px; background: #e5e7eb; border-radius: 8px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: #9ca3af; font-size: 12px;">
                  Hotel Image
                </div>
                <div style="flex: 1;">
                  <h4 style="margin: 0 0 10px 0; color: ${T.optionBorder}; font-size: 18px;">Day 2: The Green Park Shimla</h4>
                  <p style="margin: 5px 0;"><strong>Category:</strong> 5 Star</p>
                  <p style="margin: 5px 0;"><strong>Room:</strong> Standard Room</p>
                  <p style="margin: 5px 0;"><strong>Meal Plan:</strong> Room Only</p>
                  <p style="margin: 5px 0;"><strong>Check-in:</strong> 2026-01-07 2:00 PM</p>
                  <p style="margin: 5px 0;"><strong>Check-out:</strong> 2026-01-08 11:00</p>
                  <p style="margin: 5px 0;"><strong>Price:</strong> 24,452</p>
                </div>
              </div>
            </div>
            
            <!-- Price Box -->
            <div style="background: ${T.priceBoxBg}; color: white; padding: 20px; text-align: center; border-radius: 8px; margin: 20px 0; font-size: 24px; font-weight: bold;">
              Total Package Price: 48,904
            </div>
          </div>
          
          <!-- Option 2 -->
          <div style="border: 2px solid ${T.optionBorder}; border-radius: 10px; padding: 25px; margin: 30px 0; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <div style="background: ${T.optionHeaderBg}; color: ${T.optionHeaderColor||"white"}; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
              <h2 style="margin: 0; font-size: 24px;">Option 2</h2>
            </div>
            
            <h3 style="color: ${T.optionBorder}; margin-top: 0;"> Hotels Included:</h3>
            
            <div style="background: ${T.hotelCardBg}; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid ${T.optionBorder};">
              <h4 style="margin: 0 0 10px 0; color: ${T.optionBorder}; font-size: 18px;">Day 1: Luxury Hotel Shimla</h4>
              <p style="margin: 5px 0;"><strong>Category:</strong> 4 Star</p>
              <p style="margin: 5px 0;"><strong>Room:</strong> Deluxe Room</p>
              <p style="margin: 5px 0;"><strong>Meal Plan:</strong> Breakfast Included</p>
              <p style="margin: 5px 0;"><strong>Price:</strong> 18,500</p>
            </div>
            
            <div style="background: ${T.priceBoxBg}; color: white; padding: 20px; text-align: center; border-radius: 8px; margin: 20px 0; font-size: 24px; font-weight: bold;">
              Total Package Price: 18,500
            </div>
          </div>
        </div>
        
        <!-- Footer -->
        <div style="background: ${T.footerBg}; color: ${T.footerColor||"white"}; padding: 20px; text-align: center;">
          <p style="margin: 5px 0;">Thank you for choosing TravelOps!</p>
          <p style="margin: 5px 0;">For any queries, please contact us at info@travelops.com or +91-9871023004</p>
        </div>
      </div>
    `},O=E=>{const k=C(E);v({template:E,html:k}),i(!0)};return l?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Qt,{className:"h-8 w-8"}),"Email Templates"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage email templates for sending quotations to clients"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(E=>a.jsx("div",{className:`bg-white rounded-lg shadow-md border-2 transition-all ${r===E.id?"border-blue-600 ring-4 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:E.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.description})]}),r===E.id&&a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Active"})]}),a.jsx("div",{className:"mb-4 h-32 rounded-lg flex items-center justify-center border border-gray-200 overflow-hidden",style:{background:E.id==="template-2"?"linear-gradient(135deg, #84cc16 0%, #65a30d 100%)":E.id==="template-3"?"linear-gradient(180deg, #0ea5e9 0%, #06b6d4 50%, #22d3ee 100%)":E.id==="template-4"?"#3f6212":E.id==="template-5"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":E.id==="template-6"?"#ffffff":"linear-gradient(135deg, #2563eb 0%, #1e40af 100%)"},children:a.jsxs("div",{className:"text-center",children:[E.id==="template-2"&&a.jsx("span",{className:"text-white text-lg font-bold",children:" ADVENTURE"}),E.id==="template-3"&&a.jsx("span",{className:"text-white text-lg font-bold",children:" BEACH"}),E.id==="template-4"&&a.jsx("span",{className:"text-yellow-200 text-lg font-bold italic",children:"Elegant"}),E.id==="template-5"&&a.jsxs(a.Fragment,{children:[a.jsx(Qt,{className:"h-8 w-8 text-white mx-auto mb-2"}),a.jsx("span",{className:"text-xs text-white font-medium",children:"Modern"})]}),E.id==="template-6"&&a.jsxs(a.Fragment,{children:[a.jsx(Qt,{className:"h-8 w-8 text-gray-600 mx-auto mb-2"}),a.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Minimalist"})]}),E.id==="template-1"&&a.jsxs(a.Fragment,{children:[a.jsx(Qt,{className:"h-8 w-8 text-white mx-auto mb-2"}),a.jsx("span",{className:"text-xs text-white font-medium",children:"Classic"})]})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>O(E),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:[a.jsx(Cl,{className:"h-4 w-4"}),"Preview"]}),a.jsx("button",{onClick:()=>g(E.id),disabled:r===E.id||c,className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded text-sm ${r===E.id?"bg-blue-600 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:r===E.id?a.jsxs(a.Fragment,{children:[a.jsx($a,{className:"h-4 w-4"}),"Active"]}):a.jsxs(a.Fragment,{children:[a.jsx($a,{className:"h-4 w-4"}),"Select"]})})]})]})},E.id))}),s&&x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Template Preview"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.template.name})]}),a.jsx("button",{onClick:()=>{i(!1),v(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-100",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:x.html},style:{maxWidth:"100%",overflowX:"auto"}})}),a.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Note:"})," This is a preview with sample data. When you send emails to clients, actual quotation data will be used with this template design."]})})]})]})})]})})},wZ=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(""),[d,m]=f.useState(""),[p,g]=f.useState(!1),[x,v]=f.useState(!1),[h,y]=f.useState({type:"",text:""});f.useEffect(()=>{b()},[]);const b=async()=>{try{g(!0);const[_,C,O,E,k,T]=await Promise.all([Fe.getByKey("remarks"),Fe.getByKey("terms_conditions"),Fe.getByKey("confirmation_policy"),Fe.getByKey("cancellation_policy"),Fe.getByKey("amendment_policy"),Fe.getByKey("thank_you_message")]);_.data.success&&_.data.data&&t(_.data.data.value||""),C.data.success&&C.data.data&&n(C.data.data.value||""),O.data.success&&O.data.data&&i(O.data.data.value||""),E.data.success&&E.data.data&&o(E.data.data.value||""),k.data.success&&k.data.data&&u(k.data.data.value||""),T.data.success&&T.data.data&&m(T.data.data.value||"")}catch(_){console.error("Failed to fetch policies:",_)}finally{g(!1)}},j=async()=>{try{v(!0),y({type:"",text:""}),await Promise.all([Fe.save({key:"remarks",value:e,type:"text",description:"General remarks and conditions for bookings"}),Fe.save({key:"terms_conditions",value:r,type:"text",description:"Terms and conditions for bookings and services"}),Fe.save({key:"confirmation_policy",value:s,type:"text",description:"Policy regarding booking confirmation and payment terms"}),Fe.save({key:"cancellation_policy",value:l,type:"text",description:"Policy regarding booking cancellations and refunds"}),Fe.save({key:"amendment_policy",value:c,type:"text",description:"Policy regarding changes to travel dates (postpone/prepone)"}),Fe.save({key:"thank_you_message",value:d,type:"text",description:"Thank you message for employee full details view"})]),y({type:"success",text:"All policies saved successfully!"})}catch(_){console.error("Failed to save policies:",_),y({type:"error",text:"Failed to save. Please try again."})}finally{v(!1)}},P=({title:_,value:C,onChange:O,placeholder:E,description:k,icon:T,color:A})=>{const D={remarks:{headerBg:"bg-orange-50",headerText:"text-orange-700",iconBg:"bg-orange-100",iconColor:"text-orange-600",border:"border-orange-200",dotBg:"bg-orange-500"},terms:{headerBg:"bg-blue-50",headerText:"text-blue-700",iconBg:"bg-blue-100",iconColor:"text-blue-600",border:"border-blue-200",dotBg:"bg-blue-500"},confirmation:{headerBg:"bg-green-50",headerText:"text-green-700",iconBg:"bg-green-100",iconColor:"text-green-600",border:"border-green-200",dotBg:"bg-green-500"},cancellation:{headerBg:"bg-red-50",headerText:"text-red-700",iconBg:"bg-red-100",iconColor:"text-red-600",border:"border-red-200",dotBg:"bg-red-500"},amendment:{headerBg:"bg-purple-50",headerText:"text-purple-700",iconBg:"bg-purple-100",iconColor:"text-purple-600",border:"border-purple-200",dotBg:"bg-purple-500"},thankyou:{headerBg:"bg-pink-50",headerText:"text-pink-700",iconBg:"bg-pink-100",iconColor:"text-pink-600",border:"border-pink-200",dotBg:"bg-pink-500"}},S=D[A]||D.terms;return a.jsxs("div",{className:`bg-white rounded-xl shadow-lg border-2 ${S.border} overflow-hidden mb-6 transition-all hover:shadow-xl`,children:[a.jsx("div",{className:`${S.headerBg} px-6 py-4 border-b-2 ${S.border}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[T&&a.jsx("div",{className:`p-2.5 rounded-lg ${S.iconBg}`,children:a.jsx(T,{className:`h-5 w-5 ${S.iconColor}`})}),a.jsx("h2",{className:`text-xl font-bold ${S.headerText}`,children:_})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2 p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200",children:[a.jsxs("select",{className:"px-3 py-1.5 text-sm border border-gray-300 rounded-md bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium",children:[a.jsx("option",{children:"Normal"}),a.jsx("option",{children:"Heading 1"}),a.jsx("option",{children:"Heading 2"}),a.jsx("option",{children:"Heading 3"})]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"p-1.5 hover:bg-white rounded border border-gray-300 hover:border-gray-400 transition-colors",title:"Bold",children:a.jsx(bI,{className:"h-4 w-4 text-gray-700"})}),a.jsx("button",{className:"p-1.5 hover:bg-white rounded border border-gray-300 hover:border-gray-400 transition-colors",title:"Italic",children:a.jsx(ZI,{className:"h-4 w-4 text-gray-700"})}),a.jsx("button",{className:"p-1.5 hover:bg-white rounded border border-gray-300 hover:border-gray-400 transition-colors",title:"Underline",children:a.jsx(KM,{className:"h-4 w-4 text-gray-700"})})]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"p-1.5 hover:bg-white rounded border border-gray-300 hover:border-gray-400 transition-colors",title:"Align Left",children:a.jsx(zM,{className:"h-4 w-4 text-gray-700"})}),a.jsx("button",{className:"p-1.5 hover:bg-white rounded border border-gray-300 hover:border-gray-400 transition-colors",title:"Align Center",children:a.jsx(IM,{className:"h-4 w-4 text-gray-700"})}),a.jsx("button",{className:"p-1.5 hover:bg-white rounded border border-gray-300 hover:border-gray-400 transition-colors",title:"Align Right",children:a.jsx($M,{className:"h-4 w-4 text-gray-700"})}),a.jsx("button",{className:"p-1.5 hover:bg-white rounded border border-gray-300 hover:border-gray-400 transition-colors",title:"Justify",children:a.jsx(RM,{className:"h-4 w-4 text-gray-700"})})]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"p-1.5 hover:bg-white rounded border border-gray-300 hover:border-gray-400 transition-colors",title:"Bullet List",children:a.jsx(g_,{className:"h-4 w-4 text-gray-700"})}),a.jsx("button",{className:"px-2 py-1.5 text-sm hover:bg-white rounded border border-gray-300 hover:border-gray-400 transition-colors font-medium",title:"Numbered List",children:"1."})]})]}),a.jsx("textarea",{value:C,onChange:L=>O(L.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none transition-all font-sans text-gray-700",rows:"10",placeholder:E}),k&&a.jsxs("div",{className:"mt-3 flex items-start gap-2",children:[a.jsx("div",{className:"mt-0.5",children:a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${S.dotBg} opacity-60`})}),a.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:k})]})]})]})};return p?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Bn,{className:"h-8 w-8"}),"Policies & Account Details"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage all policies and terms for packages"})]}),h.text&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:h.text}),a.jsx(P,{title:"Remarks",value:e,onChange:t,placeholder:"Enter remarks here...",description:"General remarks and conditions for bookings. Use toolbar buttons for formatting (Bold, Italic, Lists, etc.)",icon:m_,color:"remarks"}),a.jsx(P,{title:"Terms & Conditions",value:r,onChange:n,placeholder:"Enter terms and conditions here...",description:"Terms and conditions for bookings and services.",icon:Bn,color:"terms"}),a.jsx(P,{title:"Confirmation Policy",value:s,onChange:i,placeholder:"Enter confirmation policy here...",description:"Policy regarding booking confirmation and payment terms.",icon:BI,color:"confirmation"}),a.jsx(P,{title:"Cancellation Policy",value:l,onChange:o,placeholder:"Enter cancellation policy here...",description:"Policy regarding booking cancellations and refunds.",icon:Ny,color:"cancellation"}),a.jsx(P,{title:"Amendment Policy (Postpone & Prepone Policy)",value:c,onChange:u,placeholder:"Enter amendment policy here...",description:"Policy regarding changes to travel dates (postpone/prepone).",icon:fr,color:"amendment"}),a.jsx(P,{title:"Thank You Message (For Employee Full Details View)",value:d,onChange:m,placeholder:"Enter thank you message here...",description:"Thank you message displayed in employee full details view.",icon:GI,color:"thankyou"}),a.jsx("div",{className:"flex justify-end mt-8 mb-4",children:a.jsxs("button",{onClick:j,disabled:x,className:"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105",children:[a.jsx($a,{className:"h-5 w-5"}),x?"Saving All Policies...":"Save All Policies"]})})]})})},NZ=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(!1),[s,i]=f.useState(!1),[l,o]=f.useState({type:"",text:""});f.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const d=await Fe.getByKey("refund_policy");d.data.success&&d.data.data&&t(d.data.data.value||"")}catch(d){console.error("Failed to fetch policies:",d)}finally{n(!1)}},u=async()=>{try{i(!0),o({type:"",text:""}),await Fe.save({key:"refund_policy",value:e,type:"text",description:"Refund Policy for packages"}),o({type:"success",text:"Refund Policy saved successfully!"})}catch(d){console.error("Failed to save refund policy:",d),o({type:"error",text:"Failed to save. Please try again."})}finally{i(!1)}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Bn,{className:"h-8 w-8"}),"Refund Policy"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage refund policy for packages"})]}),l.text&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${l.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:l.text}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Policy Content"}),a.jsx("textarea",{value:e,onChange:d=>t(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:"15",placeholder:"Enter refund policy here..."})]}),a.jsxs("button",{onClick:u,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx($a,{className:"h-4 w-4"}),s?"Saving...":"Save Refund Policy"]})]})]})})},SZ=()=>{const[e,t]=f.useState({bank_name:"",account_number:"",ifsc_code:"",account_holder_name:"",branch:"",upi_id:""}),[r,n]=f.useState(!1),[s,i]=f.useState(!1),[l,o]=f.useState({type:"",text:""});f.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const m=await Fe.getByKey("account_details");if(m.data.success&&m.data.data&&m.data.data.value){const p=JSON.parse(m.data.data.value);t(p)}}catch(m){console.error("Failed to fetch account details:",m)}finally{n(!1)}},u=(m,p)=>{t(g=>({...g,[m]:p})),o({type:"",text:""})},d=async()=>{try{i(!0),o({type:"",text:""}),await Fe.save({key:"account_details",value:JSON.stringify(e),type:"text",description:"Company account details"}),o({type:"success",text:"Account details saved successfully!"})}catch(m){console.error("Failed to save account details:",m),o({type:"error",text:"Failed to save. Please try again."})}finally{i(!1)}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Sy,{className:"h-8 w-8"}),"Account Details"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage company account details"})]}),l.text&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${l.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:l.text}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),a.jsx("input",{type:"text",value:e.bank_name,onChange:m=>u("bank_name",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter bank name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number"}),a.jsx("input",{type:"text",value:e.account_number,onChange:m=>u("account_number",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter account number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code"}),a.jsx("input",{type:"text",value:e.ifsc_code,onChange:m=>u("ifsc_code",m.target.value.toUpperCase()),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter IFSC code"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Holder Name"}),a.jsx("input",{type:"text",value:e.account_holder_name,onChange:m=>u("account_holder_name",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter account holder name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),a.jsx("input",{type:"text",value:e.branch,onChange:m=>u("branch",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter branch name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"UPI ID"}),a.jsx("input",{type:"text",value:e.upi_id,onChange:m=>u("upi_id",m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter UPI ID"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:d,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx($a,{className:"h-4 w-4"}),s?"Saving...":"Save Account Details"]})})]})]})})},kZ=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(null),[s,i]=f.useState(!1),[l,o]=f.useState(!1),[c,u]=f.useState({type:"",text:""});f.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const x=await Fe.getByKey("company_logo");x.data.success&&x.data.data&&x.data.data.value&&n(x.data.data.value)}catch(x){console.error("Failed to fetch logo:",x)}finally{i(!1)}},m=x=>{const v=x.target.files[0];if(v){if(v.size>2*1024*1024){u({type:"error",text:"File size should be less than 2MB"});return}if(!v.type.startsWith("image/")){u({type:"error",text:"Please select an image file"});return}t(v);const h=new FileReader;h.onloadend=()=>{n(h.result)},h.readAsDataURL(v),u({type:"",text:""})}},p=async()=>{try{o(!0),u({type:"",text:""});let x=r;if(e){const v=new FormData;v.append("logo",e);const h=await V.post("/settings/upload-logo",v,{headers:{"Content-Type":"multipart/form-data"}});if(h.data.success)x=h.data.data.logo_url;else throw new Error("Failed to upload logo")}await Fe.save({key:"company_logo",value:x,type:"string",description:"Company logo URL"}),u({type:"success",text:"Logo saved successfully! It will be updated across the application."}),t(null)}catch(x){console.error("Failed to save logo:",x),u({type:"error",text:"Failed to save logo. Please try again."})}finally{o(!1)}},g=()=>{t(null),n(null),u({type:"",text:""})};return s?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Oa,{className:"h-8 w-8"}),"Company Logo"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Upload and manage company logo. Logo will be updated across the application."})]}),c.text&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${c.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:c.text}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden",id:"logo-upload"}),a.jsxs("label",{htmlFor:"logo-upload",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[a.jsx(wi,{className:"h-4 w-4"}),"Choose Logo"]})]}),r&&a.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[a.jsx(Le,{className:"h-4 w-4"}),"Remove"]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recommended size: 200x50px or similar. Max file size: 2MB"})]}),r&&a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50 flex items-center justify-center",children:a.jsx("img",{src:r,alt:"Logo Preview",className:"max-h-32 max-w-full object-contain"})})]}),a.jsxs("button",{onClick:p,disabled:l||!r,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx($a,{className:"h-4 w-4"}),l?"Saving...":"Save Logo"]})]})]})})},_Z=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({city:"",company_name:"",title:"Mr.",first_name:"",last_name:"",email:"",code:"+91",mobile:"",address:""}),[x,v]=f.useState(!1);f.useEffect(()=>{h()},[]);const h=async()=>{var A;try{n(!0);const D=await Qo.list();t(D.data.data||D.data||[]),o("")}catch(D){((A=D.response)==null?void 0:A.status)===404?t([]):(o("Failed to load suppliers"),console.error(D))}finally{n(!1)}},y=()=>{m(null),u(!0),g({city:"",company_name:"",title:"Mr.",first_name:"",last_name:"",email:"",code:"+91",mobile:"",address:""})},b=()=>{u(!1),m(null),g({city:"",company_name:"",title:"Mr.",first_name:"",last_name:"",email:"",code:"+91",mobile:"",address:""})},j=(A,D)=>{g(S=>({...S,[A]:D}))},P=async A=>{var D,S;A.preventDefault(),v(!0);try{const L={city:p.city,company_name:p.company_name,title:p.title,first_name:p.first_name,last_name:p.last_name,email:p.email,phone_code:p.code,mobile:p.mobile,address:p.address};d?(await Qo.update(d,L),o("")):(await Qo.create(L),o("")),await h(),b()}catch(L){o(((S=(D=L.response)==null?void 0:D.data)==null?void 0:S.message)||(d?"Failed to update supplier":"Failed to add supplier")),console.error(L)}finally{v(!1)}},_=A=>{m(A.id),u(!0);let D=A.mobile||"",S=A.phone_code||A.code||"+91";if(D&&D.startsWith("+")){const L=D.split(" ");if(L.length>1)S=L[0],D=L.slice(1).join(" ");else{const F=D.match(/^(\+\d{1,3})/);F&&(S=F[1],D=D.substring(F[1].length).trim())}}g({city:A.city||"",company_name:A.company_name||A.company||"",title:A.title||"Mr.",first_name:A.first_name||"",last_name:A.last_name||"",email:A.email||"",code:S,mobile:D==="Not Provided"?"":D,address:A.address||""})},C=e.filter(A=>{const D=A.company||A.company_name||"",S=A.name||`${A.first_name||""} ${A.last_name||""}`.trim(),L=s.toLowerCase();return D.toLowerCase().includes(L)||S.toLowerCase().includes(L)}),O=A=>{if(A.name)return A.name;const D=A.title||"",S=A.first_name||"",L=A.last_name||"";return`${D} ${S} ${L}`.trim()||"N/A"},E=A=>{if(A.mobile==="Not Provided"||!A.mobile)return"Not Provided";const D=A.phone_code||A.code||"";return D?`${D} ${A.mobile}`:A.mobile},k=A=>A.location||A.city||"N/A",T=A=>{if(!A)return"N/A";try{return new Date(A).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return A}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Suppliers"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:A=>i(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mobile"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No suppliers found"})}):C.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.company||A.company_name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:O(A)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:A.email||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:E(A)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k(A)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:T(A.updated_at||A.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>_(A),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})})})]},A.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Supplier":"Add Supplier"}),a.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:P,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City (type slowly)"}),a.jsx("input",{type:"text",value:p.city,onChange:A=>j("city",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter city"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),a.jsx("input",{type:"text",value:p.company_name,onChange:A=>j("company_name",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter company name",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsxs("select",{value:p.title,onChange:A=>j("title",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Mr.",children:"Mr."}),a.jsx("option",{value:"Mrs.",children:"Mrs."}),a.jsx("option",{value:"Ms.",children:"Ms."}),a.jsx("option",{value:"Dr.",children:"Dr."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),a.jsx("input",{type:"text",value:p.first_name,onChange:A=>j("first_name",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter first name",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),a.jsx("input",{type:"text",value:p.last_name,onChange:A=>j("last_name",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter last name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:p.email,onChange:A=>j("email",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code"}),a.jsx("input",{type:"text",value:p.code,onChange:A=>j("code",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+91"})]}),a.jsxs("div",{className:"col-span-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("input",{type:"tel",value:p.mobile,onChange:A=>j("mobile",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter mobile number"})]}),a.jsxs("div",{className:"col-span-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",value:p.address,onChange:A=>j("address",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter address"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})})]})})},PZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:"",category:"",destination:"",hotel_details:"",hotel_photo:null,contact_person:"",email:"",phone:"",hotel_address:"",hotel_link:"",status:"active",created_by:""}),[x,v]=f.useState(!1),[h,y]=f.useState(null),[b,j]=f.useState(!1),[P,_]=f.useState(!1),[C,O]=f.useState(null),[E,k]=f.useState([]),[T,A]=f.useState(!1),[D,S]=f.useState(null),[L,F]=f.useState(null),[X,Q]=f.useState(!1),[I,M]=f.useState({from_date:"",to_date:"",room_type:"",meal_plan:"BB",single:"",double:"",triple:"",quad:"",cwb:"",cnb:""});f.useEffect(()=>{W()},[]);const W=async()=>{var R;try{n(!0);const se=await jr.list();t(se.data.data||se.data||[]),o("")}catch(se){((R=se.response)==null?void 0:R.status)===404?t([]):(o("Failed to load hotels"),console.error(se))}finally{n(!1)}},B=()=>{m(null),u(!0),g({name:"",category:"",destination:"",hotel_details:"",hotel_photo:null,contact_person:"",email:"",phone:"",hotel_address:"",hotel_link:"",status:"active",created_by:""}),y(null)},ae=()=>{u(!1),m(null),g({name:"",category:"",destination:"",hotel_details:"",hotel_photo:null,contact_person:"",email:"",phone:"",hotel_address:"",hotel_link:"",status:"active",created_by:""}),y(null)},fe=(R,se)=>{g(de=>({...de,[R]:se}))},xe=R=>{const se=R.target.files[0];if(se){g(pe=>({...pe,hotel_photo:se}));const de=new FileReader;de.onloadend=()=>{y(de.result)},de.readAsDataURL(se)}},te=async R=>{var se,de;R.preventDefault(),v(!0);try{const pe=new FormData;pe.append("name",p.name),p.category&&pe.append("category",p.category),pe.append("destination",p.destination),pe.append("hotel_details",p.hotel_details||""),p.hotel_photo&&pe.append("hotel_photo",p.hotel_photo),pe.append("contact_person",p.contact_person||""),pe.append("email",p.email||""),pe.append("phone",p.phone||""),pe.append("hotel_address",p.hotel_address),pe.append("hotel_link",p.hotel_link||""),pe.append("status",p.status),d?(await jr.update(d,pe),o("")):(await jr.create(pe),o("")),await W(),ae()}catch(pe){o(((de=(se=pe.response)==null?void 0:se.data)==null?void 0:de.message)||(d?"Failed to update hotel":"Failed to add hotel")),console.error(pe)}finally{v(!1)}},me=R=>{m(R.id),u(!0),g({name:R.name||"",category:R.category||"",destination:R.destination||"",hotel_details:R.hotel_details||"",hotel_photo:null,contact_person:R.contact_person||"",email:R.email||"",phone:R.phone||"",hotel_address:R.hotel_address||"",hotel_link:R.hotel_link||"",status:R.status||"active",created_by:R.created_by||""}),y(R.hotel_photo||null)},je=()=>{_(!0),F(null)},Se=()=>{_(!1),F(null)},ne=R=>{const se=R.target.files[0];se&&F(se)},U=async R=>{var se,de;if(R.preventDefault(),!L){o("Please select a file to import");return}try{Q(!0);const pe=new FormData;pe.append("file",L),await jr.importHotels(pe),await W(),Se(),o("")}catch(pe){o(((de=(se=pe.response)==null?void 0:se.data)==null?void 0:de.message)||"Failed to import hotels"),console.error(pe)}finally{Q(!1)}},J=async()=>{var R,se,de;try{o("");const pe=await jr.exportHotels();if(pe.data instanceof Blob){const we=pe.data,Ae=window.URL.createObjectURL(we),Qe=document.createElement("a");Qe.href=Ae,Qe.setAttribute("download",`hotels_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Qe),Qe.click(),Qe.remove(),window.URL.revokeObjectURL(Ae)}else{const we=new Blob([pe.data],{type:"text/csv;charset=utf-8;"}),Ae=window.URL.createObjectURL(we),Qe=document.createElement("a");Qe.href=Ae,Qe.setAttribute("download",`hotels_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Qe),Qe.click(),Qe.remove(),window.URL.revokeObjectURL(Ae)}}catch(pe){let we="Failed to export hotels";if(((R=pe.response)==null?void 0:R.data)instanceof Blob)try{const Ae=await pe.response.data.text();we=JSON.parse(Ae).message||we}catch{}else(de=(se=pe.response)==null?void 0:se.data)!=null&&de.message&&(we=pe.response.data.message);o(we),console.error("Export error:",pe)}},ie=async()=>{var R,se,de;try{o("");const pe=await jr.downloadImportFormat();if(pe.data instanceof Blob){const we=pe.data,Ae=window.URL.createObjectURL(we),Qe=document.createElement("a");Qe.href=Ae,Qe.setAttribute("download","hotel_import_template.csv"),document.body.appendChild(Qe),Qe.click(),Qe.remove(),window.URL.revokeObjectURL(Ae)}else{const we=new Blob([pe.data],{type:"text/csv;charset=utf-8;"}),Ae=window.URL.createObjectURL(we),Qe=document.createElement("a");Qe.href=Ae,Qe.setAttribute("download","hotel_import_template.csv"),document.body.appendChild(Qe),Qe.click(),Qe.remove(),window.URL.revokeObjectURL(Ae)}}catch(pe){let we="Failed to download import format";if(((R=pe.response)==null?void 0:R.data)instanceof Blob)try{const Ae=await pe.response.data.text();we=JSON.parse(Ae).message||we}catch{}else(de=(se=pe.response)==null?void 0:se.data)!=null&&de.message&&(we=pe.response.data.message);o(we),console.error("Download error:",pe)}},De=async R=>{O(R),j(!0),M({from_date:"",to_date:"",room_type:"",meal_plan:"BB",single:"",double:"",triple:"",quad:"",cwb:"",cnb:""}),await Ie(R.id)},Te=()=>{j(!1),O(null),k([]),M({from_date:"",to_date:"",room_type:"",meal_plan:"BB",single:"",double:"",triple:"",quad:"",cwb:"",cnb:""})},Ie=async R=>{try{A(!0);const se=await jr.getRates(R);k(se.data.data||[])}catch(se){console.error("Failed to load rates:",se),k([])}finally{A(!1)}},Ue=(R,se)=>{M(de=>({...de,[R]:se}))},Re=async R=>{var se,de;if(R.preventDefault(),!!C)try{D?(await jr.updateRate(C.id,D,I),o("")):(await jr.createRate(C.id,I),await W()),await Ie(C.id),S(null),M({from_date:"",to_date:"",room_type:"",meal_plan:"BB",single:"",double:"",triple:"",quad:"",cwb:"",cnb:""}),o("")}catch(pe){o(((de=(se=pe.response)==null?void 0:se.data)==null?void 0:de.message)||(D?"Failed to update rate":"Failed to add rate")),console.error(pe)}},Er=R=>{S(R.id),M({from_date:R.from_date,to_date:R.to_date,room_type:R.room_type,meal_plan:R.meal_plan,single:R.single||"",double:R.double||"",triple:R.triple||"",quad:R.quad||"",cwb:R.cwb||"",cnb:R.cnb||""});const se=document.querySelector("form");se&&se.scrollIntoView({behavior:"smooth",block:"start"})},Ar=()=>{S(null),M({from_date:"",to_date:"",room_type:"",meal_plan:"BB",single:"",double:"",triple:"",quad:"",cwb:"",cnb:""})},an=async R=>{var se,de;if(C&&window.confirm("Are you sure you want to delete this rate?"))try{await jr.deleteRate(C.id,R),await Ie(C.id),await W(),o("")}catch(pe){o(((de=(se=pe.response)==null?void 0:se.data)==null?void 0:de.message)||"Failed to delete rate"),console.error(pe)}},lr=R=>{const se=[];for(let de=0;de<5;de++)se.push(a.jsx(aa,{className:`h-4 w-4 ${de<R?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},de));return a.jsx("div",{className:"flex gap-0.5",children:se})},br=e.filter(R=>{const se=R.name||"",de=R.destination||"",pe=s.toLowerCase();return se.toLowerCase().includes(pe)||de.toLowerCase().includes(pe)}),he=R=>{if(!R)return"N/A";try{return new Date(R).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return R}},ee=R=>({BB:"Bed & Breakfast (BB)",HB:"Half Board (HB)",FB:"Full Board (FB)",MAP:"Modified American Plan (MAP)",AP:"American Plan (AP)"})[R]||R;return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Hotel"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:R=>i(R.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:B,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]}),a.jsxs("button",{onClick:je,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(wi,{className:"h-5 w-5"}),"Import"]}),a.jsxs("button",{onClick:J,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(Os,{className:"h-5 w-5"}),"Export"]}),a.jsxs("button",{onClick:ie,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(Os,{className:"h-5 w-5"}),"Download Import Format"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destination"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:br.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500",children:"No hotels found"})}):br.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:lr(R.category||3)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:R.destination||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("button",{onClick:()=>De(R),className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer",children:["Update (",R.price_updates_count||0,")"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:R.created_by_name||"Travbizz Travel IT Solutions"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:he(R.updated_at||R.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>me(R),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})})})]},R.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Hotel":"Add Hotel"}),a.jsx("button",{onClick:ae,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:te,encType:"multipart/form-data",children:[a.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel name *"}),a.jsx("input",{type:"text",value:p.name,onChange:R=>fe("name",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter hotel name",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),a.jsxs("select",{value:p.category,onChange:R=>fe("category",R.target.value?parseInt(R.target.value):""),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:1,children:"1 Star"}),a.jsx("option",{value:2,children:"2 Stars"}),a.jsx("option",{value:3,children:"3 Stars"}),a.jsx("option",{value:4,children:"4 Stars"}),a.jsx("option",{value:5,children:"5 Stars"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),a.jsx("input",{type:"text",value:p.destination,onChange:R=>fe("destination",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter destination",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Details"}),a.jsx("textarea",{value:p.hotel_details,onChange:R=>fe("hotel_details",R.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter hotel details"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hotel Photo ",!d&&"*"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:xe,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",required:!d}),h&&a.jsx("img",{src:h,alt:"Preview",className:"h-20 w-20 object-cover rounded-lg"})]}),!h&&!p.hotel_photo&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No file chosen"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("input",{type:"text",value:p.contact_person,onChange:R=>fe("contact_person",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter contact person name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:p.email,onChange:R=>fe("email",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",value:p.phone,onChange:R=>fe("phone",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Address *"}),a.jsx("input",{type:"text",value:p.hotel_address,onChange:R=>fe("hotel_address",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter hotel address",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),a.jsxs("select",{value:p.status,onChange:R=>fe("status",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Link"}),a.jsx("input",{type:"url",value:p.hotel_link,onChange:R=>fe("hotel_link",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter hotel website link"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:ae,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})}),b&&C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Update Price - ",C.name]}),a.jsx("button",{onClick:Te,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("form",{onSubmit:Re,className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-12 gap-3 mb-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:I.from_date,onChange:R=>Ue("from_date",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),a.jsx("input",{type:"date",value:I.to_date,onChange:R=>Ue("to_date",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),a.jsxs("select",{value:I.room_type,onChange:R=>Ue("room_type",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"1bhk",children:"1bhk"}),a.jsx("option",{value:"1BR Villa with Private Pool",children:"1BR Villa with Private Pool"}),a.jsx("option",{value:"Club Room",children:"Club Room"}),a.jsx("option",{value:"Daosri The Inn",children:"Daosri The Inn"}),a.jsx("option",{value:"Deluxe",children:"Deluxe"}),a.jsx("option",{value:"Deluxe Room",children:"Deluxe Room"}),a.jsx("option",{value:"DLX",children:"DLX"}),a.jsx("option",{value:"Executive Room",children:"Executive Room"}),a.jsx("option",{value:"Penthouse Suite",children:"Penthouse Suite"}),a.jsx("option",{value:"Premium (Non View Room)",children:"Premium (Non View Room)"}),a.jsx("option",{value:"Premium Room",children:"Premium Room"}),a.jsx("option",{value:"Room type",children:"Room type"}),a.jsx("option",{value:"Standard",children:"Standard"}),a.jsx("option",{value:"Standard (Non View)",children:"Standard (Non View)"}),a.jsx("option",{value:"Suite Room",children:"Suite Room"}),a.jsx("option",{value:"Super Deluxe Room",children:"Super Deluxe Room"}),a.jsx("option",{value:"Superior Room",children:"Superior Room"})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meal Plan"}),a.jsxs("select",{value:I.meal_plan,onChange:R=>Ue("meal_plan",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[a.jsx("option",{value:"BB",children:"Bed & Breakfast (BB)"}),a.jsx("option",{value:"HB",children:"Half Board (HB)"}),a.jsx("option",{value:"FB",children:"Full Board (FB)"}),a.jsx("option",{value:"MAP",children:"Modified American Plan (MAP)"}),a.jsx("option",{value:"AP",children:"American Plan (AP)"})]})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Single"}),a.jsx("input",{type:"number",step:"0.01",value:I.single,onChange:R=>Ue("single",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0"})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Double"}),a.jsx("input",{type:"number",step:"0.01",value:I.double,onChange:R=>Ue("double",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0"})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Triple"}),a.jsx("input",{type:"number",step:"0.01",value:I.triple,onChange:R=>Ue("triple",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0"})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quad"}),a.jsx("input",{type:"number",step:"0.01",value:I.quad,onChange:R=>Ue("quad",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0"})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CWB"}),a.jsx("input",{type:"number",step:"0.01",value:I.cwb,onChange:R=>Ue("cwb",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0"})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNB"}),a.jsx("input",{type:"number",step:"0.01",value:I.cnb,onChange:R=>Ue("cnb",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0"})]}),a.jsxs("div",{className:"col-span-1 flex items-end gap-2",children:[D&&a.jsx("button",{type:"button",onClick:Ar,className:"w-full bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors text-sm font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:D?"Update":"Add"})]})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Rate List"}),T?a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):E.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No Rate"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"From"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"To"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Room Type"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Meal Plan"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Single"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Double"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Triple"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quad"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"CWB"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"CNB"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(R.from_date).toLocaleDateString("en-GB")}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(R.to_date).toLocaleDateString("en-GB")}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.room_type}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ee(R.meal_plan)}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.single||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.double||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.triple||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.quad||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.cwb||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.cnb||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>Er(R),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),a.jsx("button",{onClick:()=>an(R.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},R.id))})]})})]})]})]})}),P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Import Hotel Excel"}),a.jsx("button",{onClick:Se,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:U,children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Import Excel"}),a.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:ne,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",required:!0}),!L&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No file chosen"}),L&&a.jsx("p",{className:"mt-1 text-sm text-green-600",children:L.name})]})}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:Se,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:X||!L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:X?"Importing...":"Save"})]})]})]})})]})})},CZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:"",destination:"",activity_details:"",activity_photo:null,status:"active"}),[x,v]=f.useState(!1),[h,y]=f.useState(null),[b,j]=f.useState(!1),[P,_]=f.useState(null),[C,O]=f.useState(!1),[E,k]=f.useState(!1),[T,A]=f.useState(null),[D,S]=f.useState([]),[L,F]=f.useState(!1),[X,Q]=f.useState(null),[I,M]=f.useState({from_date:"",to_date:"",price:""});f.useEffect(()=>{W()},[]);const W=async()=>{var he;try{n(!0);const ee=await On.list();t(ee.data.data||ee.data||[]),o("")}catch(ee){((he=ee.response)==null?void 0:he.status)===404?t([]):(o("Failed to load activities"),console.error(ee))}finally{n(!1)}},B=()=>{m(null),u(!0),g({name:"",destination:"",activity_details:"",activity_photo:null,status:"active"}),y(null)},ae=()=>{u(!1),m(null),g({name:"",destination:"",activity_details:"",activity_photo:null,status:"active"}),y(null)},fe=(he,ee)=>{g(R=>({...R,[he]:ee}))},xe=he=>{const ee=he.target.files[0];if(ee){g(se=>({...se,activity_photo:ee}));const R=new FileReader;R.onloadend=()=>{y(R.result)},R.readAsDataURL(ee)}},te=async he=>{var ee,R;he.preventDefault(),v(!0);try{const se=new FormData;se.append("name",p.name),se.append("destination",p.destination),se.append("activity_details",p.activity_details||""),p.activity_photo&&se.append("activity_photo",p.activity_photo),se.append("status",p.status),d?(await On.update(d,se),o("")):(await On.create(se),o("")),await W(),ae()}catch(se){o(((R=(ee=se.response)==null?void 0:ee.data)==null?void 0:R.message)||(d?"Failed to update activity":"Failed to add activity")),console.error(se)}finally{v(!1)}},me=he=>{m(he.id),u(!0),g({name:he.name||"",destination:he.destination||"",activity_details:he.activity_details||"",activity_photo:null,status:he.status||"active"}),y(he.activity_photo||null)},je=()=>{j(!0),_(null)},Se=()=>{j(!1),_(null)},ne=he=>{const ee=he.target.files[0];ee&&_(ee)},U=async he=>{var ee,R;if(he.preventDefault(),!P){o("Please select a file to import");return}try{O(!0);const se=new FormData;se.append("file",P),await On.importActivities(se),await W(),Se(),o("")}catch(se){o(((R=(ee=se.response)==null?void 0:ee.data)==null?void 0:R.message)||"Failed to import activities"),console.error(se)}finally{O(!1)}},J=async()=>{var he,ee,R;try{o("");const se=await On.exportActivities();if(se.data instanceof Blob){const de=se.data,pe=window.URL.createObjectURL(de),we=document.createElement("a");we.href=pe,we.setAttribute("download",`activities_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(we),we.click(),we.remove(),window.URL.revokeObjectURL(pe)}else{const de=new Blob([se.data],{type:"text/csv;charset=utf-8;"}),pe=window.URL.createObjectURL(de),we=document.createElement("a");we.href=pe,we.setAttribute("download",`activities_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(we),we.click(),we.remove(),window.URL.revokeObjectURL(pe)}}catch(se){let de="Failed to export activities";if(((he=se.response)==null?void 0:he.data)instanceof Blob)try{const pe=await se.response.data.text();de=JSON.parse(pe).message||de}catch{}else(R=(ee=se.response)==null?void 0:ee.data)!=null&&R.message&&(de=se.response.data.message);o(de),console.error("Export error:",se)}},ie=async()=>{var he,ee,R;try{o("");const se=await On.downloadImportFormat();if(se.data instanceof Blob){const de=se.data,pe=window.URL.createObjectURL(de),we=document.createElement("a");we.href=pe,we.setAttribute("download","activity_import_template.csv"),document.body.appendChild(we),we.click(),we.remove(),window.URL.revokeObjectURL(pe)}else{const de=new Blob([se.data],{type:"text/csv;charset=utf-8;"}),pe=window.URL.createObjectURL(de),we=document.createElement("a");we.href=pe,we.setAttribute("download","activity_import_template.csv"),document.body.appendChild(we),we.click(),we.remove(),window.URL.revokeObjectURL(pe)}}catch(se){let de="Failed to download import format";if(((he=se.response)==null?void 0:he.data)instanceof Blob)try{const pe=await se.response.data.text();de=JSON.parse(pe).message||de}catch{}else(R=(ee=se.response)==null?void 0:ee.data)!=null&&R.message&&(de=se.response.data.message);o(de),console.error("Download error:",se)}},De=async he=>{A(he),k(!0),M({from_date:"",to_date:"",price:""}),await Ie(he.id)},Te=()=>{k(!1),A(null),S([]),M({from_date:"",to_date:"",price:""}),Q(null)},Ie=async he=>{try{F(!0);const ee=await On.getPrices(he);S(ee.data.data||[])}catch(ee){console.error("Failed to load prices:",ee),S([])}finally{F(!1)}},Ue=(he,ee)=>{M(R=>({...R,[he]:ee}))},Re=async he=>{var ee,R;if(he.preventDefault(),!!T)try{X?(await On.updatePrice(T.id,X,I),o("")):(await On.createPrice(T.id,I),await W()),await Ie(T.id),Q(null),M({from_date:"",to_date:"",price:""}),o("")}catch(se){o(((R=(ee=se.response)==null?void 0:ee.data)==null?void 0:R.message)||(X?"Failed to update price":"Failed to add price")),console.error(se)}},Er=he=>{Q(he.id),M({from_date:he.from_date,to_date:he.to_date,price:he.price||""})},Ar=()=>{Q(null),M({from_date:"",to_date:"",price:""})},an=async he=>{var ee,R;if(T&&window.confirm("Are you sure you want to delete this price?"))try{await On.deletePrice(T.id,he),await Ie(T.id),await W(),o("")}catch(se){o(((R=(ee=se.response)==null?void 0:ee.data)==null?void 0:R.message)||"Failed to delete price"),console.error(se)}},lr=e.filter(he=>{const ee=he.name||"",R=s.toLowerCase();return ee.toLowerCase().includes(R)}),br=he=>{if(!he)return"N/A";try{return new Date(he).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return he}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Activity"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:he=>i(he.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:B,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]}),a.jsxs("button",{onClick:je,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(wi,{className:"h-5 w-5"}),"Import"]}),a.jsxs("button",{onClick:J,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(Os,{className:"h-5 w-5"}),"Export"]}),a.jsxs("button",{onClick:ie,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(Os,{className:"h-5 w-5"}),"Download Import Format"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destination"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:lr.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No activities found"})}):lr.map(he=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:he.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:he.destination||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("button",{onClick:()=>De(he),className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer",children:["Update (",he.price_updates_count||0,")"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${he.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:he.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:he.created_by_name||"Travbizz Travel IT Solutions"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:br(he.updated_at||he.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>me(he),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})})})]},he.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Activity":"Add Activity"}),a.jsx("button",{onClick:ae,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:te,encType:"multipart/form-data",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Activity name *"}),a.jsx("input",{type:"text",value:p.name,onChange:he=>fe("name",he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter activity name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),a.jsx("input",{type:"text",value:p.destination,onChange:he=>fe("destination",he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter destination",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Activity Details"}),a.jsx("textarea",{value:p.activity_details,onChange:he=>fe("activity_details",he.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter activity details"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Activity Photo *"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:xe,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",required:!d}),h&&a.jsx("img",{src:h,alt:"Preview",className:"h-20 w-20 object-cover rounded-lg"})]}),!h&&!p.activity_photo&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No file chosen"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),a.jsxs("select",{value:p.status,onChange:he=>fe("status",he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:ae,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})}),E&&T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Update Price - ",T.name]}),a.jsx("button",{onClick:Te,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("form",{onSubmit:Re,className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-12 gap-3 mb-4",children:[a.jsxs("div",{className:"col-span-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:I.from_date,onChange:he=>Ue("from_date",he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),a.jsxs("div",{className:"col-span-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),a.jsx("input",{type:"date",value:I.to_date,onChange:he=>Ue("to_date",he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),a.jsxs("div",{className:"col-span-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),a.jsx("input",{type:"number",step:"0.01",value:I.price,onChange:he=>Ue("price",he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter price",required:!0})]}),a.jsxs("div",{className:"col-span-2 flex items-end gap-2",children:[X&&a.jsx("button",{type:"button",onClick:Ar,className:"w-full bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors text-sm font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:X?"Update":"Add"})]})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Price List"}),L?a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):D.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No Price"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"From"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"To"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(he=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(he.from_date).toLocaleDateString("en-GB")}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(he.to_date).toLocaleDateString("en-GB")}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:he.price||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>Er(he),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),a.jsx("button",{onClick:()=>an(he.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},he.id))})]})})]})]})]})}),b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Import Activity Excel"}),a.jsx("button",{onClick:Se,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:U,children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Import Excel"}),a.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:ne,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",required:!0}),!P&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No file chosen"}),P&&a.jsx("p",{className:"mt-1 text-sm text-green-600",children:P.name})]})}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:Se,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:C||!P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Importing...":"Save"})]})]})]})})]})})},OZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:"",destination:"",transfer_details:"",transfer_photo:null,status:"active"}),[x,v]=f.useState(!1),[h,y]=f.useState(null),[b,j]=f.useState(!1),[P,_]=f.useState(null),[C,O]=f.useState(!1),[E,k]=f.useState(!1),[T,A]=f.useState(null),[D,S]=f.useState([]),[L,F]=f.useState(!1),[X,Q]=f.useState(null),[I,M]=f.useState({from_date:"",to_date:"",price:""});f.useEffect(()=>{W()},[]);const W=async()=>{var ee;try{n(!0);const R=await Cn.list();t(R.data.data||R.data||[]),o("")}catch(R){((ee=R.response)==null?void 0:ee.status)===404?t([]):(o("Failed to load transfers"),console.error(R))}finally{n(!1)}},B=()=>{m(null),u(!0),g({name:"",destination:"",transfer_details:"",transfer_photo:null,status:"active"}),y(null)},ae=()=>{u(!1),m(null),g({name:"",destination:"",transfer_details:"",transfer_photo:null,status:"active"}),y(null)},fe=(ee,R)=>{g(se=>({...se,[ee]:R}))},xe=ee=>{const R=ee.target.files[0];if(R){g(de=>({...de,transfer_photo:R}));const se=new FileReader;se.onloadend=()=>{y(se.result)},se.readAsDataURL(R)}},te=async ee=>{var R,se;ee.preventDefault(),v(!0);try{const de=new FormData;de.append("name",p.name),de.append("destination",p.destination),de.append("transfer_details",p.transfer_details||""),p.transfer_photo&&de.append("transfer_photo",p.transfer_photo),de.append("status",p.status),d?(await Cn.update(d,de),o("")):(await Cn.create(de),o("")),await W(),ae()}catch(de){o(((se=(R=de.response)==null?void 0:R.data)==null?void 0:se.message)||(d?"Failed to update transfer":"Failed to add transfer")),console.error(de)}finally{v(!1)}},me=ee=>{m(ee.id),u(!0),g({name:ee.name||"",destination:ee.destination||"",transfer_details:ee.transfer_details||"",transfer_photo:null,status:ee.status||"active"}),y(ee.transfer_photo||null)},je=async ee=>{var R,se;if(window.confirm("Are you sure you want to delete this transfer?"))try{await Cn.delete(ee),await W(),o("")}catch(de){o(((se=(R=de.response)==null?void 0:R.data)==null?void 0:se.message)||"Failed to delete transfer"),console.error(de)}},Se=()=>{j(!0),_(null)},ne=()=>{j(!1),_(null)},U=ee=>{const R=ee.target.files[0];R&&_(R)},J=async ee=>{var R,se;if(ee.preventDefault(),!P){o("Please select a file to import");return}try{O(!0);const de=new FormData;de.append("file",P),await Cn.importTransfers(de),await W(),ne(),o("")}catch(de){o(((se=(R=de.response)==null?void 0:R.data)==null?void 0:se.message)||"Failed to import transfers"),console.error(de)}finally{O(!1)}},ie=async()=>{var ee,R,se;try{o("");const de=await Cn.exportTransfers();if(de.data instanceof Blob){const pe=de.data,we=window.URL.createObjectURL(pe),Ae=document.createElement("a");Ae.href=we,Ae.setAttribute("download",`transfers_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Ae),Ae.click(),Ae.remove(),window.URL.revokeObjectURL(we)}else{const pe=new Blob([de.data],{type:"text/csv;charset=utf-8;"}),we=window.URL.createObjectURL(pe),Ae=document.createElement("a");Ae.href=we,Ae.setAttribute("download",`transfers_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Ae),Ae.click(),Ae.remove(),window.URL.revokeObjectURL(we)}}catch(de){let pe="Failed to export transfers";if(((ee=de.response)==null?void 0:ee.data)instanceof Blob)try{const we=await de.response.data.text();pe=JSON.parse(we).message||pe}catch{}else(se=(R=de.response)==null?void 0:R.data)!=null&&se.message&&(pe=de.response.data.message);o(pe),console.error("Export error:",de)}},De=async()=>{var ee,R,se;try{o("");const de=await Cn.downloadImportFormat();if(de.data instanceof Blob){const pe=de.data,we=window.URL.createObjectURL(pe),Ae=document.createElement("a");Ae.href=we,Ae.setAttribute("download","transfer_import_template.csv"),document.body.appendChild(Ae),Ae.click(),Ae.remove(),window.URL.revokeObjectURL(we)}else{const pe=new Blob([de.data],{type:"text/csv;charset=utf-8;"}),we=window.URL.createObjectURL(pe),Ae=document.createElement("a");Ae.href=we,Ae.setAttribute("download","transfer_import_template.csv"),document.body.appendChild(Ae),Ae.click(),Ae.remove(),window.URL.revokeObjectURL(we)}}catch(de){let pe="Failed to download import format";if(((ee=de.response)==null?void 0:ee.data)instanceof Blob)try{const we=await de.response.data.text();pe=JSON.parse(we).message||pe}catch{}else(se=(R=de.response)==null?void 0:R.data)!=null&&se.message&&(pe=de.response.data.message);o(pe),console.error("Download error:",de)}},Te=async ee=>{A(ee),k(!0),M({from_date:"",to_date:"",price:""}),await Ue(ee.id)},Ie=()=>{k(!1),A(null),S([]),M({from_date:"",to_date:"",price:""}),Q(null)},Ue=async ee=>{try{F(!0);const R=await Cn.getPrices(ee);S(R.data.data||[])}catch(R){console.error("Failed to load prices:",R),S([])}finally{F(!1)}},Re=(ee,R)=>{M(se=>({...se,[ee]:R}))},Er=async ee=>{var R,se;if(ee.preventDefault(),!!T)try{X?(await Cn.updatePrice(T.id,X,I),o("")):(await Cn.createPrice(T.id,I),await W()),await Ue(T.id),Q(null),M({from_date:"",to_date:"",price:""}),o("")}catch(de){o(((se=(R=de.response)==null?void 0:R.data)==null?void 0:se.message)||(X?"Failed to update price":"Failed to add price")),console.error(de)}},Ar=ee=>{Q(ee.id),M({from_date:ee.from_date,to_date:ee.to_date,price:ee.price||""})},an=()=>{Q(null),M({from_date:"",to_date:"",price:""})},lr=async ee=>{var R,se;if(T&&window.confirm("Are you sure you want to delete this price?"))try{await Cn.deletePrice(T.id,ee),await Ue(T.id),await W(),o("")}catch(de){o(((se=(R=de.response)==null?void 0:R.data)==null?void 0:se.message)||"Failed to delete price"),console.error(de)}},br=e.filter(ee=>{const R=ee.name||"",se=s.toLowerCase();return R.toLowerCase().includes(se)}),he=ee=>{if(!ee)return"N/A";try{return new Date(ee).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return ee}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Transfer"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:ee=>i(ee.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:B,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]}),a.jsxs("button",{onClick:Se,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(wi,{className:"h-5 w-5"}),"Import"]}),a.jsxs("button",{onClick:ie,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(Os,{className:"h-5 w-5"}),"Export"]}),a.jsxs("button",{onClick:De,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 font-medium",children:[a.jsx(Os,{className:"h-5 w-5"}),"Download Import Format"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destination"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:br.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No transfers found"})}):br.map(ee=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:ee.destination||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("button",{onClick:()=>Te(ee),className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer",children:["Update (",ee.price_updates_count||0,")"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ee.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ee.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:ee.created_by_name||"Travbizz Travel IT Solutions"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:he(ee.updated_at||ee.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>me(ee),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>je(ee.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(Kn,{className:"h-5 w-5"})})]})})]},ee.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Transfer":"Add Transfer"}),a.jsx("button",{onClick:ae,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:te,encType:"multipart/form-data",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer name *"}),a.jsx("input",{type:"text",value:p.name,onChange:ee=>fe("name",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter transfer name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),a.jsx("input",{type:"text",value:p.destination,onChange:ee=>fe("destination",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter destination",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer Details"}),a.jsx("textarea",{value:p.transfer_details,onChange:ee=>fe("transfer_details",ee.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter transfer details"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer Photo *"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:xe,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",required:!d}),h&&a.jsx("img",{src:h,alt:"Preview",className:"h-20 w-20 object-cover rounded-lg"})]}),!h&&!p.transfer_photo&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No file chosen"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),a.jsxs("select",{value:p.status,onChange:ee=>fe("status",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:ae,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})}),E&&T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Update Price - ",T.name]}),a.jsx("button",{onClick:Ie,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("form",{onSubmit:Er,className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-12 gap-3 mb-4",children:[a.jsxs("div",{className:"col-span-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:I.from_date,onChange:ee=>Re("from_date",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),a.jsxs("div",{className:"col-span-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),a.jsx("input",{type:"date",value:I.to_date,onChange:ee=>Re("to_date",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),a.jsxs("div",{className:"col-span-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),a.jsx("input",{type:"number",step:"0.01",value:I.price,onChange:ee=>Re("price",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter price",required:!0})]}),a.jsxs("div",{className:"col-span-2 flex items-end gap-2",children:[X&&a.jsx("button",{type:"button",onClick:an,className:"w-full bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors text-sm font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:X?"Update":"Add"})]})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Price List"}),L?a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):D.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No Price"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"From"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"To"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(ee=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(ee.from_date).toLocaleDateString("en-GB")}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(ee.to_date).toLocaleDateString("en-GB")}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ee.price||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>Ar(ee),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),a.jsx("button",{onClick:()=>lr(ee.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},ee.id))})]})})]})]})]})}),b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Import Transfer Excel"}),a.jsx("button",{onClick:ne,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:J,children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Import Excel"}),a.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:U,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",required:!0}),!P&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No file chosen"}),P&&a.jsx("p",{className:"mt-1 text-sm text-green-600",children:P.name})]})}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:ne,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:C||!P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Importing...":"Save"})]})]})]})})]})})},EZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({destination:"",title:"",details:"",status:"active",image:null}),[x,v]=f.useState(!1),[h,y]=f.useState(null),[b,j]=f.useState(!1),[P,_]=f.useState("upload"),[C,O]=f.useState([]),[E,k]=f.useState("travel"),[T,A]=f.useState(!1);f.useEffect(()=>{D()},[]);const D=async()=>{var te;try{n(!0);const me=await Mo.list(),Se=(me.data.data||me.data||[]).map(ne=>{if(ne.image){if(console.log("Original image URL:",ne.image),ne.image.startsWith("/storage")||ne.image.startsWith("/")&&!ne.image.startsWith("http")){let U="http://localhost:8000/api";U=U.replace("/api",""),ne.image=`${U}${ne.image}`}ne.image.includes("localhost")&&!ne.image.includes(":8000")&&(ne.image=ne.image.replace("localhost","localhost:8000")),console.log("Processed image URL:",ne.image)}else console.log("No image for itinerary:",ne.id,ne.title);return ne});t(Se),o("")}catch(me){((te=me.response)==null?void 0:te.status)===404?t([]):(o("Failed to load day itineraries"),console.error(me))}finally{n(!1)}},S=()=>{m(null),u(!0),g({destination:"",title:"",details:"",status:"active",image:null}),y(null)},L=()=>{u(!1),m(null),g({destination:"",title:"",details:"",status:"active",image:null}),y(null),j(!1),_("upload"),O([])},F=(te,me)=>{g(je=>({...je,[te]:me}))},X=async()=>{A(!0);try{const te=E||"travel",me=[],je=Date.now();for(let Se=0;Se<12;Se++)me.push({id:`picsum-${Se}-${je}`,urls:{thumb:`https://picsum.photos/seed/${te}-${Se}-${je}/400/300`,regular:`https://picsum.photos/seed/${te}-${Se}-${je}/1200/800`},alt_description:te});O(me)}catch(te){console.error("Failed to fetch images:",te),alert("Failed to load images. Please try again.")}finally{A(!1)}};f.useEffect(()=>{b&&P==="library"&&C.length===0&&X()},[b,P]);const Q=te=>{y(te),g(me=>({...me,image:null})),_("library"),j(!1)},I=te=>{const me=te.target.files[0];if(me){g(Se=>({...Se,image:me})),y(null),_("upload");const je=new FileReader;je.onloadend=()=>{y(je.result)},je.readAsDataURL(me)}},M=async te=>{var me,je;te.preventDefault(),v(!0);try{const Se=new FormData;if(Se.append("destination",p.destination),Se.append("title",p.title),Se.append("details",p.details),Se.append("status",p.status),p.image)Se.append("image",p.image);else if(h&&P==="library"){const U=await(await fetch(h)).blob(),J=new File([U],"day-itinerary-image.jpg",{type:U.type});Se.append("image",J)}d?(Se.append("_method","PUT"),await Mo.update(d,Se),o("")):(await Mo.create(Se),o("")),await D(),L()}catch(Se){o(((je=(me=Se.response)==null?void 0:me.data)==null?void 0:je.message)||(d?"Failed to update day itinerary":"Failed to add day itinerary")),console.error(Se)}finally{v(!1)}},W=te=>{if(m(te.id),u(!0),g({destination:te.destination||"",title:te.title||"",details:te.details||"",status:te.status||"active",image:null}),te.image){let me=te.image;(me.startsWith("/storage")||me.startsWith("/")&&!me.startsWith("http"))&&(me=`${"http://localhost:8000/api".replace("/api","")}${me}`),me.includes("localhost")&&!me.includes(":8000")&&(me=me.replace("localhost","localhost:8000")),y(me),_("upload")}else y(null),_("upload")},B=async te=>{var me,je;if(window.confirm("Are you sure you want to delete this day itinerary?"))try{await Mo.delete(te),await D(),o("")}catch(Se){o(((je=(me=Se.response)==null?void 0:me.data)==null?void 0:je.message)||"Failed to delete day itinerary"),console.error(Se)}},ae=e.filter(te=>{const me=te.title||"",je=s.toLowerCase();return me.toLowerCase().includes(je)}),fe=te=>{if(!te)return"N/A";try{return new Date(te).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return te}},xe=(te,me=50)=>te?te.length<=me?te:te.substring(0,me)+"...":"N/A";return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Day Itinerary"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:te=>i(te.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detail"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No day itineraries found"})}):ae.map(te=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200 flex-shrink-0",children:te.image?a.jsx("img",{src:te.image,alt:te.title||"Day Itinerary",className:"w-full h-full object-cover",onError:me=>{me.target.style.display="none";const je=me.target.parentElement;if(je&&!je.querySelector(".no-photo-text")){const Se=document.createElement("span");Se.className="no-photo-text text-xs text-gray-400 font-medium",Se.textContent="NO PHOTO",je.appendChild(Se)}}}):a.jsx(Oa,{className:"h-5 w-5 text-gray-400"})}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.title||"N/A"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-md",children:xe(te.details||te.detail,60)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${te.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:te.created_by_name||"Travbizz Travel IT Solutions"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:fe(te.updated_at||te.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>W(te),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>B(te.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full",title:"Delete",children:a.jsx(Kn,{className:"h-5 w-5"})})]})})]},te.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Day Itinerary":"Add Day Itinerary"}),a.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:M,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination"}),a.jsx("input",{type:"text",value:p.destination,onChange:te=>F("destination",te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter destination"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:p.title,onChange:te=>F("title",te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter title",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Details"}),a.jsx("textarea",{value:p.details,onChange:te=>F("details",te.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter details"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),a.jsxs("div",{className:"space-y-2",children:[h?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:h,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{y(null),g(te=>({...te,image:null}))},className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:a.jsx(Le,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx(Oa,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"No image selected"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("label",{className:"flex-1 cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[a.jsx(wi,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Upload Image"})]})]}),a.jsxs("button",{type:"button",onClick:()=>{_("library"),j(!0)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors",children:[a.jsx(o_,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Choose from Library"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),a.jsxs("select",{value:p.status,onChange:te=>F("status",te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})}),b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Choose Image from Library"}),a.jsx("button",{onClick:()=>{j(!1),O([])},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",value:E,onChange:te=>k(te.target.value),onKeyPress:te=>{te.key==="Enter"&&X()},placeholder:"Search images...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Search"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:T?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):C.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{children:"No images found. Try searching for something else."})}):a.jsx("div",{className:"grid grid-cols-3 gap-4",children:C.map(te=>a.jsxs("div",{onClick:()=>Q(te.urls.regular),className:"relative aspect-video cursor-pointer group overflow-hidden rounded-lg border-2 border-gray-200 hover:border-blue-500 transition-colors",children:[a.jsx("img",{src:te.urls.thumb,alt:te.alt_description,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-opacity flex items-center justify-center",children:a.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 font-medium",children:"Select"})})]},te.id))})})]})})]})})},AZ=()=>{const e=Br(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,l]=f.useState(""),[o,c]=f.useState(""),[u,d]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(null),[v,h]=f.useState(null),[y,b]=f.useState(!1),[j,P]=f.useState(null),[_,C]=f.useState({itinerary_name:"",start_date:"",end_date:"",adult:"1",child:"0",destinations:"",notes:"",image:null});f.useEffect(()=>{O()},[]);const O=async()=>{try{s(!0);const W=((await Dn.list()).data.data||[]).map(B=>{if(B.image){if(console.log("Original image URL:",B.image),B.image.startsWith("/storage")||B.image.startsWith("/")&&!B.image.startsWith("http")){let ae="http://localhost:8000/api";ae=ae.replace("/api",""),B.image=`${ae}${B.image}`,console.log("Converted to absolute URL:",B.image)}if(B.image.includes("localhost")&&!B.image.includes(":8000")&&(B.image=B.image.replace("localhost","localhost:8000")),!B.image.startsWith("http")){const fe="http://localhost:8000/api".replace("/api","");B.image=`${fe}${B.image.startsWith("/")?"":"/"}${B.image}`}}return B});r(W),c("")}catch(I){c("Failed to load itineraries"),console.error("Error fetching itineraries:",I)}finally{s(!1)}},E=I=>{if(!I)return"N/A";try{const M=new Date(I),W=String(M.getDate()).padStart(2,"0"),B=String(M.getMonth()+1).padStart(2,"0"),ae=M.getFullYear();return`${W}-${B}-${ae}`}catch{return I}},k=I=>!I||I===0?"0 INR":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(I),T=()=>{h(null),C({itinerary_name:"",start_date:"",end_date:"",adult:"1",child:"0",destinations:"",notes:"",image:null}),P(null),d(!0)},A=async I=>{try{const W=(await Dn.get(I.id)).data.data;if(W.image){if(W.image.startsWith("/storage")||W.image.startsWith("/")&&!W.image.startsWith("http")){const ae="http://localhost:8000/api".replace("/api","");W.image=`${ae}${W.image}`}W.image.includes("localhost")&&!W.image.includes(":8000")&&(W.image=W.image.replace("localhost","localhost:8000"))}x(W),p(!0)}catch(M){console.error("Failed to fetch itinerary:",M),alert("Failed to load itinerary details")}},D=async I=>{var M,W;try{h(I.id);const ae=(await Dn.get(I.id)).data.data;let fe=ae.image||null;fe&&((fe.startsWith("/storage")||fe.startsWith("/")&&!fe.startsWith("http"))&&(fe=`${"http://localhost:8000/api".replace("/api","")}${fe}`),fe.includes("localhost")&&!fe.includes(":8000")&&(fe=fe.replace("localhost","localhost:8000"))),C({itinerary_name:ae.itinerary_name||"",start_date:ae.start_date||"",end_date:ae.end_date||"",adult:((M=ae.adult)==null?void 0:M.toString())||"1",child:((W=ae.child)==null?void 0:W.toString())||"0",destinations:ae.destinations||"",notes:ae.notes||"",image:null}),P(fe),d(!0)}catch(B){console.error("Failed to fetch itinerary:",B),alert("Failed to load itinerary details")}},S=()=>{d(!1),h(null),C({itinerary_name:"",start_date:"",end_date:"",adult:"1",child:"0",destinations:"",notes:"",image:null}),P(null)},L=I=>{const M=I.target.files[0];if(M){C(B=>({...B,image:M}));const W=new FileReader;W.onloadend=()=>{P(W.result)},W.readAsDataURL(M)}},F=async I=>{var M,W,B,ae;I.preventDefault(),b(!0);try{const fe=new FormData;fe.append("itinerary_name",_.itinerary_name),_.start_date&&fe.append("start_date",_.start_date),_.end_date&&fe.append("end_date",_.end_date),fe.append("adult",_.adult||"1"),fe.append("child",_.child||"0"),_.destinations&&fe.append("destinations",_.destinations),_.notes&&fe.append("notes",_.notes),_.image&&fe.append("image",_.image),v?await Dn.update(v,fe):await Dn.create(fe),await O(),S()}catch(fe){console.error("Failed to save itinerary:",fe);const xe=(W=(M=fe.response)==null?void 0:M.data)!=null&&W.message||(ae=(B=fe.response)==null?void 0:B.data)!=null&&ae.errors?Object.values(fe.response.data.errors).flat().join(", "):"Failed to save itinerary";alert(xe)}finally{b(!1)}},X=async I=>{try{const M=!I.show_on_website;r(B=>B.map(ae=>ae.id===I.id?{...ae,show_on_website:M}:ae));const W=new FormData;W.append("show_on_website",M?"1":"0"),W.append("_method","PUT"),console.log(`Updating itinerary ${I.id}: show_on_website = ${M} (sending as ${M?"1":"0"})`),await Dn.update(I.id,W),await O()}catch(M){console.error("Failed to update status:",M),await O(),alert("Failed to update itinerary status. Please try again.")}},Q=t.filter(I=>{const M=i.toLowerCase();return(I.title||I.itinerary_name||"").toLowerCase().includes(M)||(I.destination||I.destinations||"").toLowerCase().includes(M)});return n?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsxs(ve,{children:[a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Itineraries"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:i,onChange:I=>l(I.target.value),className:"pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64 text-sm"})]}),a.jsxs("button",{onClick:T,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium shadow-sm",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]})}),o&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Duration"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider bg-yellow-50",children:"Price"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider bg-yellow-50",children:"Website Cost"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Website"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Last Updated"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-gray-500",children:i?"No itineraries found matching your search":"No itineraries available"})}):Q.map(I=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>e(`/itineraries/${I.id}`),children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200 flex-shrink-0",children:I.image?a.jsx("img",{src:I.image,alt:I.title||I.itinerary_name||"Itinerary",className:"w-full h-full object-cover",onError:M=>{M.target.style.display="none";const W=M.target.parentElement;if(W&&!W.querySelector(".no-photo-text")){const B=document.createElement("span");B.className="no-photo-text text-xs text-gray-400 font-medium",B.textContent="NO PHOTO",W.appendChild(B)}}}):a.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"NO PHOTO"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:I.title||I.itinerary_name||"Untitled"}),I.id&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",I.id," - ",I.destination||I.destinations||""]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:I.duration?`${I.duration} Days`:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap bg-yellow-50",children:a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:k(I.price)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap bg-yellow-50",children:a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:k(I.website_cost)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${I.show_on_website?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I.show_on_website?"Yes":"No"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("button",{onClick:M=>{M.stopPropagation(),X(I)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${I.show_on_website?"bg-green-600":"bg-gray-300"}`,title:I.show_on_website?"Click to deactivate":"Click to activate",children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.show_on_website?"translate-x-6":"translate-x-1"}`})}),a.jsx("span",{className:`ml-2 text-xs font-medium ${I.show_on_website?"text-green-700":"text-gray-500"}`,children:I.show_on_website?"Active":"Inactive"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-700",children:E(I.updated_at||I.last_updated)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>A(I),className:"w-9 h-9 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 flex items-center justify-center transition-colors shadow-sm",title:"View Details",children:a.jsx(Cl,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>D(I),className:"w-9 h-9 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 flex items-center justify-center transition-colors shadow-sm",title:"Edit Itinerary",children:a.jsx(At,{className:"h-4 w-4"})})]})})]},I.id))})]})})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-white",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:v?"Edit Itinerary":"Create Itinerary"}),a.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-1 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:F,children:[a.jsxs("div",{className:"p-6 grid grid-cols-2 gap-6 max-h-[70vh] overflow-y-auto",children:[a.jsx("div",{className:"col-span-2",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"Itinerary Details"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Itinerary Name"}),a.jsx("input",{type:"text",value:_.itinerary_name,onChange:I=>C({..._,itinerary_name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter itinerary name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:_.start_date,onChange:I=>C({..._,start_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:_.end_date,onChange:I=>C({..._,end_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adult"}),a.jsx("input",{type:"number",value:_.adult,onChange:I=>C({..._,adult:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Child"}),a.jsx("input",{type:"number",value:_.child,onChange:I=>C({..._,child:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinations"}),a.jsx("input",{type:"text",value:_.destinations,onChange:I=>C({..._,destinations:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter Destination"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:_.notes,onChange:I=>C({..._,notes:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Notes",rows:"3"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"file",accept:"image/*",onChange:L,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})}),(j||_.image)&&a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:v&&j&&!_.image?"Current Image:":"Preview:"}),a.jsx("div",{className:"relative w-40 h-40 border-2 border-gray-300 rounded-lg overflow-hidden bg-gray-50 shadow-sm",children:a.jsx("img",{src:j||(_.image instanceof File?URL.createObjectURL(_.image):_.image),alt:"Preview",className:"w-full h-full object-cover",onError:I=>{console.error("Preview image failed to load:",j||_.image),I.target.style.display="none";const M=I.target.parentElement;if(M&&!M.querySelector(".preview-error")){const W=document.createElement("span");W.className="preview-error text-xs text-gray-400 absolute inset-0 flex items-center justify-center",W.textContent="Invalid Image",M.appendChild(W)}}})}),v&&j&&!_.image&&a.jsx("p",{className:"text-xs text-blue-600 mt-2 font-medium",children:" Current image is displayed above. Select a new file to replace it."}),_.image&&a.jsx("p",{className:"text-xs text-green-600 mt-2 font-medium",children:" New image selected. This will replace the current image."})]}),!j&&!_.image&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 p-3 rounded-lg border border-gray-200",children:[a.jsx(Oa,{className:"h-5 w-5 text-gray-400"}),a.jsxs("span",{children:["No image selected. ",v?"Current image will be kept if no new image is uploaded.":"Upload an image to display with this itinerary."]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[a.jsx("button",{type:"button",onClick:S,className:"px-6 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:y,className:"bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium shadow-sm transition-colors",children:y?"Saving...":"Save"})]})]})]})}),m&&g&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 my-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-white",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Itinerary Details"}),a.jsx("button",{onClick:()=>{p(!1),x(null)},className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-1 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-2 mb-4",children:g.image?a.jsx("div",{className:"relative w-full h-64 bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200 shadow-sm",children:a.jsx("img",{src:g.image,alt:g.itinerary_name||"Itinerary Image",className:"w-full h-full object-cover",onError:I=>{console.error("View modal image failed to load:",g.image),I.target.style.display="none";const M=I.target.parentElement;if(M&&!M.querySelector(".image-error")){const W=document.createElement("div");W.className="image-error absolute inset-0 flex items-center justify-center bg-gray-100",W.innerHTML='<div class="text-center"><div class="text-gray-400 text-sm font-medium">Image not available</div></div>',M.appendChild(W)}}})}):a.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Oa,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),a.jsx("div",{className:"text-gray-400 text-sm font-medium",children:"No image available"})]})})}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Itinerary Name"}),a.jsx("p",{className:"text-xl font-bold text-gray-900 bg-gray-50 px-4 py-2 rounded-lg border border-gray-200",children:g.itinerary_name||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Start Date"}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.start_date?E(g.start_date):"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"End Date"}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.end_date?E(g.end_date):"N/A"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-blue-600 uppercase tracking-wide mb-2",children:"Duration"}),a.jsx("p",{className:"text-base font-bold text-blue-900",children:g.duration?`${g.duration} Days`:"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Adult"}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.adult||"0"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Child"}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.child||"0"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-yellow-700 uppercase tracking-wide mb-2",children:"Price"}),a.jsx("p",{className:"text-lg font-bold text-yellow-900",children:k(g.price)})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-yellow-700 uppercase tracking-wide mb-2",children:"Website Cost"}),a.jsx("p",{className:"text-lg font-bold text-yellow-900",children:k(g.website_cost)})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Show on Website"}),a.jsx("span",{className:`inline-flex px-3 py-1.5 text-xs font-bold rounded-full ${g.show_on_website?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"}`,children:g.show_on_website?"Yes":"No"})]}),a.jsxs("div",{className:"col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Destinations"}),a.jsx("p",{className:"text-base text-gray-900 font-medium",children:g.destinations||"N/A"})]}),g.notes&&a.jsxs("div",{className:"col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap bg-white p-3 rounded border border-gray-200",children:g.notes})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Created By"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.created_by_name||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Last Updated"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.last_updated||E(g.updated_at)||"N/A"})]})]})}),a.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200 bg-gray-50",children:a.jsx("button",{onClick:()=>{p(!1),x(null)},className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium shadow-sm transition-colors",children:"Close"})})]})})]})},TZ=({itinerary:e,dayEvents:t,pricingData:r,setPricingData:n,finalClientPrices:s,setFinalClientPrices:i,baseMarkup:l,setBaseMarkup:o,extraMarkup:c,setExtraMarkup:u,cgst:d,setCgst:m,sgst:p,setSgst:g,igst:x,setIgst:v,tcs:h,setTcs:y,discount:b,setDiscount:j,onAddToProposals:P})=>{const[_,C]=f.useState({}),O=[];Object.keys(t).forEach(A=>{(t[A]||[]).forEach(S=>{S.eventType==="accommodation"&&S.hotelOptions&&S.hotelOptions.length>0&&S.hotelOptions.forEach(L=>{O.push({...L,day:parseInt(A),eventId:S.id,eventSubject:S.subject})})})}),f.useEffect(()=>{if(!t||Object.keys(t).length===0)return;const A={};Object.keys(t).forEach(D=>{(t[D]||[]).forEach(L=>{L.eventType==="accommodation"&&L.hotelOptions&&L.hotelOptions.length>0&&L.hotelOptions.forEach((F,X)=>{const I=`${F.optionNumber||1}-${D}-${X}`;if(!r[I]){const M=parseFloat(F.price)||0;A[I]={net:M,markup:0,gross:M}}})})}),Object.keys(A).length>0&&n(D=>({...D,...A}))},[t]);const E={};O.forEach(A=>{const D=A.optionNumber||1;E[D]||(E[D]=[]),E[D].push(A)}),f.useEffect(()=>{const A={};Object.keys(E).forEach(D=>{_[D]||(A[D]={cgst:d,sgst:p,igst:x,tcs:h,discount:b})}),Object.keys(A).length>0&&C(D=>({...D,...A}))},[O.length,d,p,x,h,b]);const k={};Object.keys(E).forEach(A=>{const D=E[A];let S=0,L=0;D.forEach((xe,te)=>{const me=`${A}-${xe.day}-${te}`,je=r[me]||{net:xe.price||0,markup:0,gross:xe.price||0};S+=je.net||0,L+=je.markup||0});const F=S+L,X=_[A]||{cgst:d,sgst:p,igst:x,tcs:h,discount:b},Q=F*X.cgst/100,I=F*X.sgst/100,M=F*X.igst/100,W=F*X.tcs/100,B=F*X.discount/100,ae=F+Q+I+M+W-B,fe=s[A]!==void 0&&s[A]!==null&&parseFloat(s[A])||ae;k[A]={totalNet:S,totalMarkup:L,totalGross:F,cgstAmount:Q,sgstAmount:I,igstAmount:M,tcsAmount:W,discountAmount:B,finalTotal:ae,clientPrice:fe,gstSettings:X}});const T=A=>{const D=E[A]||[],S={...r};D.forEach((L,F)=>{const X=`${A}-${L.day}-${F}`;let I=(r[X]||{net:parseFloat(L.price)||0,gross:parseFloat(L.price)||0}).net,M=0;l>0&&(M=I*l/100);const W=D.length,B=c/W;M+=B;const ae=I+M;S[X]={net:I,markup:M,gross:ae}}),n(S)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:(e==null?void 0:e.itinerary_name)||"Itinerary"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:[(e==null?void 0:e.destinations)||"N/A"," - Adult: ",(e==null?void 0:e.adult)||0," | Child: ",(e==null?void 0:e.child)||0]})]}),Object.keys(E).length===0?a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:a.jsx("p",{className:"text-gray-500",children:"No accommodation options found. Please add hotels in the Build tab."})}):a.jsx("div",{className:"space-y-6 mb-6",children:Object.keys(E).sort((A,D)=>parseInt(A)-parseInt(D)).map(A=>{var L,F,X,Q,I,M,W,B,ae,fe;const D=E[A],S=k[A];return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"bg-blue-50 px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-lg",children:["Option ",A]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Calculated Total:"}),a.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["",(S==null?void 0:S.finalTotal.toLocaleString("en-IN"))||"0"]})]}),a.jsxs("div",{className:"border-l border-gray-300 pl-4",children:[a.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Final Client Price:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",value:s[A]!==void 0&&s[A]!==null?s[A]:(S==null?void 0:S.finalTotal)||"",onChange:xe=>{const te=xe.target.value===""?null:parseFloat(xe.target.value)||0;i(me=>({...me,[A]:te}))},onBlur:()=>{s[A]!==void 0&&s[A]},className:"w-40 px-3 py-2 border-2 border-blue-500 rounded-lg text-lg font-bold text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Set price",min:"0",step:"1"}),s[A]!==void 0&&s[A]!==null&&s[A]!==(S==null?void 0:S.finalTotal)&&a.jsx("span",{className:"text-xs text-green-600 font-semibold",title:"Custom price set",children:""})]}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:s[A]!==void 0&&s[A]!==null?"Price saved automatically":"Enter price to save"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>{T(A),alert(`Option ${A} pricing updated successfully!`)},className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded hover:bg-green-700 flex items-center gap-2",children:[a.jsx(At,{className:"h-4 w-4"}),"Update Option ",A]}),s[A]!==void 0&&s[A]!==null&&a.jsx("span",{className:"text-xs text-green-600 font-medium",children:" Price Saved"})]})]}),a.jsxs("div",{className:"grid grid-cols-6 gap-4 text-xs mb-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Markup:"}),a.jsxs("span",{className:"ml-1 font-semibold text-gray-900",children:["",(S==null?void 0:S.totalMarkup.toLocaleString("en-IN"))||"0"]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600",children:["CGST (",((L=S==null?void 0:S.gstSettings)==null?void 0:L.cgst)||d,"%):"]}),a.jsxs("span",{className:"ml-1 font-semibold text-gray-900",children:["",(S==null?void 0:S.cgstAmount.toLocaleString("en-IN"))||"0"]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600",children:["SGST (",((F=S==null?void 0:S.gstSettings)==null?void 0:F.sgst)||p,"%):"]}),a.jsxs("span",{className:"ml-1 font-semibold text-gray-900",children:["",(S==null?void 0:S.sgstAmount.toLocaleString("en-IN"))||"0"]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600",children:["IGST (",((X=S==null?void 0:S.gstSettings)==null?void 0:X.igst)||x,"%):"]}),a.jsxs("span",{className:"ml-1 font-semibold text-gray-900",children:["",(S==null?void 0:S.igstAmount.toLocaleString("en-IN"))||"0"]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600",children:["TCS (",((Q=S==null?void 0:S.gstSettings)==null?void 0:Q.tcs)||h,"%):"]}),a.jsxs("span",{className:"ml-1 font-semibold text-gray-900",children:["",(S==null?void 0:S.tcsAmount.toLocaleString("en-IN"))||"0"]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600",children:["Discount (",((I=S==null?void 0:S.gstSettings)==null?void 0:I.discount)||b,"%):"]}),a.jsxs("span",{className:"ml-1 font-semibold text-green-600",children:["-",(S==null?void 0:S.discountAmount.toLocaleString("en-IN"))||"0"]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[a.jsxs("div",{className:"text-xs font-semibold text-gray-700 mb-2",children:["GST Settings for Option ",A,":"]}),a.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"CGST %"}),a.jsx("input",{type:"number",value:((M=_[A])==null?void 0:M.cgst)??d,onChange:xe=>{const te=parseFloat(xe.target.value)||0;C(me=>({...me,[A]:{...me[A]||{cgst:d,sgst:p,igst:x,tcs:h,discount:b},cgst:te}}))},className:"w-full px-2 py-1 border border-gray-300 rounded text-xs",min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"SGST %"}),a.jsx("input",{type:"number",value:((W=_[A])==null?void 0:W.sgst)??p,onChange:xe=>{const te=parseFloat(xe.target.value)||0;C(me=>({...me,[A]:{...me[A]||{cgst:d,sgst:p,igst:x,tcs:h,discount:b},sgst:te}}))},className:"w-full px-2 py-1 border border-gray-300 rounded text-xs",min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"IGST %"}),a.jsx("input",{type:"number",value:((B=_[A])==null?void 0:B.igst)??x,onChange:xe=>{const te=parseFloat(xe.target.value)||0;C(me=>({...me,[A]:{...me[A]||{cgst:d,sgst:p,igst:x,tcs:h,discount:b},igst:te}}))},className:"w-full px-2 py-1 border border-gray-300 rounded text-xs",min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"TCS %"}),a.jsx("input",{type:"number",value:((ae=_[A])==null?void 0:ae.tcs)??h,onChange:xe=>{const te=parseFloat(xe.target.value)||0;C(me=>({...me,[A]:{...me[A]||{cgst:d,sgst:p,igst:x,tcs:h,discount:b},tcs:te}}))},className:"w-full px-2 py-1 border border-gray-300 rounded text-xs",min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Discount %"}),a.jsx("input",{type:"number",value:((fe=_[A])==null?void 0:fe.discount)??b,onChange:xe=>{const te=parseFloat(xe.target.value)||0;C(me=>({...me,[A]:{...me[A]||{cgst:d,sgst:p,igst:x,tcs:h,discount:b},discount:te}}))},className:"w-full px-2 py-1 border border-gray-300 rounded text-xs",min:"0",step:"0.01"})]})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Item"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Day"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Type"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Net"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Markup"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Gross"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[D.map((xe,te)=>{const me=`${A}-${xe.day}-${te}`,je=r[me]||{net:parseFloat(xe.price)||0,markup:0,gross:parseFloat(xe.price)||0};return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[a.jsx("div",{className:"font-medium",children:xe.hotelName||"Hotel"}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[xe.roomName||"Standard"," - ",xe.checkIn?new Date(xe.checkIn).toLocaleDateString("en-GB"):"N/A"," TO ",xe.checkOut?new Date(xe.checkOut).toLocaleDateString("en-GB"):"N/A"]})]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:["Day ",xe.day]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"Accommodation"}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("input",{type:"number",value:je.net||"",onChange:Se=>{const ne=Se.target.value,U=ne===""?0:parseFloat(ne)||0,J=je.markup||0,ie=U+J;n({...r,[me]:{net:U,markup:J,gross:ie}})},onClick:Se=>Se.stopPropagation(),className:"w-32 px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white cursor-text",placeholder:"0",min:"0",step:"1"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"INR"})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("input",{type:"number",value:je.markup||"",onChange:Se=>{const ne=Se.target.value,U=ne===""?0:parseFloat(ne)||0,J=je.net||0,ie=J+U;n({...r,[me]:{net:J,markup:U,gross:ie}})},onClick:Se=>Se.stopPropagation(),className:"w-32 px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white cursor-text",placeholder:"0",min:"0",step:"1"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"INR"})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["",je.gross.toLocaleString("en-IN")]})})]},me)}),a.jsxs("tr",{className:"bg-gray-50 font-semibold border-t-2 border-gray-300",children:[a.jsxs("td",{colSpan:"3",className:"px-4 py-3 text-sm text-gray-700 text-right",children:["Option ",A," Total:"]}),a.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:["",(S==null?void 0:S.totalNet.toLocaleString("en-IN"))||"0"]}),a.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:["",(S==null?void 0:S.totalMarkup.toLocaleString("en-IN"))||"0"]}),a.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-blue-600",children:["",(S==null?void 0:S.finalTotal.toLocaleString("en-IN"))||"0"]})]})]})]})})]},A)})}),Object.keys(E).length>0&&a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsxs("button",{onClick:P,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center gap-2 shadow-lg",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add Options to Proposals"]})})]})},DZ=({itinerary:e,dayEvents:t,pricingData:r,finalClientPrices:n,packageTerms:s,baseMarkup:i,extraMarkup:l,cgst:o,sgst:c,igst:u,tcs:d,discount:m})=>{const[p,g]=f.useState(null),[x,v]=f.useState(!1),[h,y]=f.useState(null),b=[];Object.keys(t).forEach(S=>{(t[S]||[]).forEach(F=>{F.eventType==="accommodation"&&F.hotelOptions&&F.hotelOptions.length>0&&F.hotelOptions.forEach(X=>{b.push({...X,day:parseInt(S),eventId:F.id,eventSubject:F.subject})})})});const j={};b.forEach(S=>{const L=S.optionNumber||1;j[L]||(j[L]=[]),j[L].push(S)});const P={};Object.keys(j).forEach(S=>{const L=j[S];let F=0,X=0;L.forEach((te,me)=>{const je=`${S}-${te.day}-${me}`,Se=r[je]||{net:te.price||0,markup:0,gross:te.price||0};F+=Se.net||0,X+=Se.markup||0});const Q=F+X,I=Q*o/100,M=Q*c/100,W=Q*u/100,B=Q*d/100,ae=Q*m/100,fe=Q+I+M+W+B-ae,xe=n[S]!==void 0&&n[S]!==null&&parseFloat(n[S])||fe;P[S]={totalNet:F,totalMarkup:X,totalGross:Q,cgstAmount:I,sgstAmount:M,igstAmount:W,tcsAmount:B,discountAmount:ae,finalTotal:fe,clientPrice:xe,options:L}});const _=S=>{const L=P[S];if(L){const F=new Set;L.options.forEach(Q=>{F.add(Q.day)});const X={};Object.keys(t).forEach(Q=>{F.has(parseInt(Q))&&(X[Q]=t[Q]||[])}),g({optionNumber:S,...L,filteredDayEvents:X,allDayEvents:t})}},C=S=>{switch(S){case"accommodation":return a.jsx(Pl,{className:"h-5 w-5"});case"activity":return a.jsx(Oa,{className:"h-5 w-5"});case"transportation":return a.jsx(c_,{className:"h-5 w-5"});case"meal":return a.jsx(Ro,{className:"h-5 w-5"});case"flight":return a.jsx(ky,{className:"h-5 w-5"});case"visa":return a.jsx(Bn,{className:"h-5 w-5"});case"leisure":return a.jsx(v_,{className:"h-5 w-5"});case"cruise":return a.jsx(y_,{className:"h-5 w-5"});default:return a.jsx(fr,{className:"h-5 w-5"})}},E=(()=>{if(!e||!e.duration)return[];const S=[];for(let L=1;L<=e.duration;L++)S.push(L);return S})(),k=S=>{const L=P[S];if(L){const F={};Object.keys(t).forEach(X=>{const I=(t[X]||[]).map(M=>{if(M.eventType==="accommodation"&&M.hotelOptions){const W=M.hotelOptions.filter(B=>B.optionNumber===parseInt(S));return W.length>0?{...M,hotelOptions:W}:null}return M}).filter(Boolean);I.length>0&&(F[X]=I)}),y({optionNumber:S,...L,filteredDayEvents:F,allDayEvents:t}),v(!0)}},T=()=>{const S=document.getElementById("full-plan-content");if(S){const L=window.open("","_blank");L.document.write(`
        <html>
          <head>
            <title>Travel Plan - Option ${h==null?void 0:h.optionNumber}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              h1 { color: #2563eb; }
              h2 { color: #1e40af; margin-top: 20px; }
              .day-section { margin-bottom: 30px; border-left: 4px solid #2563eb; padding-left: 15px; }
              .hotel-card { background: #f0f9ff; padding: 15px; margin: 10px 0; border-radius: 8px; }
              table { width: 100%; border-collapse: collapse; margin: 20px 0; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #2563eb; color: white; }
            </style>
          </head>
          <body>
            ${S.innerHTML}
          </body>
        </html>
      `),L.document.close(),L.print()}},A=()=>{const S=encodeURIComponent(`Travel Plan - ${(e==null?void 0:e.itinerary_name)||"Itinerary"} - Option ${h==null?void 0:h.optionNumber}`),L=encodeURIComponent(`Please find attached the travel plan for ${(e==null?void 0:e.itinerary_name)||"Itinerary"}.

Option ${h==null?void 0:h.optionNumber}
Total Price: ${((h==null?void 0:h.clientPrice)||(h==null?void 0:h.finalTotal)||0).toLocaleString("en-IN")}`);window.location.href=`mailto:?subject=${S}&body=${L}`},D=()=>{const S=encodeURIComponent(`*Travel Plan - ${(e==null?void 0:e.itinerary_name)||"Itinerary"}*

Option ${h==null?void 0:h.optionNumber}
Total Price: ${((h==null?void 0:h.clientPrice)||(h==null?void 0:h.finalTotal)||0).toLocaleString("en-IN")}

Destination: ${(e==null?void 0:e.destinations)||"N/A"}
Duration: ${(e==null?void 0:e.duration)||0} Days
Adults: ${(e==null?void 0:e.adult)||0} | Children: ${(e==null?void 0:e.child)||0}`);window.open(`https://wa.me/?text=${S}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[a.jsxs("div",{className:"relative w-full h-96 mb-8 overflow-hidden",children:[e!=null&&e.image?a.jsx("img",{src:e.image,alt:e.itinerary_name,className:"w-full h-full object-cover",onError:S=>{S.target.style.display="none"}}):a.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-600 to-purple-600"}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),a.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-8 text-white",children:[a.jsx("h1",{className:"text-5xl font-bold mb-4 drop-shadow-lg",children:(e==null?void 0:e.itinerary_name)||"Itinerary"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ju,{className:"h-5 w-5"}),a.jsx("span",{children:(e==null?void 0:e.destinations)||"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-5 w-5"}),a.jsxs("span",{children:[(e==null?void 0:e.duration)||0," Days"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_y,{className:"h-5 w-5"}),a.jsxs("span",{children:["Adult: ",(e==null?void 0:e.adult)||0," | Child: ",(e==null?void 0:e.child)||0]})]})]})]})]}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-12",children:[(s==null?void 0:s.package_description)&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[a.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[a.jsx(Bn,{className:"h-8 w-8 text-blue-600"}),"Package Overview"]}),a.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-wrap leading-relaxed",children:s.package_description})]}),Object.keys(j).length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Select Your Package Option"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.keys(j).sort((S,L)=>parseInt(S)-parseInt(L)).map(S=>{const L=P[S],F=j[S];return a.jsxs("div",{onClick:()=>_(S),className:"bg-gradient-to-br from-white to-blue-50 rounded-xl shadow-md border-2 border-transparent hover:border-blue-500 overflow-hidden transition-all cursor-pointer transform hover:scale-105",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"px-4 py-2 bg-white text-blue-600 text-sm font-bold rounded-lg",children:["Option ",S]}),a.jsx(Cl,{className:"h-5 w-5 text-white"})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:["",((L==null?void 0:L.clientPrice)||(L==null?void 0:L.finalTotal)||0).toLocaleString("en-IN")]}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Price"})]}),a.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Base Price:"}),a.jsxs("span",{className:"font-medium",children:["",(L==null?void 0:L.totalNet.toLocaleString("en-IN"))||"0"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Taxes & Fees:"}),a.jsxs("span",{className:"font-medium",children:["",(((L==null?void 0:L.cgstAmount)||0)+((L==null?void 0:L.sgstAmount)||0)+((L==null?void 0:L.igstAmount)||0)+((L==null?void 0:L.tcsAmount)||0)).toLocaleString("en-IN")]})]}),(L==null?void 0:L.discountAmount)>0&&a.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[a.jsx("span",{children:"Discount:"}),a.jsxs("span",{className:"font-medium",children:["-",L==null?void 0:L.discountAmount.toLocaleString("en-IN")]})]})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2 font-semibold",children:"Included Hotels"}),a.jsxs("div",{className:"space-y-2",children:[F.slice(0,3).map((X,Q)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx(Pl,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[X.hotelName||"Hotel"," - Day ",X.day]})]},Q)),F.length>3&&a.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["+",F.length-3," more hotels"]})]})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 space-y-2",children:[a.jsxs("button",{onClick:()=>_(S),className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center gap-2 transition-colors",children:[a.jsx(Cl,{className:"h-4 w-4"}),"View Full Details"]}),a.jsxs("button",{onClick:()=>k(S),className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold flex items-center justify-center gap-2 transition-colors",children:[a.jsx(Sw,{className:"h-4 w-4"}),"View Full Plan"]})]})]})]},S)})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[a.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[a.jsx(fr,{className:"h-8 w-8 text-blue-600"}),"Detailed Itinerary"]}),a.jsx("div",{className:"space-y-8",children:E.map(S=>{const L=t[S]||[];return a.jsxs("div",{className:"border-l-4 border-blue-500 pl-6 pb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-blue-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-lg",children:S}),a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Day ",S]})]}),L.length===0?a.jsx("p",{className:"text-gray-500 italic",children:"No events scheduled for this day"}):a.jsx("div",{className:"space-y-4 ml-16",children:L.map((F,X)=>a.jsx("div",{className:"bg-gray-50 rounded-lg p-5 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[F.image&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:F.image,alt:F.subject||"Event",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200",onError:Q=>{Q.target.style.display="none"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"text-blue-600",children:C(F.eventType)}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:F.subject||`${F.eventType} Event`}),a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:F.eventType})]}),F.details&&a.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:F.details}),F.eventType==="accommodation"&&F.hotelOptions&&F.hotelOptions.length>0&&a.jsx("div",{className:"mt-4 space-y-3",children:F.hotelOptions.map((Q,I)=>a.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:a.jsxs("div",{className:"flex items-start gap-4",children:[Q.image&&a.jsx("img",{src:Q.image,alt:Q.hotelName,className:"w-24 h-24 object-cover rounded-lg",onError:M=>{M.target.style.display="none"}}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h5",{className:"font-semibold text-gray-900",children:Q.hotelName||"Hotel"}),[...Array(parseInt(Q.category||1))].map((M,W)=>a.jsx(aa,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},W))]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[Q.roomName&&a.jsxs("div",{children:[a.jsx(Zo,{className:"h-3 w-3 inline mr-1"}),"Room: ",Q.roomName]}),Q.mealPlan&&a.jsxs("div",{children:[a.jsx(Ro,{className:"h-3 w-3 inline mr-1"}),"Meal: ",Q.mealPlan]}),Q.checkIn&&a.jsxs("div",{children:[a.jsx(fr,{className:"h-3 w-3 inline mr-1"}),"Check-in: ",new Date(Q.checkIn).toLocaleDateString("en-GB")]}),Q.checkOut&&a.jsxs("div",{children:[a.jsx(fr,{className:"h-3 w-3 inline mr-1"}),"Check-out: ",new Date(Q.checkOut).toLocaleDateString("en-GB")]})]})]})]})},I))}),F.destination&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[a.jsx(ju,{className:"h-4 w-4 inline mr-1"}),F.destination]}),F.startTime&&F.endTime&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[a.jsx(gl,{className:"h-4 w-4 inline mr-1"}),F.startTime," - ",F.endTime]})]})]})},X))})]},S)})})]}),((s==null?void 0:s.terms_conditions)||(s==null?void 0:s.refund_policy))&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Terms & Policies"}),a.jsxs("div",{className:"space-y-6",children:[(s==null?void 0:s.terms_conditions)&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Terms & Conditions"}),a.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-wrap leading-relaxed bg-gray-50 p-4 rounded-lg",children:s.terms_conditions})]}),(s==null?void 0:s.refund_policy)&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Refund Policy"}),a.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-wrap leading-relaxed bg-gray-50 p-4 rounded-lg",children:s.refund_policy})]})]})]}),Object.keys(P).length>0&&a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl shadow-lg p-8 text-white",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Pricing Summary"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Total Options"}),a.jsx("div",{className:"text-3xl font-bold",children:Object.keys(P).length})]}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Total Base"}),a.jsxs("div",{className:"text-2xl font-bold",children:["",(()=>{let S=0;return Object.values(P).forEach(L=>S+=L.totalNet),S.toLocaleString("en-IN")})()]})]}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Total Taxes"}),a.jsxs("div",{className:"text-2xl font-bold",children:["",(()=>{let S=0;return Object.values(P).forEach(L=>{S+=L.cgstAmount+L.sgstAmount+L.igstAmount+L.tcsAmount}),S.toLocaleString("en-IN")})()]})]}),a.jsxs("div",{className:"bg-white/30 backdrop-blur-sm rounded-lg p-4 text-center border-2 border-white/50",children:[a.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Grand Total"}),a.jsxs("div",{className:"text-3xl font-bold",children:["",(()=>{let S=0;return Object.values(P).forEach(L=>S+=L.clientPrice||L.finalTotal),S.toLocaleString("en-IN")})()]})]})]})]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-blue-700",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"px-4 py-2 bg-white text-blue-600 text-sm font-bold rounded-lg",children:["Option ",p.optionNumber]}),a.jsxs("div",{className:"text-white",children:[a.jsxs("div",{className:"text-2xl font-bold",children:["",(p.clientPrice||p.finalTotal).toLocaleString("en-IN")]}),a.jsx("div",{className:"text-sm opacity-90",children:"Total Package Price"})]})]}),a.jsx("button",{onClick:()=>g(null),className:"text-white hover:text-gray-200 transition-colors p-2 hover:bg-white/20 rounded-lg",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[a.jsxs("div",{className:"mb-6 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl p-6 border border-gray-200",children:[a.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-4",children:"Pricing Breakdown"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Base Price"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["",p.totalNet.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Markup"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["",p.totalMarkup.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["CGST (",o,"%)"]}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["",p.cgstAmount.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["SGST (",c,"%)"]}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["",p.sgstAmount.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["IGST (",u,"%)"]}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["",p.igstAmount.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["TCS (",d,"%)"]}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["",p.tcsAmount.toLocaleString("en-IN")]})]}),p.discountAmount>0&&a.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["Discount (",m,"%)"]}),a.jsxs("div",{className:"text-xl font-bold text-green-600",children:["-",p.discountAmount.toLocaleString("en-IN")]})]}),a.jsx("div",{className:"col-span-2 md:col-span-3 pt-4 border-t border-gray-300 mt-2",children:a.jsxs("div",{className:"flex justify-between items-center bg-blue-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-xl font-semibold text-gray-800",children:"Final Total"}),a.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["",(p.clientPrice||p.finalTotal).toLocaleString("en-IN")]})]})})]})]}),p.filteredDayEvents&&Object.keys(p.filteredDayEvents).length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"text-xl font-bold text-gray-900 mb-4",children:["Complete Itinerary - Option ",p.optionNumber]}),a.jsx("div",{className:"space-y-6",children:Object.keys(p.filteredDayEvents).sort((S,L)=>parseInt(S)-parseInt(L)).map(S=>{const L=p.filteredDayEvents[S]||[];return a.jsxs("div",{className:"border-l-4 border-blue-500 pl-6 pb-4 bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-blue-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold",children:S}),a.jsxs("h5",{className:"text-lg font-bold text-gray-900",children:["Day ",S]})]}),L.length===0?a.jsx("p",{className:"text-gray-500 italic ml-13",children:"No events scheduled for this day"}):a.jsx("div",{className:"space-y-3 ml-13",children:L.map((F,X)=>{const Q=F.eventType==="accommodation"&&F.hotelOptions&&F.hotelOptions.some(I=>I.optionNumber===parseInt(p.optionNumber));return a.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:a.jsxs("div",{className:"flex items-start gap-4",children:[F.image&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:F.image,alt:F.subject||"Event",className:"w-24 h-24 object-cover rounded-lg border-2 border-gray-200",onError:I=>{I.target.style.display="none"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"text-blue-600",children:C(F.eventType)}),a.jsx("h6",{className:"text-base font-semibold text-gray-900",children:F.subject||`${F.eventType} Event`}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:F.eventType}),Q&&a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:["Included in Option ",p.optionNumber]})]}),F.details&&a.jsx("p",{className:"text-sm text-gray-700 mb-2 whitespace-pre-wrap",children:F.details}),F.eventType==="accommodation"&&F.hotelOptions&&F.hotelOptions.length>0&&a.jsx("div",{className:"mt-3 space-y-2",children:F.hotelOptions.filter(I=>I.optionNumber===parseInt(p.optionNumber)).map((I,M)=>{const W=`${p.optionNumber}-${S}-${M}`,B=r[W]||{net:I.price||0,gross:I.price||0};return a.jsx("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[I.image&&a.jsx("img",{src:I.image,alt:I.hotelName,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:ae=>{ae.target.style.display="none"}}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:I.hotelName||"Hotel"}),[...Array(parseInt(I.category||1))].map((ae,fe)=>a.jsx(aa,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},fe)),a.jsxs("span",{className:"ml-auto text-sm font-bold text-blue-600",children:["",B.gross.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[I.roomName&&a.jsxs("div",{children:["Room: ",I.roomName]}),I.mealPlan&&a.jsxs("div",{children:["Meal: ",I.mealPlan]}),I.checkIn&&I.checkOut&&a.jsxs("div",{children:[new Date(I.checkIn).toLocaleDateString("en-GB")," - ",new Date(I.checkOut).toLocaleDateString("en-GB")]})]})]})]})},M)})}),F.destination&&a.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[a.jsx(ju,{className:"h-3 w-3 inline mr-1"}),F.destination]}),F.startTime&&F.endTime&&a.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[a.jsx(gl,{className:"h-3 w-3 inline mr-1"}),F.startTime," - ",F.endTime]})]})]})},X)})})]},S)})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-4",children:"Included Hotels Summary"}),a.jsx("div",{className:"space-y-4",children:p.options.map((S,L)=>{const F=`${p.optionNumber}-${S.day}-${L}`,X=r[F]||{net:S.price||0,gross:S.price||0};return a.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[S.image&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:S.image,alt:S.hotelName,className:"w-full md:w-48 h-48 object-cover rounded-lg border-2 border-gray-200",onError:Q=>{Q.target.style.display="none"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h5",{className:"text-xl font-bold text-gray-900",children:S.hotelName||"Hotel Name"}),[...Array(parseInt(S.category||1))].map((Q,I)=>a.jsx(aa,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"},I))]}),a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full",children:["Day ",S.day]})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",X.gross.toLocaleString("en-IN")]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Per Room"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-4 w-4 text-gray-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Check-in"}),a.jsx("div",{className:"font-medium",children:S.checkIn?new Date(S.checkIn).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-4 w-4 text-gray-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Check-out"}),a.jsx("div",{className:"font-medium",children:S.checkOut?new Date(S.checkOut).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zo,{className:"h-4 w-4 text-gray-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Room Type"}),a.jsx("div",{className:"font-medium",children:S.roomName||"N/A"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ro,{className:"h-4 w-4 text-gray-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Meal Plan"}),a.jsx("div",{className:"font-medium",children:S.mealPlan||"N/A"})]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Room Configuration:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"Single",value:S.single},{label:"Double",value:S.double},{label:"Triple",value:S.triple},{label:"Quad",value:S.quad},{label:"Child With Bed",value:S.cwb},{label:"Child No Bed",value:S.cnb}].filter(Q=>Q.value&&parseInt(Q.value)>0).map((Q,I)=>a.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:[Q.value," ",Q.label]},I))})]})]})]})},L)})})]})]})]})}),x&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-green-600 to-green-700",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Sw,{className:"h-8 w-8 text-white"}),a.jsxs("div",{className:"text-white",children:[a.jsxs("div",{className:"text-2xl font-bold",children:["Full Travel Plan - Option ",h.optionNumber]}),a.jsx("div",{className:"text-sm opacity-90",children:(e==null?void 0:e.itinerary_name)||"Itinerary"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:T,className:"px-4 py-2 bg-white text-green-600 rounded-lg hover:bg-gray-100 text-sm font-semibold flex items-center gap-2 transition-colors",title:"Generate PDF",children:[a.jsx(Os,{className:"h-4 w-4"}),"PDF"]}),a.jsxs("button",{onClick:A,className:"px-4 py-2 bg-white text-green-600 rounded-lg hover:bg-gray-100 text-sm font-semibold flex items-center gap-2 transition-colors",title:"Share via Email",children:[a.jsx(Qt,{className:"h-4 w-4"}),"Email"]}),a.jsxs("button",{onClick:D,className:"px-4 py-2 bg-white text-green-600 rounded-lg hover:bg-gray-100 text-sm font-semibold flex items-center gap-2 transition-colors",title:"Share via WhatsApp",children:[a.jsx(Jo,{className:"h-4 w-4"}),"WhatsApp"]}),a.jsx("button",{onClick:()=>{v(!1),y(null)},className:"text-white hover:text-gray-200 transition-colors p-2 hover:bg-white/20 rounded-lg",children:a.jsx(Le,{className:"h-6 w-6"})})]})]}),a.jsxs("div",{className:"p-6 overflow-y-auto flex-1",id:"full-plan-content",children:[a.jsxs("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-6 border-2 border-blue-200",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:(e==null?void 0:e.itinerary_name)||"Travel Itinerary"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Destination"}),a.jsx("div",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.destinations)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Duration"}),a.jsxs("div",{className:"font-semibold text-gray-900",children:[(e==null?void 0:e.duration)||0," Days"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Adults"}),a.jsx("div",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.adult)||0})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Children"}),a.jsx("div",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.child)||0})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"Package Price:"}),a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["",(h.clientPrice||h.finalTotal).toLocaleString("en-IN")]})]})})]}),(s==null?void 0:s.package_description)&&a.jsxs("div",{className:"mb-6 bg-white rounded-lg p-6 border border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Package Overview"}),a.jsx("div",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:s.package_description})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Day-wise Itinerary"}),a.jsx("div",{className:"space-y-6",children:Object.keys(h.filteredDayEvents||{}).sort((S,L)=>parseInt(S)-parseInt(L)).map(S=>{const L=h.filteredDayEvents[S]||[];return a.jsxs("div",{className:"bg-white rounded-lg border-l-4 border-blue-500 p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-blue-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-lg",children:S}),a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Day ",S]})]}),L.length===0?a.jsx("p",{className:"text-gray-500 italic ml-16",children:"No events scheduled for this day"}):a.jsx("div",{className:"space-y-4 ml-16",children:L.map((F,X)=>{const Q=F.eventType==="accommodation"&&F.hotelOptions&&F.hotelOptions.some(I=>I.optionNumber===parseInt(h.optionNumber));return a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:a.jsxs("div",{className:"flex items-start gap-4",children:[F.image&&a.jsx("img",{src:F.image,alt:F.subject||"Event",className:"w-24 h-24 object-cover rounded-lg border-2 border-gray-200",onError:I=>{I.target.style.display="none"}}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"text-blue-600",children:C(F.eventType)}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:F.subject||`${F.eventType} Event`}),a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:F.eventType}),Q&&a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Included in Package"})]}),F.details&&a.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:F.details}),F.eventType==="accommodation"&&F.hotelOptions&&F.hotelOptions.length>0&&a.jsx("div",{className:"mt-3 space-y-2",children:F.hotelOptions.filter(I=>I.optionNumber===parseInt(h.optionNumber)).map((I,M)=>{const W=`${h.optionNumber}-${S}-${M}`,B=r[W]||{net:I.price||0,gross:I.price||0};return a.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-4",children:[I.image&&a.jsx("img",{src:I.image,alt:I.hotelName,className:"w-20 h-20 object-cover rounded border border-gray-200",onError:ae=>{ae.target.style.display="none"}}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h5",{className:"font-bold text-gray-900",children:I.hotelName||"Hotel"}),[...Array(parseInt(I.category||1))].map((ae,fe)=>a.jsx(aa,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},fe)),a.jsxs("span",{className:"ml-auto font-bold text-blue-600",children:["",B.gross.toLocaleString("en-IN")]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[I.roomName&&a.jsxs("div",{children:[a.jsx(Zo,{className:"h-3 w-3 inline mr-1"}),"Room: ",I.roomName]}),I.mealPlan&&a.jsxs("div",{children:[a.jsx(Ro,{className:"h-3 w-3 inline mr-1"}),"Meal: ",I.mealPlan]}),I.checkIn&&a.jsxs("div",{children:[a.jsx(fr,{className:"h-3 w-3 inline mr-1"}),"Check-in: ",new Date(I.checkIn).toLocaleDateString("en-GB")]}),I.checkOut&&a.jsxs("div",{children:[a.jsx(fr,{className:"h-3 w-3 inline mr-1"}),"Check-out: ",new Date(I.checkOut).toLocaleDateString("en-GB")]})]}),[I.single,I.double,I.triple,I.quad,I.cwb,I.cnb].some(ae=>ae&&parseInt(ae)>0)&&a.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Rooms: ",[I.single&&`${I.single} Single`,I.double&&`${I.double} Double`,I.triple&&`${I.triple} Triple`,I.quad&&`${I.quad} Quad`,I.cwb&&`${I.cwb} CWB`,I.cnb&&`${I.cnb} CNB`].filter(Boolean).join(", ")]})]})]})},M)})}),F.destination&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[a.jsx(ju,{className:"h-4 w-4 inline mr-1"}),F.destination]}),F.startTime&&F.endTime&&a.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[a.jsx(gl,{className:"h-4 w-4 inline mr-1"}),F.startTime," - ",F.endTime]})]})]})},X)})})]},S)})})]}),((s==null?void 0:s.terms_conditions)||(s==null?void 0:s.refund_policy))&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Terms & Policies"}),(s==null?void 0:s.terms_conditions)&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Terms & Conditions"}),a.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:s.terms_conditions})]}),(s==null?void 0:s.refund_policy)&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Refund Policy"}),a.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:s.refund_policy})]})]})]})]})})]})},IZ=()=>{var Dd,Id,Md,$d,Ld;const{id:e}=P5(),t=Br(),[r,n]=f.useState(null),[s,i]=f.useState(!0),[l,o]=f.useState("build"),[c,u]=f.useState([]),[d,m]=f.useState(null),[p,g]=f.useState(""),[x,v]=f.useState(!1),[h,y]=f.useState({subject:"",details:"",image:null,eventType:"",id:null,destination:"",type:"Manual",name:"",date:"",startTime:"1:00 PM",endTime:"2:00 PM",showTime:!1,hotelOptions:[],editingOptionIndex:null,hotelName:"",hotel_id:null,category:"1",roomName:"",mealPlan:"",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",transferType:"Private",mealType:"Breakfast"}),[b,j]=f.useState(null),[P,_]=f.useState(!1),C=f.useRef(null),[O,E]=f.useState({}),[k,T]=f.useState(!1),[A,D]=f.useState("upload"),[S,L]=f.useState([]),[F,X]=f.useState("travel"),[Q,I]=f.useState(!1),[M,W]=f.useState(null),[B,ae]=f.useState(null),[fe,xe]=f.useState([]),[te,me]=f.useState(!1),[je,Se]=f.useState(!1),[ne,U]=f.useState("day-itinerary"),[J,ie]=f.useState(""),[De,Te]=f.useState(""),[Ie,Ue]=f.useState("all"),[Re,Er]=f.useState("day-itinerary"),[Ar,an]=f.useState([]),[lr,br]=f.useState(!1),[he,ee]=f.useState("database"),[R,se]=f.useState(!1),[de,pe]=f.useState(!1),[we,Ae]=f.useState([]),[Qe,ro]=f.useState(!1),[Be,Vn]=f.useState({city:"",checkIn:"",checkOut:"",checkInTime:"2:00 PM",checkOutTime:"11:00",rooms:1,guests:2}),[no,Hs]=f.useState(null),[Ws,Ri]=f.useState({}),[Wr,Gn]=f.useState(!1),[pa,oh]=f.useState(4),[ao,ch]=f.useState({terms_conditions:"",refund_policy:"",package_description:""}),[Nn,Fi]=f.useState({}),[ha,Ks]=f.useState({}),[wt,Yn]=f.useState(0),[ts,so]=f.useState(0),[yd,vd]=f.useState(0),[ga,bd]=f.useState(0),[xa,jd]=f.useState(0),[qs,io]=f.useState(0),[Vs,wd]=f.useState(0),[ya,Nd]=f.useState(0);f.useEffect(()=>{Sd(),dh(),Gs()},[e]),f.useEffect(()=>{const N={};Object.keys(O).forEach(z=>{(O[z]||[]).forEach(G=>{G.eventType==="accommodation"&&G.hotelOptions&&G.hotelOptions.length>0&&G.hotelOptions.forEach((ye,Ee)=>{const rt=`${ye.optionNumber||1}-${z}-${Ee}`;if(!Nn[rt]){const Tr=parseFloat(ye.price)||0;N[rt]={net:Tr,markup:0,gross:Tr}}})})}),Object.keys(N).length>0&&Fi(z=>({...z,...N}))},[O]);const or=()=>{const N={};if(Object.keys(Nn).forEach(ye=>{const[Ee]=ye.split("-");N[Ee]||(N[Ee]=[]),N[Ee].push({key:ye,pricing:Nn[ye]})}),Object.keys(N).length===0){alert("No pricing data found. Please set prices for hotel options.");return}const z=Object.keys(N).map(ye=>{const Ee=N[ye];let rt=0;Ee.forEach(({pricing:Sn})=>{rt+=Sn.gross||0});const Tr=rt,rs=ha[ye]!==void 0&&ha[ye]!==null&&parseFloat(ha[ye])||Tr,Qn=[];return Object.keys(O).forEach(Sn=>{(O[Sn]||[]).forEach(Kr=>{Kr.eventType==="accommodation"&&Kr.hotelOptions&&Kr.hotelOptions.forEach((sn,kn)=>{if(sn.optionNumber===parseInt(ye)){const Ui=`${ye}-${Sn}-${kn}`;Qn.push({...sn,day:parseInt(Sn),pricing:Nn[Ui]})}})})}),{id:Date.now()+parseInt(ye),optionNumber:parseInt(ye),itinerary_id:parseInt(e),itinerary_name:(r==null?void 0:r.itinerary_name)||"Itinerary",destination:(r==null?void 0:r.destinations)||"",duration:(r==null?void 0:r.duration)||0,price:rs,website_cost:rs,hotelDetails:Qn,pricing:{baseMarkup:wt,extraMarkup:ts,cgst:ga,sgst:xa,igst:qs,tcs:Vs,discount:ya,finalClientPrice:rs},image:(r==null?void 0:r.image)||null,inserted_at:new Date().toISOString(),created_at:new Date().toISOString()}}),G=[...JSON.parse(localStorage.getItem(`itinerary_${e}_proposals`)||"[]"),...z];localStorage.setItem(`itinerary_${e}_proposals`,JSON.stringify(G)),alert(`Successfully added ${z.length} option(s) to proposals! You can view them in the Lead Details page.`)};f.useEffect(()=>{k&&A==="unsplash"&&S.length===0&&zi()},[k,A]);const Gs=()=>{try{const N=localStorage.getItem(`itinerary_${e}_events`);N&&E(JSON.parse(N));const z=localStorage.getItem(`itinerary_${e}_pricing`);z&&Fi(JSON.parse(z));const ce=localStorage.getItem(`itinerary_${e}_finalClientPrices`);ce&&Ks(JSON.parse(ce));const G=localStorage.getItem(`itinerary_${e}_settings`);if(G){const ye=JSON.parse(G);Yn(ye.baseMarkup||0),so(ye.extraMarkup||0),bd(ye.cgst||0),jd(ye.sgst||0),io(ye.igst||0),wd(ye.tcs||0),Nd(ye.discount||0)}}catch(N){console.error("Failed to load data from storage:",N)}};f.useEffect(()=>{if(e&&Object.keys(O).length>0)try{localStorage.setItem(`itinerary_${e}_events`,JSON.stringify(O))}catch(N){console.error("Failed to save events to storage:",N)}},[O,e]),f.useEffect(()=>{if(e&&Object.keys(Nn).length>0)try{localStorage.setItem(`itinerary_${e}_pricing`,JSON.stringify(Nn))}catch(N){console.error("Failed to save pricing data to storage:",N)}},[Nn,e]),f.useEffect(()=>{if(e)try{localStorage.setItem(`itinerary_${e}_finalClientPrices`,JSON.stringify(ha))}catch(N){console.error("Failed to save final client prices to storage:",N)}},[ha,e]),f.useEffect(()=>{if(e)try{const N={baseMarkup:wt,extraMarkup:ts,cgst:ga,sgst:xa,igst:qs,tcs:Vs,discount:ya};localStorage.setItem(`itinerary_${e}_settings`,JSON.stringify(N))}catch(N){console.error("Failed to save settings to storage:",N)}},[wt,ts,ga,xa,qs,Vs,ya,e]),f.useEffect(()=>{const N=z=>{P&&C.current&&!C.current.contains(z.target)&&_(!1)};return P&&document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[P]);const Sd=async()=>{try{i(!0);const z=(await Dn.get(e)).data.data;if(z.image){if(z.image.startsWith("/storage")||z.image.startsWith("/")&&!z.image.startsWith("http")){const G="http://localhost:8000/api".replace("/api","");z.image=`${G}${z.image}`}z.image.includes("localhost")&&!z.image.includes(":8000")&&(z.image=z.image.replace("localhost","localhost:8000"))}n(z),ch({terms_conditions:z.terms_conditions||"",refund_policy:z.refund_policy||"",package_description:z.package_description||""}),z.duration&&z.duration>0&&m(1)}catch(N){console.error("Failed to fetch itinerary:",N),alert("Failed to load itinerary"),t("/itineraries")}finally{i(!1)}},dh=async()=>{try{const N=await Mo.list(),ce=(N.data.data||N.data||[]).map(G=>{if(G.image){if(G.image.startsWith("/storage")||G.image.startsWith("/")&&!G.image.startsWith("http")){let ye="http://localhost:8000/api";ye=ye.replace("/api",""),G.image=`${ye}${G.image}`}G.image.includes("localhost")&&!G.image.includes(":8000")&&(G.image=G.image.replace("localhost","localhost:8000"))}return G});u(ce)}catch(N){console.error("Failed to fetch day itineraries:",N)}},kd=async()=>{try{br(!0);const N=await On.list(),ce=(N.data.data||N.data||[]).map(G=>{if(G.activity_photo){if(G.activity_photo.startsWith("/storage")||G.activity_photo.startsWith("/")&&!G.activity_photo.startsWith("http")){let ye="http://localhost:8000/api";ye=ye.replace("/api",""),G.activity_photo=`${ye}${G.activity_photo}`}G.activity_photo.includes("localhost")&&!G.activity_photo.includes(":8000")&&(G.activity_photo=G.activity_photo.replace("localhost","localhost:8000"))}return G});an(ce)}catch(N){console.error("Failed to fetch activities:",N)}finally{br(!1)}};f.useEffect(()=>{var N;if(Re==="activity")kd();else if(Re==="accommodation"){if(he==="database")_d();else if(he==="api"){const z=((N=tr[d-1])==null?void 0:N.destination)||h.destination;z&&(Te(z),Ys("",z))}}},[Re,he]);const _d=async()=>{try{ro(!0);const N=await jr.list(),ce=(N.data.data||N.data||[]).map(G=>{if(G.hotel_photo){if(G.hotel_photo.startsWith("/storage")||G.hotel_photo.startsWith("/")&&!G.hotel_photo.startsWith("http")){let ye="http://localhost:8000/api";ye=ye.replace("/api",""),G.hotel_photo=`${ye}${G.hotel_photo}`}G.hotel_photo.includes("localhost")&&!G.hotel_photo.includes(":8000")&&(G.hotel_photo=G.hotel_photo.replace("localhost","localhost:8000"))}return{id:G.id,name:G.name,hotelName:G.name,rating:parseInt(G.category)||3,address:G.hotel_address||G.destination||"",image:G.hotel_photo||null,destination:G.destination||"",category:G.category||"1"}});Ae(ce)}catch(N){console.error("Failed to fetch stored hotels:",N)}finally{ro(!1)}},Pd=async()=>{if(!Be.city){alert("Please enter city name");return}me(!0);try{const N=await jr.search(Be.city,"");N.data.success&&N.data.data&&N.data.data.length>0?xe(N.data.data):xe([]),pe(!1)}catch(N){console.error("API hotel search error:",N),alert("Failed to search hotels. Please try again.")}finally{me(!1)}},uh=async(N,z)=>{if(Ws[N]){Hs(no===N?null:N);return}Gn(!0);try{const ce=await jr.getRooms(N,{checkIn:Be.checkIn||"",checkOut:Be.checkOut||"",adults:Be.guests||2,rooms:Be.rooms||1});if(ce.data.success&&ce.data.data)Ri({...Ws,[N]:ce.data.data}),Hs(N);else throw new Error("No rooms data received")}catch(ce){console.error("Failed to fetch hotel rooms:",ce),alert("Failed to load room types. Please try again.")}finally{Gn(!1)}},Cd=(N,z)=>{if(!d){alert("Please select a day first");return}const G=(O[d]||[]).filter(Tr=>Tr.eventType==="accommodation");if(G.length>=pa){alert(`Maximum ${pa} hotel options allowed per day. Please remove an existing hotel first.`);return}const ye=G.length+1,Ee=Td(N),rt={id:Date.now(),subject:N.hotelName||N.name||"Hotel",details:`${z.name} - ${z.mealPlan}`,destination:N.address||Be.city||"",eventType:"accommodation",image:N.image||null,type:"Manual",name:N.hotelName||N.name||"Hotel",date:Be.checkIn||"",startTime:Be.checkInTime||"2:00 PM",endTime:Be.checkOutTime||"11:00",showTime:!1,hotelOptions:[{hotelName:N.hotelName||N.name||"Hotel",hotel_id:Ee,category:N.rating?N.rating.toString():"3",roomName:z.name,mealPlan:z.mealPlan,single:"",double:z.guests>=2?"1":"",triple:"",quad:"",cwb:"",cnb:"",checkIn:Be.checkIn||"",checkInTime:Be.checkInTime||"2:00 PM",checkOut:Be.checkOut||"",checkOutTime:Be.checkOutTime||"11:00",price:z.price,optionNumber:ye}],editingOptionIndex:null,hotelName:N.hotelName||N.name||"Hotel",hotel_id:Ee,category:N.rating?N.rating.toString():"3",roomName:z.name,mealPlan:z.mealPlan,single:"",double:z.guests>=2?"1":"",triple:"",quad:"",cwb:"",cnb:"",checkIn:Be.checkIn||"",checkInTime:Be.checkInTime||"2:00 PM",checkOut:Be.checkOut||"",checkOutTime:Be.checkOutTime||"11:00",transferType:"Private",mealType:"Breakfast"};Kt(rt),Hs(null)},zi=async()=>{I(!0);try{const N=F||"travel",z=[],ce=Date.now();for(let G=0;G<12;G++)z.push({id:`picsum-${G}-${ce}`,urls:{thumb:`https://picsum.photos/seed/${N}-${G}-${ce}/400/300`,regular:`https://picsum.photos/seed/${N}-${G}-${ce}/1200/800`},alt_description:N});L(z)}catch(N){console.error("Failed to fetch images:",N),alert("Failed to load images. Please try again.")}finally{I(!1)}},Od=async()=>{try{if(M){const N=new FormData;N.append("image",M),N.append("_method","PUT"),await Dn.update(e,N)}else if(B&&A==="unsplash"){const z=await(await fetch(B)).blob(),ce=new File([z],"cover-photo.jpg",{type:z.type}),G=new FormData;G.append("image",ce),G.append("_method","PUT"),await Dn.update(e,G)}await Sd(),T(!1),W(null),ae(null),L([])}catch(N){console.error("Failed to save cover photo:",N),alert("Failed to save cover photo. Please try again.")}},Kt=N=>{if(!d)return;const z=O[d]||[];if(N.id&&z.some(ce=>ce.id===N.id)){const ce=z.map(G=>G.id===N.id?N:G);E({...O,[d]:ce})}else E({...O,[d]:[...z,N]});y({subject:"",details:"",image:null,eventType:"",id:null,destination:"",type:"Manual",name:"",date:"",startTime:"1:00 PM",endTime:"2:00 PM",showTime:!1,hotelOptions:[],editingOptionIndex:null,hotelName:"",hotel_id:null,category:"1",roomName:"",mealPlan:"",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",transferType:"Private",mealType:"Breakfast"}),j(null),v(!1)},Ed=N=>{if(!d){alert("Please select a day first");return}const z=c.find(ye=>ye.id===parseInt(N));if(!z){alert("Day itinerary not found");return}let ce=null;z.image&&(ce=z.image,(ce.startsWith("/storage")||ce.startsWith("/")&&!ce.startsWith("http"))&&(ce=`${"http://localhost:8000/api".replace("/api","")}${ce}`),ce.includes("localhost")&&!ce.includes(":8000")&&(ce=ce.replace("localhost","localhost:8000")));const G={id:Date.now(),subject:z.title||z.destination||"Day Itinerary",details:z.details||"",destination:z.destination||"",eventType:"day-itinerary",image:ce,type:"Manual",name:z.title||"",date:"",startTime:"1:00 PM",endTime:"2:00 PM",showTime:!1,hotelOptions:[],editingOptionIndex:null,hotelName:"",hotel_id:null,category:"1",roomName:"",mealPlan:"",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",transferType:"Private",mealType:"Breakfast"};Kt(G)},Ys=async(N="",z="")=>{if(!(!z&&!N)){me(!0);try{const ce=z||N,G=await jr.search(ce,N);if(G.data.success&&G.data.data&&G.data.data.length>0){const ye=G.data.data.map(Ee=>({id:Ee.id,name:Ee.hotelName||Ee.name,hotelName:Ee.hotelName||Ee.name,rating:Ee.rating||Math.floor(Math.random()*3)+3,address:Ee.address||`${ce}, India`,image:Ee.image||null}));xe(ye)}else{const ye=Ad(ce);xe(ye)}}catch(ce){console.error("Hotel search error:",ce);const G=Ad(z||N);xe(G)}finally{me(!1)}}},Ad=N=>["Grand Hotel","Palace","Resort","Inn","Luxury Hotel","Boutique Hotel","Plaza","Suites","View Hotel","Heritage Hotel","International Hotel","Business Hotel","Beach Resort","Hill Resort","Spa Resort","Eco Resort","City Hotel","Airport Hotel","Budget Hotel","Premium Hotel","Executive Hotel","Royal Hotel","Crown Hotel","Tower Hotel"].map((ce,G)=>({id:`hotel-${N}-${G}`,name:`${N} ${ce}`,hotelName:`${N} ${ce}`,rating:Math.floor(Math.random()*3)+3,address:`${N}, India`,price:Math.floor(Math.random()*5e3)+2e3})),Td=N=>{if(!N)return null;const z=N.id||N.hotel_id;return z?typeof z=="string"&&z.startsWith("local-")?parseInt(z.replace("local-",""),10)||null:typeof z=="number"?z:parseInt(z,10)||null:null},lo=N=>{var Ee;if(!d){alert("Please select a day first");return}const ce=(O[d]||[]).filter(rt=>rt.eventType==="accommodation");if(ce.length>=pa){alert(`Maximum ${pa} hotel options allowed per day. Please remove an existing hotel first.`);return}const G=ce.length+1,ye=Td(N);if(h.eventType==="accommodation"&&x)y({...h,hotelName:N.hotelName||N.name,hotel_id:ye,category:N.rating?N.rating.toString():h.category,destination:De||h.destination||N.address||""}),Se(!1);else{const rt={id:Date.now(),subject:N.hotelName||N.name||"Hotel",details:"",destination:De||N.address||((Ee=tr[d-1])==null?void 0:Ee.destination)||"",eventType:"accommodation",image:N.image||null,type:"Manual",name:N.hotelName||N.name||"Hotel",date:"",startTime:"2:00 PM",endTime:"11:00",showTime:!1,hotelOptions:[{hotelName:N.hotelName||N.name||"Hotel",hotel_id:ye,category:N.rating?N.rating.toString():"3",roomName:"",mealPlan:"",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",optionNumber:G}],editingOptionIndex:null,hotelName:N.hotelName||N.name||"Hotel",hotel_id:ye,category:N.rating?N.rating.toString():"3",roomName:"",mealPlan:"",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",transferType:"Private",mealType:"Breakfast"};Kt(rt)}xe([]),ie("")},tr=(()=>{var z,ce;if(!r||!r.duration)return[];const N=[];for(let G=1;G<=r.duration;G++)N.push({day:G,destination:((ce=(z=r.destinations)==null?void 0:z.split(",")[0])==null?void 0:ce.trim())||"Destination",details:""});return N})();return s?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):r?a.jsxs(a.Fragment,{children:[a.jsx(ve,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("button",{onClick:()=>t("/itineraries"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(l_,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"Back to Itineraries"})]})}),a.jsx("div",{className:"bg-blue-50 border-b border-gray-200 px-6",children:a.jsx("div",{className:"flex gap-1 items-center justify-between",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>o("build"),className:`px-6 py-3 font-medium transition-colors ${l==="build"?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-900"}`,children:"Build"}),a.jsx("button",{onClick:()=>o("pricing"),className:`px-6 py-3 font-medium transition-colors ${l==="pricing"?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-900"}`,children:"Pricing"}),a.jsx("button",{onClick:()=>o("final"),className:`px-6 py-3 font-medium transition-colors ${l==="final"?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-900"}`,children:"Final"})]})})}),l==="build"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"relative w-full h-64 rounded-lg mb-6 overflow-hidden shadow-lg",style:{backgroundImage:r.image?`url(${r.image})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:r.image?"transparent":"#667eea"},children:[r.image&&a.jsx("img",{src:r.image,alt:r.itinerary_name,className:"absolute inset-0 w-full h-full object-cover",onError:N=>{console.error("Cover image failed to load:",r.image),N.target.style.display="none"}}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between p-8",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>T(!0),className:"bg-white/90 backdrop-blur-sm text-gray-800 px-4 py-2 rounded-lg hover:bg-white transition-colors flex items-center gap-2 shadow-lg font-medium",children:[a.jsx(o_,{className:"h-4 w-4"}),"Change Cover Photo"]})}),a.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-4 rounded-lg shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:r.itinerary_name||"Untitled"}),a.jsx("button",{className:"text-gray-700 hover:text-gray-900",children:a.jsx(At,{className:"h-5 w-5"})})]}),a.jsx("p",{className:"text-gray-700 text-lg",children:r.destinations||"No destinations"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Itinerary Days"}),a.jsxs("div",{className:"space-y-2",children:[tr.map((N,z)=>a.jsxs("div",{onClick:()=>m(N.day),className:`p-3 rounded-lg cursor-pointer transition-colors ${d===N.day?"bg-blue-50 border-2 border-blue-500":"bg-gray-50 border-2 border-transparent hover:bg-gray-100"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`font-semibold ${d===N.day?"text-blue-600":"text-gray-700"}`,children:["DAY ",N.day]}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:a.jsx(At,{className:"h-4 w-4"})})]}),a.jsx(x0,{className:`h-4 w-4 ${d===N.day?"text-blue-600":"text-gray-400"}`})]}),a.jsxs("select",{className:"mt-2 w-full text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[a.jsx("option",{children:N.destination}),c.map(ce=>a.jsx("option",{value:ce.destination,children:ce.destination},ce.id))]})]},N.day)),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 cursor-pointer",children:[a.jsx(Bn,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Package Terms"}),a.jsx(x0,{className:"h-4 w-4 ml-auto"})]})})]})]})}),a.jsx("div",{className:"col-span-6",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:d&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Day ",d,"  ",((Dd=tr[d-1])==null?void 0:Dd.destination)||"Destination"]}),a.jsxs("div",{className:"relative",ref:C,children:[a.jsxs("button",{onClick:()=>_(!P),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm font-medium",children:[a.jsx(Ke,{className:"h-4 w-4"}),"New Event"]}),P&&a.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{onClick:()=>{y({...h,eventType:"accommodation"}),_(!1),v(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[a.jsx(Wh,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"Accommodation"})]}),a.jsxs("button",{onClick:()=>{y({...h,eventType:"activity"}),_(!1),v(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[a.jsx(Oa,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"Activity"})]}),a.jsxs("button",{onClick:()=>{y({...h,eventType:"transportation"}),_(!1),v(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[a.jsx(c_,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"Transportation"})]}),a.jsxs("button",{onClick:()=>{y({...h,eventType:"visa"}),_(!1),v(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[a.jsx(Bn,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"Visa"})]}),a.jsxs("button",{onClick:()=>{y({...h,eventType:"meal"}),_(!1),v(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[a.jsx(Ro,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"Meal"})]}),a.jsxs("button",{onClick:()=>{y({...h,eventType:"flight"}),_(!1),v(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[a.jsx(ky,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"Flight"})]}),a.jsxs("button",{onClick:()=>{y({...h,eventType:"leisure"}),_(!1),v(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[a.jsx(v_,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"Leisure"})]}),a.jsxs("button",{onClick:()=>{y({...h,eventType:"cruise"}),_(!1),v(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[a.jsx(y_,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:"Cruise"})]})]})})]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center gap-2 border border-gray-300 rounded-lg p-3 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>v(!0),children:[a.jsx("input",{type:"text",placeholder:"Enter Day Wise Details",value:O[d]&&O[d].length>0?`${O[d].length} event(s) added`:"No events added",readOnly:!0,className:"flex-1 bg-transparent border-none outline-none text-sm cursor-pointer"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:N=>{N.stopPropagation(),v(!0)},children:a.jsx(At,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"space-y-4",children:O[d]&&O[d].length>0?(()=>{const N=O[d].filter(z=>Ie==="all"?!0:z.eventType===Ie);return N.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 text-sm",children:["No ",Ie==="all"?"":Ie," events found for this day"]}):N.map((z,ce)=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center border border-gray-300 flex-shrink-0 relative overflow-hidden",children:z.image?a.jsx(a.Fragment,{children:a.jsx("img",{src:z.image,alt:z.subject,className:"w-full h-full object-cover",onError:G=>{G.target.style.display="none";const ye=G.target.parentElement;if(ye&&!ye.querySelector(".no-photo-text")){const Ee=document.createElement("span");Ee.className="no-photo-text text-xs text-gray-400 font-medium absolute inset-0 flex items-center justify-center",Ee.textContent="NO PHOTO",ye.appendChild(Ee)}}})}):a.jsx("div",{className:"text-center p-2",children:a.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"NO PHOTO"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-base",children:z.subject}),z.eventType&&a.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:z.eventType==="day-itinerary"?"Day Itinerary":z.eventType})]}),z.eventType==="accommodation"&&z.hotelOptions&&z.hotelOptions.length>0?a.jsx("div",{className:"space-y-3 mt-2",children:z.hotelOptions.map((G,ye)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pl,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-900 text-sm",children:G.hotelName||"Hotel"}),a.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[[...Array(parseInt(G.category||1))].map((Ee,rt)=>a.jsx(aa,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},rt)),a.jsxs("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:["Option ",G.optionNumber||ye+1]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(fr,{className:"h-3 w-3"}),a.jsxs("span",{children:["Check-in: ",G.checkIn?new Date(G.checkIn).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(fr,{className:"h-3 w-3"}),a.jsxs("span",{children:["Check-out: ",G.checkOut?new Date(G.checkOut).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Zo,{className:"h-3 w-3"}),a.jsxs("span",{children:["Room: #",G.roomName||"N/A"]})]})]}),a.jsx("div",{className:"mt-2 space-y-0.5",children:[{label:"Single",value:G.single},{label:"Double",value:G.double},{label:"Triple",value:G.triple},{label:"Quad",value:G.quad},{label:"Child With Bed",value:G.cwb},{label:"Child No Bed",value:G.cnb}].filter(Ee=>Ee.value&&parseInt(Ee.value)>0).map((Ee,rt)=>a.jsxs("div",{className:"text-xs text-gray-600",children:["Room: ",Ee.value," ",Ee.label," | Meal: ",G.mealPlan||"N/A"]},rt))})]},ye))}):a.jsx("p",{className:"text-sm text-gray-600",children:z.details||"No details provided"})]}),a.jsx("button",{className:"text-blue-500 hover:text-blue-700 flex-shrink-0",onClick:()=>{var G,ye,Ee,rt,Tr,rs,Qn,Sn,Bi,Kr,sn,kn,Ui,Rd,Fd,zd,Bd,Ud,Hd,oo,Wd,Kd,qd,Vd,co,uo,ns,Hi,mo,fo;y({subject:z.subject||"",details:z.details||"",image:z.image||null,eventType:z.eventType||"",id:z.id||ce,destination:z.destination||"",type:z.type||"Manual",name:z.name||"",date:z.date||"",startTime:z.startTime||"1:00 PM",endTime:z.endTime||"2:00 PM",showTime:z.showTime||!1,hotelOptions:z.hotelOptions||[],editingOptionIndex:null,hotelName:((ye=(G=z.hotelOptions)==null?void 0:G[0])==null?void 0:ye.hotelName)||"",hotel_id:((rt=(Ee=z.hotelOptions)==null?void 0:Ee[0])==null?void 0:rt.hotel_id)||null,category:((rs=(Tr=z.hotelOptions)==null?void 0:Tr[0])==null?void 0:rs.category)||"1",roomName:((Sn=(Qn=z.hotelOptions)==null?void 0:Qn[0])==null?void 0:Sn.roomName)||"",mealPlan:((Kr=(Bi=z.hotelOptions)==null?void 0:Bi[0])==null?void 0:Kr.mealPlan)||"",single:((kn=(sn=z.hotelOptions)==null?void 0:sn[0])==null?void 0:kn.single)||"",double:((Rd=(Ui=z.hotelOptions)==null?void 0:Ui[0])==null?void 0:Rd.double)||"",triple:((zd=(Fd=z.hotelOptions)==null?void 0:Fd[0])==null?void 0:zd.triple)||"",quad:((Ud=(Bd=z.hotelOptions)==null?void 0:Bd[0])==null?void 0:Ud.quad)||"",cwb:((oo=(Hd=z.hotelOptions)==null?void 0:Hd[0])==null?void 0:oo.cwb)||"",cnb:((Kd=(Wd=z.hotelOptions)==null?void 0:Wd[0])==null?void 0:Kd.cnb)||"",checkIn:((Vd=(qd=z.hotelOptions)==null?void 0:qd[0])==null?void 0:Vd.checkIn)||"",checkInTime:((uo=(co=z.hotelOptions)==null?void 0:co[0])==null?void 0:uo.checkInTime)||"2:00 PM",checkOut:((Hi=(ns=z.hotelOptions)==null?void 0:ns[0])==null?void 0:Hi.checkOut)||"",checkOutTime:((fo=(mo=z.hotelOptions)==null?void 0:mo[0])==null?void 0:fo.checkOutTime)||"11:00",transferType:z.transferType||"Private",mealType:z.mealType||"Breakfast"}),j(z.image||null),v(!0)},children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{className:"text-red-500 hover:text-red-700 flex-shrink-0",onClick:()=>{const G=O[d],ye=G.findIndex(rt=>rt.id&&rt.id===z.id||G.indexOf(rt)===ce),Ee=G.filter((rt,Tr)=>Tr!==ye);E({...O,[d]:Ee})},children:a.jsx(Le,{className:"h-5 w-5"})})]})},z.id||ce))})():a.jsx("div",{className:"min-h-[300px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("p",{className:"text-sm",children:"No events added yet"}),a.jsx("p",{className:"text-xs mt-1",children:'Click "New Event" to add activities'})]})})})]})})}),a.jsx("div",{className:"col-span-3",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",value:J,onChange:N=>ie(N.target.value),placeholder:"Search",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})}),a.jsx("div",{children:a.jsxs("select",{value:Re,onChange:N=>{Er(N.target.value),ie(""),ee("database")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:[a.jsx("option",{value:"day-itinerary",children:"Day Itinerary"}),a.jsx("option",{value:"accommodation",children:"Accommodation"}),a.jsx("option",{value:"activity",children:"Activity"}),a.jsx("option",{value:"transportation",children:"Transportation"}),a.jsx("option",{value:"visa",children:"Insurance / Visa"}),a.jsx("option",{value:"meal",children:"Meal"}),a.jsx("option",{value:"flight",children:"Flight"}),a.jsx("option",{value:"leisure",children:"Leisure"}),a.jsx("option",{value:"cruise",children:"Cruise"})]})}),Re==="accommodation"&&a.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[a.jsx("button",{onClick:()=>{ee("database"),_d()},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${he==="database"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"From Database"}),a.jsxs("button",{onClick:()=>{ee("manual"),se(!0)},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-1 ${he==="manual"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[a.jsx(Ke,{className:"h-4 w-4"}),"Add Manual"]}),a.jsxs("button",{onClick:()=>{ee("api"),pe(!0)},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-1 ${he==="api"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[a.jsx(Ke,{className:"h-4 w-4"}),"From API"]})]}),a.jsxs("div",{className:"max-h-[600px] overflow-y-auto space-y-3",children:[Re==="day-itinerary"&&a.jsx(a.Fragment,{children:c.filter(N=>{if(!J)return!0;const z=J.toLowerCase();return(N.title||"").toLowerCase().includes(z)||(N.destination||"").toLowerCase().includes(z)||(N.details||"").toLowerCase().includes(z)}).map(N=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{d&&Ed(N.id)},children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200 flex-shrink-0",children:N.image?a.jsx("img",{src:N.image,alt:N.title||"Day Itinerary",className:"w-full h-full object-cover",onError:z=>{z.target.style.display="none";const ce=z.target.parentElement;if(ce&&!ce.querySelector(".no-photo-text")){const G=document.createElement("span");G.className="no-photo-text text-xs text-gray-400 font-medium",G.textContent="NO PHOTO",ce.appendChild(G)}}}):a.jsx(Oa,{className:"h-6 w-6 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:N.title||N.destination||"Day Itinerary"}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:N.details||N.destination||"No description"})]}),a.jsx("button",{onClick:z=>{z.stopPropagation(),d&&Ed(N.id)},className:"w-8 h-8 bg-black text-white rounded-full flex items-center justify-center hover:bg-gray-800 flex-shrink-0",children:a.jsx(Ke,{className:"h-4 w-4"})})]},N.id))}),Re==="activity"&&a.jsx(a.Fragment,{children:lr?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):Ar.filter(N=>{if(!J)return!0;const z=J.toLowerCase();return(N.activity_name||"").toLowerCase().includes(z)||(N.destination||"").toLowerCase().includes(z)||(N.activity_details||"").toLowerCase().includes(z)}).map(N=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{if(d){const z={id:Date.now(),subject:N.activity_name||"Activity",details:N.activity_details||"",destination:N.destination||"",eventType:"activity",image:N.activity_photo||null,type:"Manual",name:N.activity_name||"",date:"",startTime:"1:00 PM",endTime:"2:00 PM",showTime:!1,hotelOptions:[],editingOptionIndex:null};Kt(z)}},children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200 flex-shrink-0",children:N.activity_photo?a.jsx("img",{src:N.activity_photo,alt:N.activity_name||"Activity",className:"w-full h-full object-cover",onError:z=>{z.target.style.display="none";const ce=z.target.parentElement;if(ce&&!ce.querySelector(".no-photo-text")){const G=document.createElement("span");G.className="no-photo-text text-xs text-gray-400 font-medium",G.textContent="NO PHOTO",ce.appendChild(G)}}}):a.jsx(Oa,{className:"h-6 w-6 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:N.activity_name||"Activity"}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:N.activity_details||N.destination||"No description"})]}),a.jsx("button",{onClick:z=>{if(z.stopPropagation(),d){const ce={id:Date.now(),subject:N.activity_name||"Activity",details:N.activity_details||"",destination:N.destination||"",eventType:"activity",image:N.activity_photo||null,type:"Manual",name:N.activity_name||"",date:"",startTime:"1:00 PM",endTime:"2:00 PM",showTime:!1,hotelOptions:[],editingOptionIndex:null};Kt(ce)}},className:"w-8 h-8 bg-black text-white rounded-full flex items-center justify-center hover:bg-gray-800 flex-shrink-0",children:a.jsx(Ke,{className:"h-4 w-4"})})]},N.id))}),Re==="accommodation"&&a.jsxs(a.Fragment,{children:[he==="database"&&a.jsx(a.Fragment,{children:Qe?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Suggested Accommodation in ",((Id=tr[d-1])==null?void 0:Id.destination)||"null"]}),we.length>0?we.filter(N=>{if(!J)return!0;const z=J.toLowerCase();return(N.hotelName||N.name||"").toLowerCase().includes(z)||(N.address||"").toLowerCase().includes(z)||(N.destination||"").toLowerCase().includes(z)}).map(N=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>lo(N),children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200 flex-shrink-0",children:N.image?a.jsx("img",{src:N.image,alt:N.hotelName||N.name||"Hotel",className:"w-full h-full object-cover",onError:z=>{z.target.style.display="none";const ce=z.target.parentElement;if(ce&&!ce.querySelector(".no-photo-text")){const G=document.createElement("span");G.className="no-photo-text text-xs text-gray-400 font-medium",G.textContent="NO PHOTO",ce.appendChild(G)}}}):a.jsx(Wh,{className:"h-6 w-6 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:N.hotelName||N.name||"Hotel"}),N.rating&&a.jsx("div",{className:"flex items-center gap-1 mb-1",children:[...Array(Math.floor(N.rating))].map((z,ce)=>a.jsx(aa,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},ce))}),N.address&&a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:N.address})]}),a.jsx("button",{onClick:z=>{z.stopPropagation(),lo(N)},className:"w-8 h-8 bg-black text-white rounded-full flex items-center justify-center hover:bg-gray-800 flex-shrink-0",children:a.jsx(Ke,{className:"h-4 w-4"})})]},N.id)):a.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'No hotels found in database. Use "+ Add Manual" to add hotels.'})]})}),he==="api"&&a.jsx(a.Fragment,{children:te?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsx(a.Fragment,{children:fe.length>0?fe.filter(N=>{if(!J)return!0;const z=J.toLowerCase();return(N.hotelName||N.name||"").toLowerCase().includes(z)||(N.address||"").toLowerCase().includes(z)}).map(N=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200 flex-shrink-0",children:N.image?a.jsx("img",{src:N.image,alt:N.hotelName||N.name||"Hotel",className:"w-full h-full object-cover",onError:z=>{z.target.style.display="none";const ce=z.target.parentElement;if(ce&&!ce.querySelector(".no-photo-text")){const G=document.createElement("span");G.className="no-photo-text text-xs text-gray-400 font-medium",G.textContent="NO PHOTO",ce.appendChild(G)}}}):a.jsx(Wh,{className:"h-6 w-6 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:N.hotelName||N.name||"Hotel"}),N.rating&&a.jsx("div",{className:"flex items-center gap-1 mb-1",children:[...Array(Math.floor(N.rating))].map((z,ce)=>a.jsx(aa,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},ce))}),N.address&&a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:N.address}),a.jsx("button",{onClick:z=>{z.stopPropagation(),uh(N.id,N.hotelName||N.name)},className:"bg-blue-600 text-white px-4 py-1.5 rounded text-xs font-medium hover:bg-blue-700 transition-colors",children:no===N.id?"Hide Rooms":"View Rooms"})]})]}),no===N.id&&a.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:Wr?a.jsx("div",{className:"flex items-center justify-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):Ws[N.id]&&Ws[N.id].length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-5 gap-2 text-xs font-semibold text-gray-700 mb-2 pb-2 border-b border-gray-300",children:[a.jsx("div",{children:"Room Name"}),a.jsx("div",{children:"Number of guests"}),a.jsx("div",{children:"Meal Plan"}),a.jsx("div",{children:"Total Price"}),a.jsx("div",{})]}),Ws[N.id].map(z=>a.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center text-sm bg-white p-3 rounded border border-gray-200",children:[a.jsx("div",{className:"text-gray-900",children:z.name}),a.jsx("div",{className:"text-gray-600",children:z.guests}),a.jsx("div",{className:"text-gray-600",children:z.mealPlan}),a.jsxs("div",{className:"text-gray-900 font-semibold",children:["Rs. ",z.price.toLocaleString()]}),a.jsx("div",{children:a.jsx("button",{onClick:()=>Cd(N,z),className:"bg-blue-600 text-white px-4 py-1.5 rounded text-xs font-medium hover:bg-blue-700 transition-colors w-full",children:"Select"})})]},z.id))]}):a.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No rooms available"})})]},N.id)):a.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "+ From API" to search hotels'})})})]}),(Re==="transportation"||Re==="visa"||Re==="meal"||Re==="flight"||Re==="leisure"||Re==="cruise")&&a.jsxs("div",{className:"text-center py-8 text-gray-500 text-sm",children:[Re.charAt(0).toUpperCase()+Re.slice(1)," items will be displayed here"]})]})]})})})]})]}),l==="pricing"&&a.jsx(TZ,{itinerary:r,dayEvents:O,pricingData:Nn,setPricingData:Fi,finalClientPrices:ha,setFinalClientPrices:Ks,baseMarkup:wt,setBaseMarkup:Yn,extraMarkup:ts,setExtraMarkup:so,cgst:ga,setCgst:bd,sgst:xa,setSgst:jd,igst:qs,setIgst:io,tcs:Vs,setTcs:wd,discount:ya,setDiscount:Nd,onAddToProposals:or}),l==="final"&&a.jsx(DZ,{itinerary:r,dayEvents:O,pricingData:Nn,finalClientPrices:ha,packageTerms:ao,baseMarkup:wt,extraMarkup:ts,cgst:ga,sgst:xa,igst:qs,tcs:Vs,discount:ya}),a.jsxs("div",{className:"fixed right-6 top-24 space-y-3 z-10",children:[a.jsxs("button",{className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-green-600 flex items-center gap-2 transition-colors text-sm font-medium",title:"Share via WhatsApp",children:[a.jsx(NM,{className:"h-4 w-4"}),"Share"]}),a.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-green-700 flex items-center gap-2 transition-colors text-sm font-medium",title:"Export",children:[a.jsx(Os,{className:"h-4 w-4"}),"Export"]}),a.jsxs("button",{className:"bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-red-600 flex items-center gap-2 transition-colors text-sm font-medium",title:"Share",children:[a.jsx(y0,{className:"h-4 w-4"}),"Share"]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:h.eventType==="visa"?`Insurance / Visa in day ${d}`:h.eventType?`${h.eventType.charAt(0).toUpperCase()+h.eventType.slice(1)} in day ${d}`:`Day ${d} Details`}),h.eventType&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1 capitalize",children:["Event Type: ",h.eventType]})]}),a.jsx("button",{onClick:()=>{v(!1),y({subject:"",details:"",image:null,eventType:"",id:null,destination:"",type:"Manual",hotelOptions:[],editingOptionIndex:null,hotelName:"",hotel_id:null,category:"1",roomName:"",mealPlan:"",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",name:"",date:"",startTime:"1:00 PM",endTime:"2:00 PM",showTime:!1,transferType:"Private",mealType:"Breakfast"}),j(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[h.eventType==="accommodation"?a.jsxs(a.Fragment,{children:[h.id&&h.hotelOptions&&h.hotelOptions.length>0&&a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Hotel Options"}),h.hotelOptions.map((N,z)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pl,{className:"h-8 w-8 text-blue-600"}),N.image&&a.jsx("button",{className:"absolute -bottom-1 -right-1 bg-black/50 rounded-full p-1",children:a.jsx(At,{className:"h-3 w-3 text-white"})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:N.hotelName||"Hotel Name"}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[[...Array(parseInt(N.category||1))].map((ce,G)=>a.jsx(aa,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},G)),a.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Option ",N.optionNumber||z+1]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:"Check-in:"}),a.jsx("span",{className:"font-medium",children:N.checkIn?new Date(N.checkIn).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:"Check-out:"}),a.jsx("span",{className:"font-medium",children:N.checkOut?new Date(N.checkOut).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zo,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:"Room:"}),a.jsxs("span",{className:"font-medium",children:["#",N.roomName||"N/A"]})]})]}),a.jsx("div",{className:"mt-3 space-y-1",children:[{label:"Single",value:N.single},{label:"Double",value:N.double},{label:"Triple",value:N.triple},{label:"Quad",value:N.quad},{label:"Child With Bed",value:N.cwb},{label:"Child No Bed",value:N.cnb}].filter(ce=>ce.value&&parseInt(ce.value)>0).map((ce,G)=>a.jsxs("div",{className:"text-sm text-gray-700",children:["Room: ",ce.value," ",ce.label," | Meal: ",N.mealPlan||"N/A"]},G))}),N.details&&a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:N.details})]},z))]}),!h.id&&a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:h.editingOptionIndex!==null?`Edit Option ${h.editingOptionIndex+1}`:"Add Hotel Option"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),a.jsxs("select",{value:h.destination,onChange:N=>{const z=N.target.value;y({...h,destination:z}),z&&(Ys("",z),Se(!0))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Destination"}),c.map(N=>a.jsx("option",{value:N.destination,children:N.destination},N.id)),((Md=tr[d-1])==null?void 0:Md.destination)&&a.jsx("option",{value:tr[d-1].destination,children:tr[d-1].destination})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),a.jsxs("select",{value:h.type,onChange:N=>y({...h,type:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Manual",children:"Manual"}),a.jsx("option",{value:"Automatic",children:"Automatic"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hotel Name"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:h.hotelName,onChange:N=>{y({...h,hotelName:N.target.value}),N.target.value.length>2&&h.destination?(Ys(N.target.value,h.destination),Se(!0)):xe([])},onFocus:()=>{h.destination&&fe.length===0&&Ys("",h.destination),Se(!0)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter hotel name or search"}),h.destination&&a.jsx("button",{type:"button",onClick:()=>{Ys("",h.destination),Se(!0)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-600 hover:text-blue-700",title:"Search hotels",children:a.jsx(It,{className:"h-4 w-4"})})]}),je&&fe.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:fe.map(N=>a.jsxs("div",{onClick:()=>lo(N),className:"p-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[a.jsx("div",{className:"font-medium text-gray-900 text-sm",children:N.hotelName||N.name}),N.rating&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[[...Array(Math.floor(N.rating))].map((z,ce)=>a.jsx(aa,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},ce)),a.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:[N.rating," stars"]})]}),N.address&&a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:N.address})]},N.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{value:h.category,onChange:N=>y({...h,category:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"1",children:"1 Star"}),a.jsx("option",{value:"2",children:"2 Stars"}),a.jsx("option",{value:"3",children:"3 Stars"}),a.jsx("option",{value:"4",children:"4 Stars"}),a.jsx("option",{value:"5",children:"5 Stars"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Name"}),a.jsx("input",{type:"text",value:h.roomName,onChange:N=>y({...h,roomName:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter room name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meal Plan"}),a.jsx("input",{type:"text",value:h.mealPlan,onChange:N=>y({...h,mealPlan:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter meal plan"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter Number of Rooms"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Single"}),a.jsx("input",{type:"number",value:h.single,onChange:N=>y({...h,single:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Double"}),a.jsx("input",{type:"number",value:h.double,onChange:N=>y({...h,double:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Triple"}),a.jsx("input",{type:"number",value:h.triple,onChange:N=>y({...h,triple:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Quad"}),a.jsx("input",{type:"number",value:h.quad,onChange:N=>y({...h,quad:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"CWB (Child With Bed)"}),a.jsx("input",{type:"number",value:h.cwb,onChange:N=>y({...h,cwb:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"CNB (Child No Bed)"}),a.jsx("input",{type:"number",value:h.cnb,onChange:N=>y({...h,cnb:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Check-in ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"date",value:h.checkIn,onChange:N=>y({...h,checkIn:N.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsxs("select",{value:h.checkInTime,onChange:N=>y({...h,checkInTime:N.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"12:00 AM",children:"12:00 AM"}),a.jsx("option",{value:"1:00 AM",children:"1:00 AM"}),a.jsx("option",{value:"2:00 AM",children:"2:00 AM"}),a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"}),a.jsx("option",{value:"4:00 PM",children:"4:00 PM"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Check-out ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"date",value:h.checkOut,onChange:N=>y({...h,checkOut:N.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsxs("select",{value:h.checkOutTime,onChange:N=>y({...h,checkOutTime:N.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"10:00",children:"10:00"}),a.jsx("option",{value:"11:00",children:"11:00"}),a.jsx("option",{value:"12:00 PM",children:"12:00 PM"}),a.jsx("option",{value:"1:00 PM",children:"1:00 PM"})]})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:h.details,onChange:N=>y({...h,details:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter description",rows:"3"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hotel Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:N=>{const z=N.target.files[0];if(z){y({...h,image:z});const ce=new FileReader;ce.onloadend=()=>{j(ce.result)},ce.readAsDataURL(z)}},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),b&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:b,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"})})]}),a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsxs("button",{onClick:()=>{var G;const N=h.hotelOptions||[];let z;h.editingOptionIndex!==null?z=((G=N[h.editingOptionIndex])==null?void 0:G.optionNumber)||h.editingOptionIndex+1:z=(N.length>0?Math.max(...N.map(Ee=>Ee.optionNumber||0)):0)+1;const ce={hotelName:h.hotelName,hotel_id:h.hotel_id,category:h.category,roomName:h.roomName,mealPlan:h.mealPlan,single:h.single,double:h.double,triple:h.triple,quad:h.quad,cwb:h.cwb,cnb:h.cnb,checkIn:h.checkIn,checkInTime:h.checkInTime,checkOut:h.checkOut,checkOutTime:h.checkOutTime,destination:h.destination,details:h.details,image:b||h.image,optionNumber:z};if(h.editingOptionIndex!==null){const ye=[...N];ye[h.editingOptionIndex]=ce,y({...h,hotelOptions:ye,editingOptionIndex:null,hotelName:"",hotel_id:null,category:"1",roomName:"",mealPlan:"",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",details:"",image:null}),j(null)}else{if(N.length>=pa){alert(`Maximum ${pa} hotel options allowed. Please remove an existing option first.`);return}y({...h,hotelOptions:[...N,ce],hotelName:"",hotel_id:null,category:"1",roomName:"",mealPlan:"",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",details:"",image:null}),j(null)}},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-medium",children:[a.jsx(Ke,{className:"h-4 w-4"}),h.editingOptionIndex!==null?"Update Option":"Add Option"]}),h.editingOptionIndex!==null&&a.jsx("button",{onClick:()=>{y({...h,editingOptionIndex:null,hotelName:"",hotel_id:null,category:"1",roomName:"",mealPlan:"",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",details:"",image:null}),j(null)},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 text-sm font-medium",children:"Cancel Edit"})]})]})]}):h.eventType==="activity"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),a.jsxs("select",{value:h.destination,onChange:N=>y({...h,destination:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Destination"}),c.map(N=>a.jsx("option",{value:N.destination,children:N.destination},N.id)),(($d=tr[d-1])==null?void 0:$d.destination)&&a.jsx("option",{value:tr[d-1].destination,children:tr[d-1].destination})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),a.jsxs("select",{value:h.type,onChange:N=>y({...h,type:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Manual",children:"Manual"}),a.jsx("option",{value:"Automatic",children:"Automatic"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),a.jsx("input",{type:"text",value:h.name,onChange:N=>y({...h,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter activity name"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:h.date,onChange:N=>y({...h,date:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start time"}),a.jsxs("select",{value:h.startTime,onChange:N=>y({...h,startTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"12:00 AM",children:"12:00 AM"}),a.jsx("option",{value:"1:00 AM",children:"1:00 AM"}),a.jsx("option",{value:"2:00 AM",children:"2:00 AM"}),a.jsx("option",{value:"1:00 PM",children:"1:00 PM"}),a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"}),a.jsx("option",{value:"4:00 PM",children:"4:00 PM"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End time"}),a.jsxs("select",{value:h.endTime,onChange:N=>y({...h,endTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"12:00 AM",children:"12:00 AM"}),a.jsx("option",{value:"1:00 AM",children:"1:00 AM"}),a.jsx("option",{value:"2:00 AM",children:"2:00 AM"}),a.jsx("option",{value:"1:00 PM",children:"1:00 PM"}),a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"}),a.jsx("option",{value:"4:00 PM",children:"4:00 PM"})]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"showTime",checked:h.showTime,onChange:N=>y({...h,showTime:N.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"showTime",className:"ml-2 block text-sm text-gray-700",children:"Show Time"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:h.details,onChange:N=>y({...h,details:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter description",rows:"4"})]})]}):h.eventType==="transportation"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),a.jsxs("select",{value:h.destination,onChange:N=>y({...h,destination:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Destination"}),c.map(N=>a.jsx("option",{value:N.destination,children:N.destination},N.id)),((Ld=tr[d-1])==null?void 0:Ld.destination)&&a.jsx("option",{value:tr[d-1].destination,children:tr[d-1].destination})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),a.jsxs("select",{value:h.transferType,onChange:N=>y({...h,transferType:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Private",children:"Private"}),a.jsx("option",{value:"Shared",children:"Shared"}),a.jsx("option",{value:"SIC",children:"SIC"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:h.date,onChange:N=>y({...h,date:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),a.jsxs("select",{value:h.type,onChange:N=>y({...h,type:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Manual",children:"Manual"}),a.jsx("option",{value:"Automatic",children:"Automatic"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),a.jsx("input",{type:"text",value:h.name,onChange:N=>y({...h,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter transportation name"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start time"}),a.jsxs("select",{value:h.startTime,onChange:N=>y({...h,startTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"1:00 PM",children:"1:00 PM"}),a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End time"}),a.jsxs("select",{value:h.endTime,onChange:N=>y({...h,endTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"}),a.jsx("option",{value:"4:00 PM",children:"4:00 PM"})]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"showTimeTransport",checked:h.showTime,onChange:N=>y({...h,showTime:N.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"showTimeTransport",className:"ml-2 block text-sm text-gray-700",children:"Show Time"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:h.details,onChange:N=>y({...h,details:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter description",rows:"4"})]})]}):h.eventType==="flight"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),a.jsxs("select",{value:h.destination,onChange:N=>y({...h,destination:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Destination"}),c.map(N=>a.jsx("option",{value:N.destination,children:N.destination},N.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),a.jsxs("select",{value:h.type,onChange:N=>y({...h,type:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Manual",children:"Manual"}),a.jsx("option",{value:"Automatic",children:"Automatic"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),a.jsx("input",{type:"text",value:h.name,onChange:N=>y({...h,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter flight name"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:h.date,onChange:N=>y({...h,date:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start time"}),a.jsxs("select",{value:h.startTime,onChange:N=>y({...h,startTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"1:00 PM",children:"1:00 PM"}),a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End time"}),a.jsxs("select",{value:h.endTime,onChange:N=>y({...h,endTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"}),a.jsx("option",{value:"4:00 PM",children:"4:00 PM"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:h.details,onChange:N=>y({...h,details:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter description",rows:"4"})]})]}):h.eventType==="meal"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),a.jsx("input",{type:"text",value:h.name,onChange:N=>y({...h,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter meal name"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),a.jsxs("select",{value:h.destination,onChange:N=>y({...h,destination:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Destination"}),c.map(N=>a.jsx("option",{value:N.destination,children:N.destination},N.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meal Type"}),a.jsxs("select",{value:h.mealType,onChange:N=>y({...h,mealType:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Breakfast",children:"Breakfast"}),a.jsx("option",{value:"Lunch",children:"Lunch"}),a.jsx("option",{value:"Dinner",children:"Dinner"}),a.jsx("option",{value:"Snacks",children:"Snacks"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:h.date,onChange:N=>y({...h,date:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start time"}),a.jsxs("select",{value:h.startTime,onChange:N=>y({...h,startTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"1:00 PM",children:"1:00 PM"}),a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End time"}),a.jsxs("select",{value:h.endTime,onChange:N=>y({...h,endTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"}),a.jsx("option",{value:"4:00 PM",children:"4:00 PM"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:h.details,onChange:N=>y({...h,details:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter description",rows:"4"})]})]}):h.eventType==="visa"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),a.jsx("input",{type:"text",value:h.name,onChange:N=>y({...h,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter visa/insurance name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),a.jsxs("select",{value:h.destination,onChange:N=>y({...h,destination:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Destination"}),c.map(N=>a.jsx("option",{value:N.destination,children:N.destination},N.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:h.date,onChange:N=>y({...h,date:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:h.details,onChange:N=>y({...h,details:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter description",rows:"4"})]})]}):h.eventType==="leisure"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),a.jsx("input",{type:"text",value:h.name||"Day at Leisure",onChange:N=>y({...h,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter leisure name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),a.jsxs("select",{value:h.destination,onChange:N=>y({...h,destination:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Destination"}),c.map(N=>a.jsx("option",{value:N.destination,children:N.destination},N.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:h.details,onChange:N=>y({...h,details:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter description",rows:"4"})]})]}):h.eventType==="cruise"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),a.jsx("input",{type:"text",value:h.name,onChange:N=>y({...h,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter cruise name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),a.jsxs("select",{value:h.destination,onChange:N=>y({...h,destination:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Destination"}),c.map(N=>a.jsx("option",{value:N.destination,children:N.destination},N.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:h.date,onChange:N=>y({...h,date:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start time"}),a.jsxs("select",{value:h.startTime,onChange:N=>y({...h,startTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"1:00 PM",children:"1:00 PM"}),a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End time"}),a.jsxs("select",{value:h.endTime,onChange:N=>y({...h,endTime:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"}),a.jsx("option",{value:"4:00 PM",children:"4:00 PM"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:h.details,onChange:N=>y({...h,details:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter description",rows:"4"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),a.jsx("input",{type:"text",value:h.subject,onChange:N=>y({...h,subject:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter subject"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Details"}),a.jsx("textarea",{value:h.details,onChange:N=>y({...h,details:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter details",rows:"6"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:N=>{const z=N.target.files[0];if(z){y({...h,image:z});const ce=new FileReader;ce.onloadend=()=>{j(ce.result)},ce.readAsDataURL(z)}},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),b&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:b,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"})})]})]}),a.jsxs("div",{className:"flex justify-end p-6 border-t border-gray-200",children:[a.jsx("button",{onClick:()=>{v(!1),y({subject:"",details:"",image:null,eventType:"",id:null,destination:"",type:"Manual",name:"",date:"",startTime:"1:00 PM",endTime:"2:00 PM",showTime:!1,hotelName:"",category:"1",roomName:"",mealPlan:"",hotelOption:"Option 1",single:"",double:"",triple:"",quad:"",cwb:"",cnb:"",checkIn:"",checkInTime:"2:00 PM",checkOut:"",checkOutTime:"11:00",transferType:"Private",mealType:"Breakfast"}),j(null)},className:"px-4 py-2 text-gray-700 hover:text-gray-900 mr-3",children:"Cancel"}),a.jsx("button",{onClick:async()=>{var G;let N="";if(h.eventType==="accommodation"){if(!h.hotelOptions||h.hotelOptions.length===0){alert("Please add at least one hotel option");return}N=((G=h.hotelOptions[0])==null?void 0:G.hotelName)||h.destination||"Accommodation"}else if(["activity","transportation","flight","meal","cruise","leisure"].includes(h.eventType)){if(N=h.name||h.subject||"",!N.trim()){alert(`Please enter ${h.eventType} name`);return}}else if(h.eventType==="visa")N=h.name||"Insurance / Visa";else if(N=h.subject||"",!N.trim()){alert("Please enter a subject");return}let z=b||h.image;const ce=ye=>{const Ee={id:h.id||Date.now(),subject:N,details:h.details,eventType:h.eventType,image:ye,destination:h.destination,type:h.type,name:h.name,date:h.date,startTime:h.startTime,endTime:h.endTime,showTime:h.showTime};return h.eventType==="accommodation"&&(Ee.hotelOptions=h.hotelOptions||[],Ee.destination=h.destination,Ee.type=h.type),h.eventType==="transportation"&&(Ee.transferType=h.transferType),h.eventType==="meal"&&(Ee.mealType=h.mealType),Ee};if(h.image instanceof File){const ye=new FileReader;ye.onloadend=()=>{Kt(ce(ye.result))},ye.readAsDataURL(h.image)}else Kt(ce(z))},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 font-medium",children:"Save"})]})]})}),k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 my-auto max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-white",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Change Cover Photo"}),a.jsx("button",{onClick:()=>{T(!1),W(null),ae(null),L([]),X("travel")},className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-1 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[a.jsx("button",{onClick:()=>D("upload"),className:`px-4 py-2 font-medium transition-colors ${A==="upload"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Upload Image"}),a.jsx("button",{onClick:()=>{D("unsplash"),S.length===0&&zi()},className:`px-4 py-2 font-medium transition-colors ${A==="unsplash"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Free Images (Unsplash)"})]}),A==="upload"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Image File"}),a.jsx("input",{type:"file",accept:"image/*",onChange:N=>{const z=N.target.files[0];if(z){W(z);const ce=new FileReader;ce.onloadend=()=>{ae(ce.result)},ce.readAsDataURL(z)}},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer border border-gray-300 rounded-lg"})]}),B&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),a.jsx("div",{className:"relative w-full h-64 border-2 border-gray-300 rounded-lg overflow-hidden bg-gray-50",children:a.jsx("img",{src:B,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),A==="unsplash"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search for images (e.g., mountains, beach, city)",value:F,onChange:N=>X(N.target.value),onKeyPress:N=>{N.key==="Enter"&&zi()},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("button",{onClick:zi,disabled:Q,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:Q?"Loading...":"Search"})]}),Q&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!Q&&S.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:S.map(N=>a.jsxs("div",{onClick:()=>{ae(N.urls.regular),W(null)},className:`relative aspect-video rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${B===N.urls.regular?"border-blue-600 ring-2 ring-blue-300":"border-gray-200 hover:border-blue-400"}`,children:[a.jsx("img",{src:N.urls.thumb,alt:N.alt_description||"Unsplash image",className:"w-full h-full object-cover"}),B===N.urls.regular&&a.jsx("div",{className:"absolute inset-0 bg-blue-600/20 flex items-center justify-center",children:a.jsx("div",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Selected"})})]},N.id))}),!Q&&S.length===0&&F&&a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No images found. Try a different search term."})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[a.jsx("button",{onClick:()=>{T(!1),W(null),ae(null),L([])},className:"px-6 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),a.jsx("button",{onClick:Od,disabled:!M&&!B,className:"bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium shadow-sm transition-colors",children:"Save Cover Photo"})]})]})})]})}),R&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Accommodation in day ",d]}),a.jsx("button",{onClick:()=>{se(!1),ee("database")},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"p-6",children:a.jsx("button",{onClick:()=>{var N;y({...h,eventType:"accommodation",destination:((N=tr[d-1])==null?void 0:N.destination)||""}),se(!1),v(!0),ee("database")},className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Open Accommodation Form"})})]})}),de&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Accommodation in day ",d]}),a.jsx("button",{onClick:()=>{pe(!1),ee("database")},className:"text-gray-400 hover:text-gray-600",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ENTER CITY NAME"}),a.jsx("input",{type:"text",value:Be.city,onChange:N=>Vn({...Be,city:N.target.value}),placeholder:"Enter city name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CHECK IN"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",value:Be.checkIn,onChange:N=>Vn({...Be,checkIn:N.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsxs("select",{value:Be.checkInTime||"2:00 PM",onChange:N=>Vn({...Be,checkInTime:N.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"2:00 PM",children:"2:00 PM"}),a.jsx("option",{value:"3:00 PM",children:"3:00 PM"}),a.jsx("option",{value:"4:00 PM",children:"4:00 PM"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CHECK OUT"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",value:Be.checkOut,onChange:N=>Vn({...Be,checkOut:N.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsxs("select",{value:Be.checkOutTime||"11:00",onChange:N=>Vn({...Be,checkOutTime:N.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"11:00",children:"11:00"}),a.jsx("option",{value:"12:00",children:"12:00"}),a.jsx("option",{value:"1:00 PM",children:"1:00 PM"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ROOMS & GUESTS"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"1",value:Be.rooms,onChange:N=>Vn({...Be,rooms:parseInt(N.target.value)||1}),className:"w-20 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-600",children:"Room"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx("input",{type:"number",min:"1",value:Be.guests,onChange:N=>Vn({...Be,guests:parseInt(N.target.value)||2}),className:"w-20 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-600",children:"Guest"})]})]}),a.jsx("button",{onClick:Pd,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Search Hotel"})]})]})})]}):a.jsx(ve,{children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500",children:"Itinerary not found"}),a.jsx("button",{onClick:()=>t("/itineraries"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Back to Itineraries"})]})})})},MZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:""}),[x,v]=f.useState(!1);f.useEffect(()=>{h()},[]);const h=async()=>{var E;try{n(!0);const k=await pu.list();t(k.data.data||k.data||[]),o("")}catch(k){((E=k.response)==null?void 0:E.status)===404?t([]):(o("Failed to load destinations"),console.error(k))}finally{n(!1)}},y=()=>{m(null),u(!0),g({name:""})},b=()=>{u(!1),m(null),g({name:""})},j=(E,k)=>{g(T=>({...T,[E]:k}))},P=async E=>{var k,T;E.preventDefault(),v(!0);try{d?(await pu.update(d,p),o("")):(await pu.create(p),o("")),await h(),b()}catch(A){o(((T=(k=A.response)==null?void 0:k.data)==null?void 0:T.message)||(d?"Failed to update destination":"Failed to add destination")),console.error(A)}finally{v(!1)}},_=E=>{m(E.id),u(!0),g({name:E.name||""})},C=async E=>{var k,T;if(window.confirm("Are you sure you want to delete this destination?"))try{await pu.delete(E),await h(),o("")}catch(A){o(((T=(k=A.response)==null?void 0:k.data)==null?void 0:T.message)||"Failed to delete destination"),console.error(A)}},O=e.filter(E=>{const k=E.name||"",T=s.toLowerCase();return k.toLowerCase().includes(T)});return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Destinations"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:E=>i(E.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"2",className:"px-6 py-4 text-center text-gray-500",children:"No destinations found"})}):O.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>_(E),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C(E.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full",title:"Delete",children:a.jsx(Kn,{className:"h-5 w-5"})})]})})]},E.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Destination":"Add Destination"}),a.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:P,children:[a.jsx("div",{className:"p-6 space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:p.name,onChange:E=>j("name",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter destination name",required:!0})]})}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})})]})})},$Z=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:"",status:"active"}),[x,v]=f.useState(!1);f.useEffect(()=>{h()},[]);const h=async()=>{var k;try{n(!0);const T=await hu.list();t(T.data.data||T.data||[]),o("")}catch(T){((k=T.response)==null?void 0:k.status)===404?t([]):(o("Failed to load room types"),console.error(T))}finally{n(!1)}},y=()=>{m(null),u(!0),g({name:"",status:"active"})},b=()=>{u(!1),m(null),g({name:"",status:"active"})},j=(k,T)=>{g(A=>({...A,[k]:T}))},P=async k=>{var T,A;k.preventDefault(),v(!0);try{d?(await hu.update(d,p),o("")):(await hu.create(p),o("")),await h(),b()}catch(D){o(((A=(T=D.response)==null?void 0:T.data)==null?void 0:A.message)||(d?"Failed to update room type":"Failed to add room type")),console.error(D)}finally{v(!1)}},_=k=>{m(k.id),u(!0),g({name:k.name||"",status:k.status||"active"})},C=async k=>{var T,A;if(window.confirm("Are you sure you want to delete this room type?"))try{await hu.delete(k),await h(),o("")}catch(D){o(((A=(T=D.response)==null?void 0:T.data)==null?void 0:A.message)||"Failed to delete room type"),console.error(D)}},O=e.filter(k=>{const T=k.name||"",A=s.toLowerCase();return T.toLowerCase().includes(A)}),E=k=>{if(!k)return"N/A";try{return new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return k}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Room Type"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:k=>i(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No room types found"})}):O.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.created_by_name||"Travbizz Travel IT Solutions"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:E(k.updated_at||k.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>_(k),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C(k.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full",title:"Delete",children:a.jsx(Kn,{className:"h-5 w-5"})})]})})]},k.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Room Type":"Add Room Type"}),a.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:P,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:p.name,onChange:k=>j("name",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter room type name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),a.jsxs("select",{value:p.status,onChange:k=>j("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})})]})})},LZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:"",status:"active"}),[x,v]=f.useState(!1);f.useEffect(()=>{h()},[]);const h=async()=>{var k;try{n(!0);const T=await gu.list();t(T.data.data||T.data||[]),o("")}catch(T){((k=T.response)==null?void 0:k.status)===404?t([]):(o("Failed to load meal plans"),console.error(T))}finally{n(!1)}},y=()=>{m(null),u(!0),g({name:"",status:"active"})},b=()=>{u(!1),m(null),g({name:"",status:"active"})},j=(k,T)=>{g(A=>({...A,[k]:T}))},P=async k=>{var T,A;k.preventDefault(),v(!0);try{d?(await gu.update(d,p),o("")):(await gu.create(p),o("")),await h(),b()}catch(D){o(((A=(T=D.response)==null?void 0:T.data)==null?void 0:A.message)||(d?"Failed to update meal plan":"Failed to add meal plan")),console.error(D)}finally{v(!1)}},_=k=>{m(k.id),u(!0),g({name:k.name||"",status:k.status||"active"})},C=async k=>{var T,A;if(window.confirm("Are you sure you want to delete this meal plan?"))try{await gu.delete(k),await h(),o("")}catch(D){o(((A=(T=D.response)==null?void 0:T.data)==null?void 0:A.message)||"Failed to delete meal plan"),console.error(D)}},O=e.filter(k=>{const T=k.name||"",A=s.toLowerCase();return T.toLowerCase().includes(A)}),E=k=>{if(!k)return"N/A";try{return new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return k}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Meal Plan"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:k=>i(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No meal plans found"})}):O.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.created_by_name||"Travbizz Travel IT Solutions"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:E(k.updated_at||k.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>_(k),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C(k.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full",title:"Delete",children:a.jsx(Kn,{className:"h-5 w-5"})})]})})]},k.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Meal Plan":"Add Meal Plan"}),a.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:P,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:p.name,onChange:k=>j("name",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter meal plan name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),a.jsxs("select",{value:p.status,onChange:k=>j("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})})]})})},RZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:"",status:"active"}),[x,v]=f.useState(!1);f.useEffect(()=>{h()},[]);const h=async()=>{var k;try{n(!0);const T=await $o.list();t(T.data.data||T.data||[]),o("")}catch(T){((k=T.response)==null?void 0:k.status)===404?t([]):(o("Failed to load lead sources"),console.error(T))}finally{n(!1)}},y=()=>{m(null),u(!0),g({name:"",status:"active"})},b=()=>{u(!1),m(null),g({name:"",status:"active"})},j=(k,T)=>{g(A=>({...A,[k]:T}))},P=async k=>{var T,A;k.preventDefault(),v(!0);try{d?(await $o.update(d,p),o("")):(await $o.create(p),o("")),await h(),b()}catch(D){o(((A=(T=D.response)==null?void 0:T.data)==null?void 0:A.message)||(d?"Failed to update lead source":"Failed to add lead source")),console.error(D)}finally{v(!1)}},_=k=>{m(k.id),u(!0),g({name:k.name||"",status:k.status||"active"})},C=async k=>{var T,A;if(window.confirm("Are you sure you want to delete this lead source?"))try{await $o.delete(k),await h(),o("")}catch(D){o(((A=(T=D.response)==null?void 0:T.data)==null?void 0:A.message)||"Failed to delete lead source"),console.error(D)}},O=e.filter(k=>{const T=k.name||"",A=s.toLowerCase();return T.toLowerCase().includes(A)}),E=k=>{if(!k)return"N/A";try{return new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return k}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Lead Source"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:k=>i(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No lead sources found"})}):O.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.created_by_name||"Travbizz Travel IT Solutions"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:E(k.updated_at||k.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>_(k),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C(k.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full",title:"Delete",children:a.jsx(Kn,{className:"h-5 w-5"})})]})})]},k.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Lead Source":"Add Lead Source"}),a.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:P,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:p.name,onChange:k=>j("name",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter lead source name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:p.status,onChange:k=>j("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})})]})})},FZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:"",status:"active"}),[x,v]=f.useState(!1);f.useEffect(()=>{h()},[]);const h=async()=>{var k;try{n(!0);const T=await xu.list();t(T.data.data||T.data||[]),o("")}catch(T){((k=T.response)==null?void 0:k.status)===404?t([]):(o("Failed to load expense types"),console.error(T))}finally{n(!1)}},y=()=>{m(null),u(!0),g({name:"",status:"active"})},b=()=>{u(!1),m(null),g({name:"",status:"active"})},j=(k,T)=>{g(A=>({...A,[k]:T}))},P=async k=>{var T,A;k.preventDefault(),v(!0);try{d?(await xu.update(d,p),o("")):(await xu.create(p),o("")),await h(),b()}catch(D){o(((A=(T=D.response)==null?void 0:T.data)==null?void 0:A.message)||(d?"Failed to update expense type":"Failed to add expense type")),console.error(D)}finally{v(!1)}},_=k=>{m(k.id),u(!0),g({name:k.name||"",status:k.status||"active"})},C=async k=>{var T,A;if(window.confirm("Are you sure you want to delete this expense type?"))try{await xu.delete(k),await h(),o("")}catch(D){o(((A=(T=D.response)==null?void 0:T.data)==null?void 0:A.message)||"Failed to delete expense type"),console.error(D)}},O=e.filter(k=>{const T=k.name||"",A=s.toLowerCase();return T.toLowerCase().includes(A)}),E=k=>{if(!k)return"N/A";try{return new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return k}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Expense Type"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:k=>i(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No expense types found"})}):O.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.created_by_name||"Travbizz Travel IT Solutions"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:E(k.updated_at||k.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>_(k),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C(k.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full",title:"Delete",children:a.jsx(Kn,{className:"h-5 w-5"})})]})})]},k.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Expense Type":"Add Expense Type"}),a.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:P,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:p.name,onChange:k=>j("name",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter expense type name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:p.status,onChange:k=>j("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})})]})})},zZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:"",icon:null,status:"active"}),[x,v]=f.useState(!1),[h,y]=f.useState(null);f.useEffect(()=>{b()},[]);const b=async()=>{var D;try{n(!0);const S=await yu.list();t(S.data.data||S.data||[]),o("")}catch(S){((D=S.response)==null?void 0:D.status)===404?t([]):(o("Failed to load package themes"),console.error(S))}finally{n(!1)}},j=()=>{m(null),u(!0),g({name:"",icon:null,status:"active"}),y(null)},P=()=>{u(!1),m(null),g({name:"",icon:null,status:"active"}),y(null)},_=(D,S)=>{g(L=>({...L,[D]:S}))},C=D=>{const S=D.target.files[0];if(S){if(!S.type.startsWith("image/")){o("Please select an image file");return}if(S.size>2*1024*1024){o("Image size should be less than 2MB");return}g(F=>({...F,icon:S}));const L=new FileReader;L.onloadend=()=>{y(L.result)},L.readAsDataURL(S),o("")}},O=async D=>{var S,L,F,X,Q,I;D.preventDefault(),v(!0);try{const M=new FormData;M.append("name",p.name),p.icon&&M.append("icon",p.icon),M.append("status",p.status),d?(await yu.update(d,M),o("")):(await yu.create(M),o("")),await b(),P()}catch(M){if((L=(S=M.response)==null?void 0:S.data)!=null&&L.errors){const W=M.response.data.errors,B=Object.values(W).flat().join(", ");o(B||((X=(F=M.response)==null?void 0:F.data)==null?void 0:X.message)||"Validation failed")}else o(((I=(Q=M.response)==null?void 0:Q.data)==null?void 0:I.message)||(d?"Failed to update package theme":"Failed to add package theme"));console.error(M)}finally{v(!1)}},E=D=>{m(D.id),u(!0),g({name:D.name||"",icon:null,status:D.status||"active"}),y(D.icon||null)},k=async D=>{var S,L;if(window.confirm("Are you sure you want to delete this package theme?"))try{await yu.delete(D),await b(),o("")}catch(F){o(((L=(S=F.response)==null?void 0:S.data)==null?void 0:L.message)||"Failed to delete package theme"),console.error(F)}},T=e.filter(D=>{const S=D.name||"",L=s.toLowerCase();return S.toLowerCase().includes(L)}),A=D=>{if(!D)return"N/A";try{return new Date(D).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return D}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Package Theme"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:D=>i(D.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:j,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No package themes found"})}):T.map(D=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[D.icon&&a.jsx("img",{src:D.icon,alt:D.name,className:"w-8 h-8 object-cover rounded",onError:S=>{S.target.style.display="none"}}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name||"N/A"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:D.created_by_name||"Travbizz Travel IT Solutions"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:A(D.updated_at||D.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>E(D),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>k(D.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full",title:"Delete",children:a.jsx(Kn,{className:"h-5 w-5"})})]})})]},D.id))})]})})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Theme":"Add Theme"}),a.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:O,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Name *"}),a.jsx("input",{type:"text",value:p.name,onChange:D=>_("name",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter theme name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon (128 x 128)"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),h&&a.jsx("div",{className:"w-16 h-16 border border-gray-300 rounded-lg overflow-hidden",children:a.jsx("img",{src:h,alt:"Icon preview",className:"w-full h-full object-cover"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended size: 128 x 128 pixels"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),a.jsxs("select",{value:p.status,onChange:D=>_("status",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})})]})})},BZ=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState(""),[l,o]=f.useState(""),[c,u]=f.useState(!1),[d,m]=f.useState(null),[p,g]=f.useState({name:"",rate:"",status:"active"}),[x,v]=f.useState(!1);f.useEffect(()=>{h()},[]);const h=async()=>{var k;try{n(!0);const T=await vu.list();t(T.data.data||T.data||[]),o("")}catch(T){((k=T.response)==null?void 0:k.status)===404?t([]):(o("Failed to load currencies"),console.error(T))}finally{n(!1)}},y=()=>{m(null),u(!0),g({name:"",rate:"",status:"active"})},b=()=>{u(!1),m(null),g({name:"",rate:"",status:"active"})},j=(k,T)=>{g(A=>({...A,[k]:T}))},P=async k=>{var T,A,D,S,L,F;k.preventDefault(),v(!0);try{d?(await vu.update(d,p),o("")):(await vu.create(p),o("")),await h(),b()}catch(X){if((A=(T=X.response)==null?void 0:T.data)!=null&&A.errors){const Q=X.response.data.errors,I=Object.values(Q).flat().join(", ");o(I||((S=(D=X.response)==null?void 0:D.data)==null?void 0:S.message)||"Validation failed")}else o(((F=(L=X.response)==null?void 0:L.data)==null?void 0:F.message)||(d?"Failed to update currency":"Failed to add currency"));console.error(X)}finally{v(!1)}},_=k=>{m(k.id),u(!0),g({name:k.name||"",rate:k.rate||"",status:k.status||"active"})},C=async k=>{var T,A;if(window.confirm("Are you sure you want to delete this currency?"))try{await vu.delete(k),await h(),o("")}catch(D){o(((A=(T=D.response)==null?void 0:T.data)==null?void 0:A.message)||"Failed to delete currency"),console.error(D)}},O=e.filter(k=>{const T=k.name||"",A=s.toLowerCase();return T.toLowerCase().includes(A)}),E=k=>{if(!k)return"N/A";try{return new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return k}};return r?a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(ve,{children:a.jsxs("div",{className:"p-6",style:{backgroundColor:"#D8DEF5",minHeight:"100vh"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Currency"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:s,onChange:k=>i(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),a.jsxs("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 font-medium",children:[a.jsx(Ke,{className:"h-5 w-5"}),"Add New"]})]})]}),l&&!r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency Rate(To INR)"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Update"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No currencies found"})}):O.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:k.rate||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status==="active"?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:E(k.updated_at||k.last_update)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>_(k),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full",title:"Edit",children:a.jsx(At,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C(k.id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full",title:"Delete",children:a.jsx(Kn,{className:"h-5 w-5"})})]})})]},k.id))})]})}),a.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Total Records: ",O.length]})})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Currency":"Add Currency"}),a.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Le,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:P,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:p.name,onChange:k=>j("name",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter currency name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:p.rate,onChange:k=>j("rate",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter exchange rate to INR",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),a.jsxs("select",{value:p.status,onChange:k=>j("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?d?"Updating...":"Saving...":"Save"})]})]})]})})]})})},UZ=()=>{const{user:e,loading:t}=Va();return t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs(hT,{children:[a.jsx(Me,{path:"/login",element:e&&e.id?a.jsx(ll,{to:"/dashboard",replace:!0}):a.jsx(lI,{})}),a.jsx(Me,{path:"/forgot-password",element:e&&e.id?a.jsx(ll,{to:"/dashboard",replace:!0}):a.jsx(oI,{})}),a.jsx(Me,{path:"/reset-password",element:e&&e.id?a.jsx(ll,{to:"/dashboard",replace:!0}):a.jsx(cI,{})}),a.jsx(Me,{path:"/dashboard",element:a.jsx(We,{children:a.jsx(rZ,{})})}),a.jsx(Me,{path:"/leads",element:a.jsx(We,{children:a.jsx(oZ,{})})}),a.jsx(Me,{path:"/leads/:id",element:a.jsx(We,{children:a.jsx(cZ,{})})}),a.jsx(Me,{path:"/followups",element:a.jsx(We,{children:a.jsx(dZ,{})})}),a.jsx(Me,{path:"/payments",element:a.jsx(We,{children:a.jsx(uZ,{})})}),a.jsx(Me,{path:"/itineraries",element:a.jsx(We,{children:a.jsx(AZ,{})})}),a.jsx(Me,{path:"/itineraries/:id",element:a.jsx(We,{children:a.jsx(IZ,{})})}),a.jsx(Me,{path:"/whatsapp",element:a.jsx(We,{children:a.jsx(mZ,{})})}),a.jsx(Me,{path:"/performance",element:a.jsx(We,{children:a.jsx(fZ,{})})}),a.jsx(Me,{path:"/analytics",element:a.jsx(We,{children:a.jsx(pZ,{})})}),a.jsx(Me,{path:"/users",element:a.jsx(We,{children:a.jsx(hZ,{})})}),a.jsx(Me,{path:"/users/add",element:a.jsx(We,{children:a.jsx(gZ,{})})}),a.jsx(Me,{path:"/targets",element:a.jsx(We,{children:a.jsx(xZ,{})})}),a.jsx(Me,{path:"/permissions",element:a.jsx(We,{children:a.jsx(yZ,{})})}),a.jsx(Me,{path:"/profile",element:a.jsx(We,{children:a.jsx(vZ,{})})}),a.jsx(Me,{path:"/settings",element:a.jsx(We,{children:a.jsx(bZ,{})})}),a.jsx(Me,{path:"/email-templates",element:a.jsx(We,{children:a.jsx(jZ,{})})}),a.jsx(Me,{path:"/settings/terms-conditions",element:a.jsx(We,{children:a.jsx(wZ,{})})}),a.jsx(Me,{path:"/settings/policies",element:a.jsx(We,{children:a.jsx(NZ,{})})}),a.jsx(Me,{path:"/settings/account-details",element:a.jsx(We,{children:a.jsx(SZ,{})})}),a.jsx(Me,{path:"/settings/logo",element:a.jsx(We,{children:a.jsx(kZ,{})})}),a.jsx(Me,{path:"/masters/suppliers",element:a.jsx(We,{children:a.jsx(_Z,{})})}),a.jsx(Me,{path:"/masters/hotel",element:a.jsx(We,{children:a.jsx(PZ,{})})}),a.jsx(Me,{path:"/masters/activity",element:a.jsx(We,{children:a.jsx(CZ,{})})}),a.jsx(Me,{path:"/masters/transfer",element:a.jsx(We,{children:a.jsx(OZ,{})})}),a.jsx(Me,{path:"/masters/day-itinerary",element:a.jsx(We,{children:a.jsx(EZ,{})})}),a.jsx(Me,{path:"/masters/destinations",element:a.jsx(We,{children:a.jsx(MZ,{})})}),a.jsx(Me,{path:"/masters/room-type",element:a.jsx(We,{children:a.jsx($Z,{})})}),a.jsx(Me,{path:"/masters/meal-plan",element:a.jsx(We,{children:a.jsx(LZ,{})})}),a.jsx(Me,{path:"/masters/lead-source",element:a.jsx(We,{children:a.jsx(RZ,{})})}),a.jsx(Me,{path:"/masters/expense-type",element:a.jsx(We,{children:a.jsx(FZ,{})})}),a.jsx(Me,{path:"/masters/package-theme",element:a.jsx(We,{children:a.jsx(zZ,{})})}),a.jsx(Me,{path:"/masters/currency",element:a.jsx(We,{children:a.jsx(BZ,{})})}),a.jsx(Me,{path:"/super-admin",element:a.jsx(bu,{children:a.jsx(aZ,{})})}),a.jsx(Me,{path:"/super-admin/companies",element:a.jsx(bu,{children:a.jsx(sZ,{})})}),a.jsx(Me,{path:"/super-admin/subscriptions",element:a.jsx(bu,{children:a.jsx(iZ,{})})}),a.jsx(Me,{path:"/super-admin/permissions",element:a.jsx(bu,{children:a.jsx(lZ,{})})}),a.jsx(Me,{path:"/",element:a.jsx(ll,{to:"/dashboard",replace:!0})})]})};function HZ(){return a.jsx(NT,{children:a.jsx(sI,{children:a.jsx(iI,{children:a.jsx(UZ,{})})})})}j5(document.getElementById("root")).render(a.jsx(f.StrictMode,{children:a.jsx(HZ,{})}));
